(window.webpackJsonp=window.webpackJsonp||[]).push([[1],{"/o+h":function(e,t,n){"use strict";function r(e){return(r=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function i(e,t,n){return(i="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var i=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=r(e)););return e}(e,t);if(i){var o=Object.getOwnPropertyDescriptor(i,t);return o.get?o.get.call(n):o.value}})(e,t,n||e)}function o(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function a(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function s(e,t){if(e){if("string"==typeof e)return a(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?a(e,t):void 0}}function u(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e)){var n=[],r=!0,i=!1,o=void 0;try{for(var a,s=e[Symbol.iterator]();!(r=(a=s.next()).done)&&(n.push(a.value),!t||n.length!==t);r=!0);}catch(u){i=!0,o=u}finally{try{r||null==s.return||s.return()}finally{if(i)throw o}}return n}}(e,t)||s(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function c(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function l(e,t){var n;if("undefined"==typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(n=s(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,i=function(){};return{s:i,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,a=!0,u=!1;return{s:function(){n=e[Symbol.iterator]()},n:function(){var e=n.next();return a=e.done,e},e:function(e){u=!0,o=e},f:function(){try{a||null==n.return||n.return()}finally{if(u)throw o}}}}function d(e){return function(e){if(Array.isArray(e))return a(e)}(e)||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||s(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function h(e,t){return(h=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function f(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}function p(e,t,n){return(p=f()?Reflect.construct:function(e,t,n){var r=[null];r.push.apply(r,t);var i=new(Function.bind.apply(e,r));return n&&h(i,n.prototype),i}).apply(null,arguments)}function v(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function m(e,t,n){return t&&v(e.prototype,t),n&&v(e,n),e}function g(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function y(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&h(e,t)}function b(e){return(b="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function w(e,t){return!t||"object"!==b(t)&&"function"!=typeof t?o(e):t}function x(e){var t=f();return function(){var n,i=r(e);if(t){var o=r(this).constructor;n=Reflect.construct(i,arguments,o)}else n=i.apply(this,arguments);return w(this,n)}}function k(e){var t="function"==typeof Map?new Map:void 0;return(k=function(e){if(null===e||-1===Function.toString.call(e).indexOf("[native code]"))return e;if("function"!=typeof e)throw new TypeError("Super expression must either be null or a function");if(void 0!==t){if(t.has(e))return t.get(e);t.set(e,n)}function n(){return p(e,arguments,r(this).constructor)}return n.prototype=Object.create(e.prototype,{constructor:{value:n,enumerable:!1,writable:!0,configurable:!0}}),h(n,e)})(e)}n.r(t);var _=function(){return Array.isArray||function(e){return e&&"number"==typeof e.length}}();function C(e){return null!==e&&"object"==typeof e}function S(e){return"function"==typeof e}var I=function(){function e(e){return Error.call(this),this.message=e?"".concat(e.length," errors occurred during unsubscription:\n").concat(e.map(function(e,t){return"".concat(t+1,") ").concat(e.toString())}).join("\n  ")):"",this.name="UnsubscriptionError",this.errors=e,this}return e.prototype=Object.create(Error.prototype),e}(),T=function(){var e=function(){function e(t){g(this,e),this.closed=!1,this._parentOrParents=null,this._subscriptions=null,t&&(this._ctorUnsubscribe=!0,this._unsubscribe=t)}return m(e,[{key:"unsubscribe",value:function(){var t;if(!this.closed){var n=this._parentOrParents,r=this._ctorUnsubscribe,i=this._unsubscribe,o=this._subscriptions;if(this.closed=!0,this._parentOrParents=null,this._subscriptions=null,n instanceof e)n.remove(this);else if(null!==n)for(var a=0;a<n.length;++a)n[a].remove(this);if(S(i)){r&&(this._unsubscribe=void 0);try{i.call(this)}catch(l){t=l instanceof I?A(l.errors):[l]}}if(_(o))for(var s=-1,u=o.length;++s<u;){var c=o[s];if(C(c))try{c.unsubscribe()}catch(l){t=t||[],l instanceof I?t=t.concat(A(l.errors)):t.push(l)}}if(t)throw new I(t)}}},{key:"add",value:function(t){var n=t;if(!t)return e.EMPTY;switch(typeof t){case"function":n=new e(t);case"object":if(n===this||n.closed||"function"!=typeof n.unsubscribe)return n;if(this.closed)return n.unsubscribe(),n;if(!(n instanceof e)){var r=n;(n=new e)._subscriptions=[r]}break;default:throw new Error("unrecognized teardown "+t+" added to Subscription.")}var i=n._parentOrParents;if(null===i)n._parentOrParents=this;else if(i instanceof e){if(i===this)return n;n._parentOrParents=[i,this]}else{if(-1!==i.indexOf(this))return n;i.push(this)}var o=this._subscriptions;return null===o?this._subscriptions=[n]:o.push(n),n}},{key:"remove",value:function(e){var t=this._subscriptions;if(t){var n=t.indexOf(e);-1!==n&&t.splice(n,1)}}}]),e}();return e.EMPTY=function(e){return e.closed=!0,e}(new e),e}();function A(e){return e.reduce(function(e,t){return e.concat(t instanceof I?t.errors:t)},[])}var E=!1,O={Promise:void 0,set useDeprecatedSynchronousErrorHandling(e){if(e){var t=new Error;console.warn("DEPRECATED! RxJS was set to use deprecated synchronous error handling behavior by code at: \n"+t.stack)}else E&&console.log("RxJS: Back to a better error behavior. Thank you. <3");E=e},get useDeprecatedSynchronousErrorHandling(){return E}};function M(e){setTimeout(function(){throw e},0)}var D={closed:!0,next:function(e){},error:function(e){if(O.useDeprecatedSynchronousErrorHandling)throw e;M(e)},complete:function(){}},R=function(){return"function"==typeof Symbol?Symbol("rxSubscriber"):"@@rxSubscriber_"+Math.random()}(),P=function(e){y(n,e);var t=x(n);function n(e,r,i){var a;switch(g(this,n),(a=t.call(this)).syncErrorValue=null,a.syncErrorThrown=!1,a.syncErrorThrowable=!1,a.isStopped=!1,arguments.length){case 0:a.destination=D;break;case 1:if(!e){a.destination=D;break}if("object"==typeof e){e instanceof n?(a.syncErrorThrowable=e.syncErrorThrowable,a.destination=e,e.add(o(a))):(a.syncErrorThrowable=!0,a.destination=new V(o(a),e));break}default:a.syncErrorThrowable=!0,a.destination=new V(o(a),e,r,i)}return a}return m(n,[{key:R,value:function(){return this}},{key:"next",value:function(e){this.isStopped||this._next(e)}},{key:"error",value:function(e){this.isStopped||(this.isStopped=!0,this._error(e))}},{key:"complete",value:function(){this.isStopped||(this.isStopped=!0,this._complete())}},{key:"unsubscribe",value:function(){this.closed||(this.isStopped=!0,i(r(n.prototype),"unsubscribe",this).call(this))}},{key:"_next",value:function(e){this.destination.next(e)}},{key:"_error",value:function(e){this.destination.error(e),this.unsubscribe()}},{key:"_complete",value:function(){this.destination.complete(),this.unsubscribe()}},{key:"_unsubscribeAndRecycle",value:function(){var e=this._parentOrParents;return this._parentOrParents=null,this.unsubscribe(),this.closed=!1,this.isStopped=!1,this._parentOrParents=e,this}}],[{key:"create",value:function(e,t,r){var i=new n(e,t,r);return i.syncErrorThrowable=!1,i}}]),n}(T),V=function(e){y(n,e);var t=x(n);function n(e,r,i,a){var s,u;g(this,n),(s=t.call(this))._parentSubscriber=e;var c=o(s);return S(r)?u=r:r&&(u=r.next,i=r.error,a=r.complete,r!==D&&(S((c=Object.create(r)).unsubscribe)&&s.add(c.unsubscribe.bind(c)),c.unsubscribe=s.unsubscribe.bind(o(s)))),s._context=c,s._next=u,s._error=i,s._complete=a,s}return m(n,[{key:"next",value:function(e){if(!this.isStopped&&this._next){var t=this._parentSubscriber;O.useDeprecatedSynchronousErrorHandling&&t.syncErrorThrowable?this.__tryOrSetError(t,this._next,e)&&this.unsubscribe():this.__tryOrUnsub(this._next,e)}}},{key:"error",value:function(e){if(!this.isStopped){var t=this._parentSubscriber,n=O.useDeprecatedSynchronousErrorHandling;if(this._error)n&&t.syncErrorThrowable?(this.__tryOrSetError(t,this._error,e),this.unsubscribe()):(this.__tryOrUnsub(this._error,e),this.unsubscribe());else if(t.syncErrorThrowable)n?(t.syncErrorValue=e,t.syncErrorThrown=!0):M(e),this.unsubscribe();else{if(this.unsubscribe(),n)throw e;M(e)}}}},{key:"complete",value:function(){var e=this;if(!this.isStopped){var t=this._parentSubscriber;if(this._complete){var n=function(){return e._complete.call(e._context)};O.useDeprecatedSynchronousErrorHandling&&t.syncErrorThrowable?(this.__tryOrSetError(t,n),this.unsubscribe()):(this.__tryOrUnsub(n),this.unsubscribe())}else this.unsubscribe()}}},{key:"__tryOrUnsub",value:function(e,t){try{e.call(this._context,t)}catch(n){if(this.unsubscribe(),O.useDeprecatedSynchronousErrorHandling)throw n;M(n)}}},{key:"__tryOrSetError",value:function(e,t,n){if(!O.useDeprecatedSynchronousErrorHandling)throw new Error("bad call");try{t.call(this._context,n)}catch(r){return O.useDeprecatedSynchronousErrorHandling?(e.syncErrorValue=r,e.syncErrorThrown=!0,!0):(M(r),!0)}return!1}},{key:"_unsubscribe",value:function(){var e=this._parentSubscriber;this._context=null,this._parentSubscriber=null,e.unsubscribe()}}]),n}(P),N=function(){return"function"==typeof Symbol&&Symbol.observable||"@@observable"}();function j(e){return e}function z(e){return 0===e.length?j:1===e.length?e[0]:function(t){return e.reduce(function(e,t){return t(e)},t)}}var L=function(){var e=function(){function e(t){g(this,e),this._isScalar=!1,t&&(this._subscribe=t)}return m(e,[{key:"lift",value:function(t){var n=new e;return n.source=this,n.operator=t,n}},{key:"subscribe",value:function(e,t,n){var r=this.operator,i=function(e,t,n){if(e){if(e instanceof P)return e;if(e[R])return e[R]()}return e||t||n?new P(e,t,n):new P(D)}(e,t,n);if(i.add(r?r.call(i,this.source):this.source||O.useDeprecatedSynchronousErrorHandling&&!i.syncErrorThrowable?this._subscribe(i):this._trySubscribe(i)),O.useDeprecatedSynchronousErrorHandling&&i.syncErrorThrowable&&(i.syncErrorThrowable=!1,i.syncErrorThrown))throw i.syncErrorValue;return i}},{key:"_trySubscribe",value:function(e){try{return this._subscribe(e)}catch(t){O.useDeprecatedSynchronousErrorHandling&&(e.syncErrorThrown=!0,e.syncErrorValue=t),function(e){for(;e;){var t=e.destination;if(e.closed||e.isStopped)return!1;e=t&&t instanceof P?t:null}return!0}(e)?e.error(t):console.warn(t)}}},{key:"forEach",value:function(e,t){var n=this;return new(t=F(t))(function(t,r){var i;i=n.subscribe(function(t){try{e(t)}catch(n){r(n),i&&i.unsubscribe()}},r,t)})}},{key:"_subscribe",value:function(e){var t=this.source;return t&&t.subscribe(e)}},{key:N,value:function(){return this}},{key:"pipe",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return 0===t.length?this:z(t)(this)}},{key:"toPromise",value:function(e){var t=this;return new(e=F(e))(function(e,n){var r;t.subscribe(function(e){return r=e},function(e){return n(e)},function(){return e(r)})})}}]),e}();return e.create=function(t){return new e(t)},e}();function F(e){if(e||(e=O.Promise||Promise),!e)throw new Error("no Promise impl found");return e}var U=function(){function e(){return Error.call(this),this.message="object unsubscribed",this.name="ObjectUnsubscribedError",this}return e.prototype=Object.create(Error.prototype),e}(),B=function(e){y(n,e);var t=x(n);function n(e,r){var i;return g(this,n),(i=t.call(this)).subject=e,i.subscriber=r,i.closed=!1,i}return m(n,[{key:"unsubscribe",value:function(){if(!this.closed){this.closed=!0;var e=this.subject,t=e.observers;if(this.subject=null,t&&0!==t.length&&!e.isStopped&&!e.closed){var n=t.indexOf(this.subscriber);-1!==n&&t.splice(n,1)}}}}]),n}(T),H=function(e){y(n,e);var t=x(n);function n(e){var r;return g(this,n),(r=t.call(this,e)).destination=e,r}return n}(P),$=function(){var e=function(e){y(n,e);var t=x(n);function n(){var e;return g(this,n),(e=t.call(this)).observers=[],e.closed=!1,e.isStopped=!1,e.hasError=!1,e.thrownError=null,e}return m(n,[{key:R,value:function(){return new H(this)}},{key:"lift",value:function(e){var t=new q(this,this);return t.operator=e,t}},{key:"next",value:function(e){if(this.closed)throw new U;if(!this.isStopped)for(var t=this.observers,n=t.length,r=t.slice(),i=0;i<n;i++)r[i].next(e)}},{key:"error",value:function(e){if(this.closed)throw new U;this.hasError=!0,this.thrownError=e,this.isStopped=!0;for(var t=this.observers,n=t.length,r=t.slice(),i=0;i<n;i++)r[i].error(e);this.observers.length=0}},{key:"complete",value:function(){if(this.closed)throw new U;this.isStopped=!0;for(var e=this.observers,t=e.length,n=e.slice(),r=0;r<t;r++)n[r].complete();this.observers.length=0}},{key:"unsubscribe",value:function(){this.isStopped=!0,this.closed=!0,this.observers=null}},{key:"_trySubscribe",value:function(e){if(this.closed)throw new U;return i(r(n.prototype),"_trySubscribe",this).call(this,e)}},{key:"_subscribe",value:function(e){if(this.closed)throw new U;return this.hasError?(e.error(this.thrownError),T.EMPTY):this.isStopped?(e.complete(),T.EMPTY):(this.observers.push(e),new B(this,e))}},{key:"asObservable",value:function(){var e=new L;return e.source=this,e}}]),n}(L);return e.create=function(e,t){return new q(e,t)},e}(),q=function(e){y(n,e);var t=x(n);function n(e,r){var i;return g(this,n),(i=t.call(this)).destination=e,i.source=r,i}return m(n,[{key:"next",value:function(e){var t=this.destination;t&&t.next&&t.next(e)}},{key:"error",value:function(e){var t=this.destination;t&&t.error&&this.destination.error(e)}},{key:"complete",value:function(){var e=this.destination;e&&e.complete&&this.destination.complete()}},{key:"_subscribe",value:function(e){return this.source?this.source.subscribe(e):T.EMPTY}}]),n}($);function W(e){return e&&"function"==typeof e.schedule}function G(e,t){return function(n){if("function"!=typeof e)throw new TypeError("argument is not a function. Are you looking for `mapTo()`?");return n.lift(new X(e,t))}}var X=function(){function e(t,n){g(this,e),this.project=t,this.thisArg=n}return m(e,[{key:"call",value:function(e,t){return t.subscribe(new Z(e,this.project,this.thisArg))}}]),e}(),Z=function(e){y(n,e);var t=x(n);function n(e,r,i){var a;return g(this,n),(a=t.call(this,e)).project=r,a.count=0,a.thisArg=i||o(a),a}return m(n,[{key:"_next",value:function(e){var t;try{t=this.project.call(this.thisArg,e,this.count++)}catch(n){return void this.destination.error(n)}this.destination.next(t)}}]),n}(P),Q=function(e){return function(t){for(var n=0,r=e.length;n<r&&!t.closed;n++)t.next(e[n]);t.complete()}};function K(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}var Y=K(),J=function(e){return e&&"number"==typeof e.length&&"function"!=typeof e};function ee(e){return!!e&&"function"!=typeof e.subscribe&&"function"==typeof e.then}var te=function(e){if(e&&"function"==typeof e[N])return r=e,function(e){var t=r[N]();if("function"!=typeof t.subscribe)throw new TypeError("Provided object does not correctly implement Symbol.observable");return t.subscribe(e)};if(J(e))return Q(e);if(ee(e))return n=e,function(e){return n.then(function(t){e.closed||(e.next(t),e.complete())},function(t){return e.error(t)}).then(null,M),e};if(e&&"function"==typeof e[Y])return t=e,function(e){for(var n=t[Y]();;){var r=void 0;try{r=n.next()}catch(i){return e.error(i),e}if(r.done){e.complete();break}if(e.next(r.value),e.closed)break}return"function"==typeof n.return&&e.add(function(){n.return&&n.return()}),e};var t,n,r,i=C(e)?"an invalid object":"'".concat(e,"'"),o="You provided ".concat(i," where a stream was expected.")+" You can provide an Observable, Promise, Array, or Iterable.";throw new TypeError(o)};function ne(e,t){return new L(function(n){var r=new T,i=0;return r.add(t.schedule(function(){i!==e.length?(n.next(e[i++]),n.closed||r.add(this.schedule())):n.complete()})),r})}function re(e,t){return t?function(e,t){if(null!=e){if(function(e){return e&&"function"==typeof e[N]}(e))return function(e,t){return new L(function(n){var r=new T;return r.add(t.schedule(function(){var i=e[N]();r.add(i.subscribe({next:function(e){r.add(t.schedule(function(){return n.next(e)}))},error:function(e){r.add(t.schedule(function(){return n.error(e)}))},complete:function(){r.add(t.schedule(function(){return n.complete()}))}}))})),r})}(e,t);if(ee(e))return function(e,t){return new L(function(n){var r=new T;return r.add(t.schedule(function(){return e.then(function(e){r.add(t.schedule(function(){n.next(e),r.add(t.schedule(function(){return n.complete()}))}))},function(e){r.add(t.schedule(function(){return n.error(e)}))})})),r})}(e,t);if(J(e))return ne(e,t);if(function(e){return e&&"function"==typeof e[Y]}(e)||"string"==typeof e)return function(e,t){if(!e)throw new Error("Iterable cannot be null");return new L(function(n){var r,i=new T;return i.add(function(){r&&"function"==typeof r.return&&r.return()}),i.add(t.schedule(function(){r=e[Y](),i.add(t.schedule(function(){if(!n.closed){var e,t;try{var i=r.next();e=i.value,t=i.done}catch(o){return void n.error(o)}t?n.complete():(n.next(e),this.schedule())}}))})),i})}(e,t)}throw new TypeError((null!==e&&typeof e||e)+" is not observable")}(e,t):e instanceof L?e:new L(te(e))}var ie=function(e){y(n,e);var t=x(n);function n(e){var r;return g(this,n),(r=t.call(this)).parent=e,r}return m(n,[{key:"_next",value:function(e){this.parent.notifyNext(e)}},{key:"_error",value:function(e){this.parent.notifyError(e),this.unsubscribe()}},{key:"_complete",value:function(){this.parent.notifyComplete(),this.unsubscribe()}}]),n}(P),oe=function(e){y(n,e);var t=x(n);function n(){return g(this,n),t.apply(this,arguments)}return m(n,[{key:"notifyNext",value:function(e){this.destination.next(e)}},{key:"notifyError",value:function(e){this.destination.error(e)}},{key:"notifyComplete",value:function(){this.destination.complete()}}]),n}(P);function ae(e,t){if(!t.closed)return e instanceof L?e.subscribe(t):te(e)(t)}function se(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Number.POSITIVE_INFINITY;return"function"==typeof t?function(r){return r.pipe(se(function(n,r){return re(e(n,r)).pipe(G(function(e,i){return t(n,e,r,i)}))},n))}:("number"==typeof t&&(n=t),function(t){return t.lift(new ue(e,n))})}var ue=function(){function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Number.POSITIVE_INFINITY;g(this,e),this.project=t,this.concurrent=n}return m(e,[{key:"call",value:function(e,t){return t.subscribe(new ce(e,this.project,this.concurrent))}}]),e}(),ce=function(e){y(n,e);var t=x(n);function n(e,r){var i,o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Number.POSITIVE_INFINITY;return g(this,n),(i=t.call(this,e)).project=r,i.concurrent=o,i.hasCompleted=!1,i.buffer=[],i.active=0,i.index=0,i}return m(n,[{key:"_next",value:function(e){this.active<this.concurrent?this._tryNext(e):this.buffer.push(e)}},{key:"_tryNext",value:function(e){var t,n=this.index++;try{t=this.project(e,n)}catch(r){return void this.destination.error(r)}this.active++,this._innerSub(t)}},{key:"_innerSub",value:function(e){var t=new ie(this),n=this.destination;n.add(t);var r=ae(e,t);r!==t&&n.add(r)}},{key:"_complete",value:function(){this.hasCompleted=!0,0===this.active&&0===this.buffer.length&&this.destination.complete(),this.unsubscribe()}},{key:"notifyNext",value:function(e){this.destination.next(e)}},{key:"notifyComplete",value:function(){var e=this.buffer;this.active--,e.length>0?this._next(e.shift()):0===this.active&&this.hasCompleted&&this.destination.complete()}}]),n}(oe);function le(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Number.POSITIVE_INFINITY;return se(j,e)}function de(e,t){return t?ne(e,t):new L(Q(e))}function he(){for(var e=Number.POSITIVE_INFINITY,t=null,n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];var o=r[r.length-1];return W(o)?(t=r.pop(),r.length>1&&"number"==typeof r[r.length-1]&&(e=r.pop())):"number"==typeof o&&(e=r.pop()),null===t&&1===r.length&&r[0]instanceof L?r[0]:le(e)(de(r,t))}function fe(){return function(e){return e.lift(new pe(e))}}var pe=function(){function e(t){g(this,e),this.connectable=t}return m(e,[{key:"call",value:function(e,t){var n=this.connectable;n._refCount++;var r=new ve(e,n),i=t.subscribe(r);return r.closed||(r.connection=n.connect()),i}}]),e}(),ve=function(e){y(n,e);var t=x(n);function n(e,r){var i;return g(this,n),(i=t.call(this,e)).connectable=r,i}return m(n,[{key:"_unsubscribe",value:function(){var e=this.connectable;if(e){this.connectable=null;var t=e._refCount;if(t<=0)this.connection=null;else if(e._refCount=t-1,t>1)this.connection=null;else{var n=this.connection,r=e._connection;this.connection=null,!r||n&&r!==n||r.unsubscribe()}}else this.connection=null}}]),n}(P),me=function(e){y(n,e);var t=x(n);function n(e,r){var i;return g(this,n),(i=t.call(this)).source=e,i.subjectFactory=r,i._refCount=0,i._isComplete=!1,i}return m(n,[{key:"_subscribe",value:function(e){return this.getSubject().subscribe(e)}},{key:"getSubject",value:function(){var e=this._subject;return e&&!e.isStopped||(this._subject=this.subjectFactory()),this._subject}},{key:"connect",value:function(){var e=this._connection;return e||(this._isComplete=!1,(e=this._connection=new T).add(this.source.subscribe(new ye(this.getSubject(),this))),e.closed&&(this._connection=null,e=T.EMPTY)),e}},{key:"refCount",value:function(){return fe()(this)}}]),n}(L),ge=function(){var e=me.prototype;return{operator:{value:null},_refCount:{value:0,writable:!0},_subject:{value:null,writable:!0},_connection:{value:null,writable:!0},_subscribe:{value:e._subscribe},_isComplete:{value:e._isComplete,writable:!0},getSubject:{value:e.getSubject},connect:{value:e.connect},refCount:{value:e.refCount}}}(),ye=function(e){y(n,e);var t=x(n);function n(e,r){var i;return g(this,n),(i=t.call(this,e)).connectable=r,i}return m(n,[{key:"_error",value:function(e){this._unsubscribe(),i(r(n.prototype),"_error",this).call(this,e)}},{key:"_complete",value:function(){this.connectable._isComplete=!0,this._unsubscribe(),i(r(n.prototype),"_complete",this).call(this)}},{key:"_unsubscribe",value:function(){var e=this.connectable;if(e){this.connectable=null;var t=e._connection;e._refCount=0,e._subject=null,e._connection=null,t&&t.unsubscribe()}}}]),n}(H);function be(){return new $}function we(e){for(var t in e)if(e[t]===we)return t;throw Error("Could not find renamed property on target object.")}function xe(e,t){for(var n in t)t.hasOwnProperty(n)&&!e.hasOwnProperty(n)&&(e[n]=t[n])}function ke(e){if("string"==typeof e)return e;if(Array.isArray(e))return"["+e.map(ke).join(", ")+"]";if(null==e)return""+e;if(e.overriddenName)return"".concat(e.overriddenName);if(e.name)return"".concat(e.name);var t=e.toString();if(null==t)return""+t;var n=t.indexOf("\n");return-1===n?t:t.substring(0,n)}function _e(e,t){return null==e||""===e?null===t?"":t:null==t||""===t?e:e+" "+t}var Ce=we({__forward_ref__:we});function Se(e){return e.__forward_ref__=Se,e.toString=function(){return ke(this())},e}function Ie(e){return Te(e)?e():e}function Te(e){return"function"==typeof e&&e.hasOwnProperty(Ce)&&e.__forward_ref__===Se}function Ae(e){return{token:e.token,providedIn:e.providedIn||null,factory:e.factory,value:void 0}}function Ee(e){return{factory:e.factory,providers:e.providers||[],imports:e.imports||[]}}function Oe(e){return Me(e,Pe)||Me(e,Ne)}function Me(e,t){return e.hasOwnProperty(t)?e[t]:null}function De(e){return e&&(e.hasOwnProperty(Ve)||e.hasOwnProperty(je))?e[Ve]:null}var Re,Pe=we({"\u0275prov":we}),Ve=we({"\u0275inj":we}),Ne=we({ngInjectableDef:we}),je=we({ngInjectorDef:we}),ze=function(e){return e[e.Default=0]="Default",e[e.Host=1]="Host",e[e.Self=2]="Self",e[e.SkipSelf=4]="SkipSelf",e[e.Optional=8]="Optional",e}({});function Le(){return Re}function Fe(e){var t=Re;return Re=e,t}function Ue(e,t,n){var r=Oe(e);if(r&&"root"==r.providedIn)return void 0===r.value?r.value=r.factory():r.value;if(n&ze.Optional)return null;if(void 0!==t)return t;throw new Error("Injector: NOT_FOUND [".concat(ke(e),"]"))}function Be(e){return{toString:e}.toString()}var He=function(e){return e[e.OnPush=0]="OnPush",e[e.Default=1]="Default",e}({}),$e=function(e){return e[e.Emulated=0]="Emulated",e[e.None=2]="None",e[e.ShadowDom=3]="ShadowDom",e}({}),qe="undefined"!=typeof globalThis&&globalThis,We="undefined"!=typeof window&&window,Ge="undefined"!=typeof self&&"undefined"!=typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope&&self,Xe="undefined"!=typeof global&&global,Ze=qe||Xe||We||Ge,Qe={},Ke=[],Ye=we({"\u0275cmp":we}),Je=we({"\u0275dir":we}),et=we({"\u0275pipe":we}),tt=we({"\u0275mod":we}),nt=we({"\u0275loc":we}),rt=we({"\u0275fac":we}),it=we({__NG_ELEMENT_ID__:we}),ot=0;function at(e){return Be(function(){var t={},n={type:e.type,providersResolver:null,decls:e.decls,vars:e.vars,factory:null,template:e.template||null,consts:e.consts||null,ngContentSelectors:e.ngContentSelectors,hostBindings:e.hostBindings||null,hostVars:e.hostVars||0,hostAttrs:e.hostAttrs||null,contentQueries:e.contentQueries||null,declaredInputs:t,inputs:null,outputs:null,exportAs:e.exportAs||null,onPush:e.changeDetection===He.OnPush,directiveDefs:null,pipeDefs:null,selectors:e.selectors||Ke,viewQuery:e.viewQuery||null,features:e.features||null,data:e.data||{},encapsulation:e.encapsulation||$e.Emulated,id:"c",styles:e.styles||Ke,_:null,setInput:null,schemas:e.schemas||null,tView:null},r=e.directives,i=e.features,o=e.pipes;return n.id+=ot++,n.inputs=dt(e.inputs,t),n.outputs=dt(e.outputs),i&&i.forEach(function(e){return e(n)}),n.directiveDefs=r?function(){return("function"==typeof r?r():r).map(st)}:null,n.pipeDefs=o?function(){return("function"==typeof o?o():o).map(ut)}:null,n})}function st(e){return pt(e)||function(e){return e[Je]||null}(e)}function ut(e){return function(e){return e[et]||null}(e)}var ct={};function lt(e){var t={type:e.type,bootstrap:e.bootstrap||Ke,declarations:e.declarations||Ke,imports:e.imports||Ke,exports:e.exports||Ke,transitiveCompileScopes:null,schemas:e.schemas||null,id:e.id||null};return null!=e.id&&Be(function(){ct[e.id]=e.type}),t}function dt(e,t){if(null==e)return Qe;var n={};for(var r in e)if(e.hasOwnProperty(r)){var i=e[r],o=i;Array.isArray(i)&&(o=i[1],i=i[0]),n[i]=r,t&&(t[i]=o)}return n}var ht=at;function ft(e){return{type:e.type,name:e.name,factory:null,pure:!1!==e.pure,onDestroy:e.type.prototype.ngOnDestroy||null}}function pt(e){return e[Ye]||null}function vt(e,t){var n=e[tt]||null;if(!n&&!0===t)throw new Error("Type ".concat(ke(e)," does not have '\u0275mod' property."));return n}var mt=20,gt=10;function yt(e){return Array.isArray(e)&&"object"==typeof e[1]}function bt(e){return Array.isArray(e)&&!0===e[1]}function wt(e){return 0!=(8&e.flags)}function xt(e){return 2==(2&e.flags)}function kt(e){return 1==(1&e.flags)}function _t(e){return null!==e.template}function Ct(e,t){return e.hasOwnProperty(rt)?e[rt]:null}var St=function(e){y(n,e);var t=x(n);function n(e,r){var i;return g(this,n),(i=t.call(this,function(e,t){var n=e?"NG0".concat(e,": "):"";return"".concat(n).concat(t)}(e,r))).code=e,i}return n}(k(Error));function It(e){return"string"==typeof e?e:null==e?"":String(e)}function Tt(e){return"function"==typeof e?e.name||e.toString():"object"==typeof e&&null!=e&&"function"==typeof e.type?e.type.name||e.type.toString():It(e)}function At(e,t){var n=t?" in ".concat(t):"";throw new St("201","No provider for ".concat(Tt(e)," found").concat(n))}var Et=function(){function e(t,n,r){g(this,e),this.previousValue=t,this.currentValue=n,this.firstChange=r}return m(e,[{key:"isFirstChange",value:function(){return this.firstChange}}]),e}();function Ot(){return Mt}function Mt(e){return e.type.prototype.ngOnChanges&&(e.setInput=Rt),Dt}function Dt(){var e=Pt(this),t=null==e?void 0:e.current;if(t){var n=e.previous;if(n===Qe)e.previous=t;else for(var r in t)n[r]=t[r];e.current=null,this.ngOnChanges(t)}}function Rt(e,t,n,r){var i=Pt(e)||function(e,t){return e.__ngSimpleChanges__=t}(e,{previous:Qe,current:null}),o=i.current||(i.current={}),a=i.previous,s=this.declaredInputs[n],u=a[s];o[s]=new Et(u&&u.currentValue,t,a===Qe),e[r]=t}function Pt(e){return e.__ngSimpleChanges__||null}Ot.ngInherit=!0;var Vt="http://www.w3.org/2000/svg",Nt=void 0;function jt(e){return!!e.listen}var zt={createRenderer:function(e,t){return void 0!==Nt?Nt:"undefined"!=typeof document?document:void 0}};function Lt(e){for(;Array.isArray(e);)e=e[0];return e}function Ft(e,t){return Lt(t[e])}function Ut(e,t){return Lt(t[e.index])}function Bt(e,t){return e.data[t]}function Ht(e,t){return e[t]}function $t(e,t){var n=t[e];return yt(n)?n:n[0]}function qt(e){var t=function(e){return e.__ngContext__||null}(e);return t?Array.isArray(t)?t:t.lView:null}function Wt(e){return 4==(4&e[2])}function Gt(e){return 128==(128&e[2])}function Xt(e,t){return null==t?null:e[t]}function Zt(e){e[18]=0}function Qt(e,t){e[5]+=t;for(var n=e,r=e[3];null!==r&&(1===t&&1===n[5]||-1===t&&0===n[5]);)r[5]+=t,n=r,r=r[3]}var Kt={lFrame:xn(null),bindingsEnabled:!0,isInCheckNoChangesMode:!1};function Yt(){return Kt.bindingsEnabled}function Jt(){return Kt.lFrame.lView}function en(){return Kt.lFrame.tView}function tn(e){Kt.lFrame.contextLView=e}function nn(){for(var e=rn();null!==e&&64===e.type;)e=e.parent;return e}function rn(){return Kt.lFrame.currentTNode}function on(e,t){var n=Kt.lFrame;n.currentTNode=e,n.isParent=t}function an(){return Kt.lFrame.isParent}function sn(){Kt.lFrame.isParent=!1}function un(){return Kt.isInCheckNoChangesMode}function cn(e){Kt.isInCheckNoChangesMode=e}function ln(){var e=Kt.lFrame,t=e.bindingRootIndex;return-1===t&&(t=e.bindingRootIndex=e.tView.bindingStartIndex),t}function dn(){return Kt.lFrame.bindingIndex}function hn(){return Kt.lFrame.bindingIndex++}function fn(e){var t=Kt.lFrame,n=t.bindingIndex;return t.bindingIndex=t.bindingIndex+e,n}function pn(e){Kt.lFrame.currentDirectiveIndex=e}function vn(){return Kt.lFrame.currentQueryIndex}function mn(e){Kt.lFrame.currentQueryIndex=e}function gn(e){var t=e[1];return 2===t.type?t.declTNode:1===t.type?e[6]:null}function yn(e,t,n){if(n&ze.SkipSelf){for(var r=t,i=e;!(null!==(r=r.parent)||n&ze.Host||null===(r=gn(i))||(i=i[15],10&r.type)););if(null===r)return!1;t=r,e=i}var o=Kt.lFrame=wn();return o.currentTNode=t,o.lView=e,!0}function bn(e){var t=wn(),n=e[1];Kt.lFrame=t,t.currentTNode=n.firstChild,t.lView=e,t.tView=n,t.contextLView=e,t.bindingIndex=n.bindingStartIndex,t.inI18n=!1}function wn(){var e=Kt.lFrame,t=null===e?null:e.child;return null===t?xn(e):t}function xn(e){var t={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:e,child:null,inI18n:!1};return null!==e&&(e.child=t),t}function kn(){var e=Kt.lFrame;return Kt.lFrame=e.parent,e.currentTNode=null,e.lView=null,e}var _n=kn;function Cn(){var e=kn();e.isParent=!0,e.tView=null,e.selectedIndex=-1,e.contextLView=null,e.elementDepthCount=0,e.currentDirectiveIndex=-1,e.currentNamespace=null,e.bindingRootIndex=-1,e.bindingIndex=-1,e.currentQueryIndex=0}function Sn(e){return(Kt.lFrame.contextLView=function(e,t){for(;e>0;)t=t[15],e--;return t}(e,Kt.lFrame.contextLView))[8]}function In(){return Kt.lFrame.selectedIndex}function Tn(e){Kt.lFrame.selectedIndex=e}function An(){var e=Kt.lFrame;return Bt(e.tView,e.selectedIndex)}function En(e,t){for(var n=t.directiveStart,r=t.directiveEnd;n<r;n++){var i=e.data[n].type.prototype,o=i.ngAfterContentInit,a=i.ngAfterContentChecked,s=i.ngAfterViewInit,u=i.ngAfterViewChecked,c=i.ngOnDestroy;o&&(e.contentHooks||(e.contentHooks=[])).push(-n,o),a&&((e.contentHooks||(e.contentHooks=[])).push(n,a),(e.contentCheckHooks||(e.contentCheckHooks=[])).push(n,a)),s&&(e.viewHooks||(e.viewHooks=[])).push(-n,s),u&&((e.viewHooks||(e.viewHooks=[])).push(n,u),(e.viewCheckHooks||(e.viewCheckHooks=[])).push(n,u)),null!=c&&(e.destroyHooks||(e.destroyHooks=[])).push(n,c)}}function On(e,t,n){Rn(e,t,3,n)}function Mn(e,t,n,r){(3&e[2])===n&&Rn(e,t,n,r)}function Dn(e,t){var n=e[2];(3&n)===t&&(n&=2047,e[2]=n+=1)}function Rn(e,t,n,r){for(var i=null!=r?r:-1,o=t.length-1,a=0,s=void 0!==r?65535&e[18]:0;s<o;s++)if("number"==typeof t[s+1]){if(a=t[s],null!=r&&a>=r)break}else t[s]<0&&(e[18]+=65536),(a<i||-1==i)&&(Pn(e,n,t,s),e[18]=(4294901760&e[18])+s+2),s++}function Pn(e,t,n,r){var i=n[r]<0,o=n[r+1],a=e[i?-n[r]:n[r]];i?e[2]>>11<e[18]>>16&&(3&e[2])===t&&(e[2]+=2048,o.call(a)):o.call(a)}var Vn=-1,Nn=function e(t,n,r){g(this,e),this.factory=t,this.resolving=!1,this.canSeeViewProviders=n,this.injectImpl=r};function jn(e,t,n){for(var r=jt(e),i=0;i<n.length;){var o=n[i];if("number"==typeof o){if(0!==o)break;i++;var a=n[i++],s=n[i++],u=n[i++];r?e.setAttribute(t,s,u,a):t.setAttributeNS(a,s,u)}else{var c=o,l=n[++i];Ln(c)?r&&e.setProperty(t,c,l):r?e.setAttribute(t,c,l):t.setAttribute(c,l),i++}}return i}function zn(e){return 3===e||4===e||6===e}function Ln(e){return 64===e.charCodeAt(0)}function Fn(e,t){if(null===t||0===t.length);else if(null===e||0===e.length)e=t.slice();else for(var n=-1,r=0;r<t.length;r++){var i=t[r];"number"==typeof i?n=i:0===n||Un(e,n,i,null,-1===n||2===n?t[++r]:null)}return e}function Un(e,t,n,r,i){var o=0,a=e.length;if(-1===t)a=-1;else for(;o<e.length;){var s=e[o++];if("number"==typeof s){if(s===t){a=-1;break}if(s>t){a=o-1;break}}}for(;o<e.length;){var u=e[o];if("number"==typeof u)break;if(u===n){if(null===r)return void(null!==i&&(e[o+1]=i));if(r===e[o+1])return void(e[o+2]=i)}o++,null!==r&&o++,null!==i&&o++}-1!==a&&(e.splice(a,0,t),o=a+1),e.splice(o++,0,n),null!==r&&e.splice(o++,0,r),null!==i&&e.splice(o++,0,i)}function Bn(e){return e!==Vn}function Hn(e){return 32767&e}function $n(e,t){for(var n=e>>16,r=t;n>0;)r=r[15],n--;return r}var qn=!0;function Wn(e){var t=qn;return qn=e,t}var Gn=0;function Xn(e,t){var n=Qn(e,t);if(-1!==n)return n;var r=t[1];r.firstCreatePass&&(e.injectorIndex=t.length,Zn(r.data,e),Zn(t,null),Zn(r.blueprint,null));var i=Kn(e,t),o=e.injectorIndex;if(Bn(i))for(var a=Hn(i),s=$n(i,t),u=s[1].data,c=0;c<8;c++)t[o+c]=s[a+c]|u[a+c];return t[o+8]=i,o}function Zn(e,t){e.push(0,0,0,0,0,0,0,0,t)}function Qn(e,t){return-1===e.injectorIndex||e.parent&&e.parent.injectorIndex===e.injectorIndex||null===t[e.injectorIndex+8]?-1:e.injectorIndex}function Kn(e,t){if(e.parent&&-1!==e.parent.injectorIndex)return e.parent.injectorIndex;for(var n=0,r=null,i=t;null!==i;){var o=i[1],a=o.type;if(null===(r=2===a?o.declTNode:1===a?i[6]:null))return Vn;if(n++,i=i[15],-1!==r.injectorIndex)return r.injectorIndex|n<<16}return Vn}function Yn(e,t,n){!function(e,t,n){var r;"string"==typeof n?r=n.charCodeAt(0)||0:n.hasOwnProperty(it)&&(r=n[it]),null==r&&(r=n[it]=Gn++);var i=255&r,o=1<<i,a=64&i,s=32&i,u=t.data;128&i?a?s?u[e+7]|=o:u[e+6]|=o:s?u[e+5]|=o:u[e+4]|=o:a?s?u[e+3]|=o:u[e+2]|=o:s?u[e+1]|=o:u[e]|=o}(e,t,n)}function Jn(e,t,n){if(n&ze.Optional)return e;At(t,"NodeInjector")}function er(e,t,n,r){if(n&ze.Optional&&void 0===r&&(r=null),0==(n&(ze.Self|ze.Host))){var i=e[9],o=Fe(void 0);try{return i?i.get(t,r,n&ze.Optional):Ue(t,r,n&ze.Optional)}finally{Fe(o)}}return Jn(r,t,n)}function tr(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:ze.Default,i=arguments.length>4?arguments[4]:void 0;if(null!==e){var o=sr(n);if("function"==typeof o){if(!yn(t,e,r))return r&ze.Host?Jn(i,n,r):er(t,n,r,i);try{var a=o();if(null!=a||r&ze.Optional)return a;At(n)}finally{_n()}}else if("number"==typeof o){var s=null,u=Qn(e,t),c=Vn,l=r&ze.Host?t[16][6]:null;for((-1===u||r&ze.SkipSelf)&&((c=-1===u?Kn(e,t):t[u+8])!==Vn&&cr(r,!1)?(s=t[1],u=Hn(c),t=$n(c,t)):u=-1);-1!==u;){var d=t[1];if(ur(o,u,d.data)){var h=ir(u,t,n,s,r,l);if(h!==nr)return h}(c=t[u+8])!==Vn&&cr(r,t[1].data[u+8]===l)&&ur(o,u,t)?(s=d,u=Hn(c),t=$n(c,t)):u=-1}}}return er(t,n,r,i)}var nr={};function rr(){return new lr(nn(),Jt())}function ir(e,t,n,r,i,o){var a=t[1],s=a.data[e+8],u=or(s,a,n,null==r?xt(s)&&qn:r!=a&&0!=(3&s.type),i&ze.Host&&o===s);return null!==u?ar(t,a,u,s):nr}function or(e,t,n,r,i){for(var o=e.providerIndexes,a=t.data,s=1048575&o,u=e.directiveStart,c=o>>20,l=i?s+c:e.directiveEnd,d=r?s:s+c;d<l;d++){var h=a[d];if(d<u&&n===h||d>=u&&h.type===n)return d}if(i){var f=a[u];if(f&&_t(f)&&f.type===n)return u}return null}function ar(e,t,n,r){var i=e[n],o=t.data;if(i instanceof Nn){var a=i;a.resolving&&function(e,t){throw new St("200","Circular dependency in DI detected for ".concat(e).concat(""))}(Tt(o[n]));var s=Wn(a.canSeeViewProviders);a.resolving=!0;var u=a.injectImpl?Fe(a.injectImpl):null;yn(e,r,ze.Default);try{i=e[n]=a.factory(void 0,o,e,r),t.firstCreatePass&&n>=r.directiveStart&&function(e,t,n){var r=t.type.prototype,i=r.ngOnInit,o=r.ngDoCheck;if(r.ngOnChanges){var a=Mt(t);(n.preOrderHooks||(n.preOrderHooks=[])).push(e,a),(n.preOrderCheckHooks||(n.preOrderCheckHooks=[])).push(e,a)}i&&(n.preOrderHooks||(n.preOrderHooks=[])).push(0-e,i),o&&((n.preOrderHooks||(n.preOrderHooks=[])).push(e,o),(n.preOrderCheckHooks||(n.preOrderCheckHooks=[])).push(e,o))}(n,o[n],t)}finally{null!==u&&Fe(u),Wn(s),a.resolving=!1,_n()}}return i}function sr(e){if("string"==typeof e)return e.charCodeAt(0)||0;var t=e.hasOwnProperty(it)?e[it]:void 0;return"number"==typeof t?t>=0?255&t:rr:t}function ur(e,t,n){var r=64&e,i=32&e;return!!((128&e?r?i?n[t+7]:n[t+6]:i?n[t+5]:n[t+4]:r?i?n[t+3]:n[t+2]:i?n[t+1]:n[t])&1<<e)}function cr(e,t){return!(e&ze.Self||e&ze.Host&&t)}var lr=function(){function e(t,n){g(this,e),this._tNode=t,this._lView=n}return m(e,[{key:"get",value:function(e,t){return tr(this._tNode,this._lView,e,void 0,t)}}]),e}();function dr(e){var t=e;if(Te(e))return function(){var e=dr(Ie(t));return e?e():null};var n=Ct(t);if(null===n){var r=De(t);n=r&&r.factory}return n||null}function hr(e){return Be(function(){for(var t=e.prototype.constructor,n=t[rt]||dr(t),r=Object.prototype,i=Object.getPrototypeOf(e.prototype).constructor;i&&i!==r;){var o=i[rt]||dr(i);if(o&&o!==n)return o;i=Object.getPrototypeOf(i)}return function(e){return new e}})}function fr(e){return function(e,t){if("class"===t)return e.classes;if("style"===t)return e.styles;var n=e.attrs;if(n)for(var r=n.length,i=0;i<r;){var o=n[i];if(zn(o))break;if(0===o)i+=2;else if("number"==typeof o)for(i++;i<r&&"string"==typeof n[i];)i++;else{if(o===t)return n[i+1];i+=2}}return null}(nn(),e)}var pr="__parameters__";function vr(e,t,n){return Be(function(){var r=function(e){return function(){if(e){var t=e.apply(void 0,arguments);for(var n in t)this[n]=t[n]}}}(t);function i(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];if(this instanceof i)return r.apply(this,t),this;var o=p(i,t);return a.annotation=o,a;function a(e,t,n){for(var r=e.hasOwnProperty(pr)?e[pr]:Object.defineProperty(e,pr,{value:[]})[pr];r.length<=n;)r.push(null);return(r[n]=r[n]||[]).push(o),e}}return n&&(i.prototype=Object.create(n.prototype)),i.prototype.ngMetadataName=e,i.annotationCls=i,i})}var mr=function(){function e(t,n){g(this,e),this._desc=t,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof n?this.__NG_ELEMENT_ID__=n:void 0!==n&&(this.\u0275prov=Ae({token:this,providedIn:n.providedIn||"root",factory:n.factory}))}return m(e,[{key:"toString",value:function(){return"InjectionToken ".concat(this._desc)}}]),e}(),gr=new mr("AnalyzeForEntryComponents"),yr=Function;function br(e,t){void 0===t&&(t=e);for(var n=0;n<e.length;n++){var r=e[n];Array.isArray(r)?(t===e&&(t=e.slice(0,n)),br(r,t)):t!==e&&t.push(r)}return t}function wr(e,t){e.forEach(function(e){return Array.isArray(e)?wr(e,t):t(e)})}function xr(e,t,n){t>=e.length?e.push(n):e.splice(t,0,n)}function kr(e,t){return t>=e.length-1?e.pop():e.splice(t,1)[0]}function _r(e,t){for(var n=[],r=0;r<e;r++)n.push(t);return n}function Cr(e,t,n){var r=Ir(e,t);return r>=0?e[1|r]=n:function(e,t,n,r){var i=e.length;if(i==t)e.push(n,r);else if(1===i)e.push(r,e[0]),e[0]=n;else{for(i--,e.push(e[i-1],e[i]);i>t;)e[i]=e[i-2],i--;e[t]=n,e[t+1]=r}}(e,r=~r,t,n),r}function Sr(e,t){var n=Ir(e,t);if(n>=0)return e[1|n]}function Ir(e,t){return function(e,t,n){for(var r=0,i=e.length>>1;i!==r;){var o=r+(i-r>>1),a=e[o<<1];if(t===a)return o<<1;a>t?i=o:r=o+1}return~(i<<1)}(e,t)}var Tr=vr("Inject",function(e){return{token:e}}),Ar=vr("Optional"),Er=vr("Self"),Or=vr("SkipSelf"),Mr=vr("Host"),Dr={},Rr=/\n/gm,Pr="__source",Vr=we({provide:String,useValue:we}),Nr=void 0;function jr(e){var t=Nr;return Nr=e,t}function zr(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:ze.Default;if(void 0===Nr)throw new Error("inject() must be called from an injection context");return null===Nr?Ue(e,void 0,t):Nr.get(e,t&ze.Optional?null:void 0,t)}function Lr(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:ze.Default;return(Le()||zr)(Ie(e),t)}function Fr(e){for(var t=[],n=0;n<e.length;n++){var r=Ie(e[n]);if(Array.isArray(r)){if(0===r.length)throw new Error("Arguments array must have arguments.");for(var i=void 0,o=ze.Default,a=0;a<r.length;a++){var s=r[a];s instanceof Ar||"Optional"===s.ngMetadataName||s===Ar?o|=ze.Optional:s instanceof Or||"SkipSelf"===s.ngMetadataName||s===Or?o|=ze.SkipSelf:s instanceof Er||"Self"===s.ngMetadataName||s===Er?o|=ze.Self:s instanceof Mr||"Host"===s.ngMetadataName||s===Mr?o|=ze.Host:i=s instanceof Tr||s===Tr?s.token:s}t.push(Lr(i,o))}else t.push(Lr(r))}return t}function Ur(e,t,n,r){var i=e.ngTempTokenPath;throw t[Pr]&&i.unshift(t[Pr]),e.message=function(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;e=e&&"\n"===e.charAt(0)&&"\u0275"==e.charAt(1)?e.substr(2):e;var i=ke(t);if(Array.isArray(t))i=t.map(ke).join(" -> ");else if("object"==typeof t){var o=[];for(var a in t)if(t.hasOwnProperty(a)){var s=t[a];o.push(a+":"+("string"==typeof s?JSON.stringify(s):ke(s)))}i="{".concat(o.join(", "),"}")}return"".concat(n).concat(r?"("+r+")":"","[").concat(i,"]: ").concat(e.replace(Rr,"\n  "))}("\n"+e.message,i,n,r),e.ngTokenPath=i,e.ngTempTokenPath=null,e}var Br=function(){function e(t){g(this,e),this.changingThisBreaksApplicationSecurity=t}return m(e,[{key:"toString",value:function(){return"SafeValue must use [property]=binding: ".concat(this.changingThisBreaksApplicationSecurity)+" (see https://g.co/ng/security#xss)"}}]),e}();function Hr(e){return e instanceof Br?e.changingThisBreaksApplicationSecurity:e}var $r=/^(?:(?:https?|mailto|ftp|tel|file|sms):|[^&:/?#]*(?:[/?#]|$))/gi,qr=/^data:(?:image\/(?:bmp|gif|jpeg|jpg|png|tiff|webp)|video\/(?:mpeg|mp4|ogg|webm)|audio\/(?:mp3|oga|ogg|opus));base64,[a-z0-9+\/]+=*$/i,Wr=function(e){return e[e.NONE=0]="NONE",e[e.HTML=1]="HTML",e[e.STYLE=2]="STYLE",e[e.SCRIPT=3]="SCRIPT",e[e.URL=4]="URL",e[e.RESOURCE_URL=5]="RESOURCE_URL",e}({});function Gr(e){var t,n,r=(t=Jt())&&t[12];return r?r.sanitize(Wr.URL,e)||"":function(e,t){var n=function(e){return e instanceof Br&&e.getTypeName()||null}(e);if(null!=n&&n!==t){if("ResourceURL"===n&&"URL"===t)return!0;throw new Error("Required a safe ".concat(t,", got a ").concat(n," (see https://g.co/ng/security#xss)"))}return n===t}(e,"URL")?Hr(e):(n=It(e),(n=String(n)).match($r)||n.match(qr)?n:"unsafe:"+n)}function Xr(e){return e.ngDebugContext}function Zr(e){return e.ngOriginalError}function Qr(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];e.error.apply(e,n)}var Kr=function(){function e(){g(this,e),this._console=console}return m(e,[{key:"handleError",value:function(e){var t=this._findOriginalError(e),n=this._findContext(e),r=function(e){return e.ngErrorLogger||Qr}(e);r(this._console,"ERROR",e),t&&r(this._console,"ORIGINAL ERROR",t),n&&r(this._console,"ERROR CONTEXT",n)}},{key:"_findContext",value:function(e){return e?Xr(e)?Xr(e):this._findContext(Zr(e)):null}},{key:"_findOriginalError",value:function(e){for(var t=Zr(e);t&&Zr(t);)t=Zr(t);return t}}]),e}();function Yr(e,t){e.__ngContext__=t}var Jr=function(){return("undefined"!=typeof requestAnimationFrame&&requestAnimationFrame||setTimeout).bind(Ze)}();function ei(e){return e instanceof Function?e():e}var ti=function(e){return e[e.Important=1]="Important",e[e.DashCase=2]="DashCase",e}({});function ni(e,t){return(void 0)(e,t)}function ri(e){var t=e[3];return bt(t)?t[3]:t}function ii(e){return ai(e[13])}function oi(e){return ai(e[4])}function ai(e){for(;null!==e&&!bt(e);)e=e[4];return e}function si(e,t,n,r,i){if(null!=r){var o,a=!1;bt(r)?o=r:yt(r)&&(a=!0,r=r[0]);var s=Lt(r);0===e&&null!==n?null==i?mi(t,n,s):vi(t,n,s,i||null,!0):1===e&&null!==n?vi(t,n,s,i||null,!0):2===e?function(e,t,n){var r=yi(e,t);r&&function(e,t,n,r){jt(e)?e.removeChild(t,n,r):t.removeChild(n)}(e,r,t,n)}(t,s,a):3===e&&t.destroyNode(s),null!=o&&function(e,t,n,r,i){var o=n[7];o!==Lt(n)&&si(t,e,r,o,i);for(var a=gt;a<n.length;a++){var s=n[a];Si(s[1],s,e,t,r,o)}}(t,e,o,n,i)}}function ui(e,t){return jt(e)?e.createText(t):e.createTextNode(t)}function ci(e,t,n){return jt(e)?e.createElement(t,n):null===n?e.createElement(t):e.createElementNS(n,t)}function li(e,t){var n=e[9],r=n.indexOf(t),i=t[3];1024&t[2]&&(t[2]&=-1025,Qt(i,-1)),n.splice(r,1)}function di(e,t){if(!(e.length<=gt)){var n,r=gt+t,i=e[r];if(i){var o=i[17];null!==o&&o!==e&&li(o,i),t>0&&(e[r-1][4]=i[4]);var a=kr(e,gt+t);Si(i[1],n=i,n[11],2,null,null),n[0]=null,n[6]=null;var s=a[19];null!==s&&s.detachView(a[1]),i[3]=null,i[4]=null,i[2]&=-129}return i}}function hi(e,t){if(!(256&t[2])){var n=t[11];jt(n)&&n.destroyNode&&Si(e,t,n,3,null,null),function(e){var t=e[13];if(!t)return fi(e[1],e);for(;t;){var n=null;if(yt(t))n=t[13];else{var r=t[10];r&&(n=r)}if(!n){for(;t&&!t[4]&&t!==e;)yt(t)&&fi(t[1],t),t=t[3];null===t&&(t=e),yt(t)&&fi(t[1],t),n=t&&t[4]}t=n}}(t)}}function fi(e,t){if(!(256&t[2])){t[2]&=-129,t[2]|=256,function(e,t){var n;if(null!=e&&null!=(n=e.destroyHooks))for(var r=0;r<n.length;r+=2){var i=t[n[r]];if(!(i instanceof Nn)){var o=n[r+1];if(Array.isArray(o))for(var a=0;a<o.length;a+=2)o[a+1].call(i[o[a]]);else o.call(i)}}}(e,t),function(e,t){var n=e.cleanup,r=t[7],i=-1;if(null!==n)for(var o=0;o<n.length-1;o+=2)if("string"==typeof n[o]){var a=n[o+1],s="function"==typeof a?a(t):Lt(t[a]),u=r[i=n[o+2]],c=n[o+3];"boolean"==typeof c?s.removeEventListener(n[o],u,c):c>=0?r[i=c]():r[i=-c].unsubscribe(),o+=2}else{var l=r[i=n[o+1]];n[o].call(l)}if(null!==r){for(var d=i+1;d<r.length;d++)(0,r[d])();t[7]=null}}(e,t),1===t[1].type&&jt(t[11])&&t[11].destroy();var n=t[17];if(null!==n&&bt(t[3])){n!==t[3]&&li(n,t);var r=t[19];null!==r&&r.detachView(e)}}}function pi(e,t,n){return function(e,t,n){for(var r=t;null!==r&&40&r.type;)r=(t=r).parent;if(null===r)return n[0];if(2&r.flags){var i=e.data[r.directiveStart].encapsulation;if(i===$e.None||i===$e.Emulated)return null}return Ut(r,n)}(e,t.parent,n)}function vi(e,t,n,r,i){jt(e)?e.insertBefore(t,n,r,i):t.insertBefore(n,r,i)}function mi(e,t,n){jt(e)?e.appendChild(t,n):t.appendChild(n)}function gi(e,t,n,r,i){null!==r?vi(e,t,n,r,i):mi(e,t,n)}function yi(e,t){return jt(e)?e.parentNode(t):t.parentNode}function bi(e,t,n){return wi(e,t,n)}var wi=function(e,t,n){return 40&e.type?Ut(e,n):null};function xi(e,t,n,r){var i=pi(e,r,t),o=t[11],a=bi(r.parent||t[6],r,t);if(null!=i)if(Array.isArray(n))for(var s=0;s<n.length;s++)gi(o,i,n[s],a,!1);else gi(o,i,n,a,!1)}function ki(e,t){if(null!==t){var n=t.type;if(3&n)return Ut(t,e);if(4&n)return _i(-1,e[t.index]);if(8&n){var r=t.child;if(null!==r)return ki(e,r);var i=e[t.index];return bt(i)?_i(-1,i):Lt(i)}if(32&n)return ni(t,e)()||Lt(e[t.index]);var o=e[16],a=o[6],s=ri(o),u=a.projection[t.projection];return null!=u?ki(s,u):ki(e,t.next)}return null}function _i(e,t){var n=gt+e+1;if(n<t.length){var r=t[n],i=r[1].firstChild;if(null!==i)return ki(r,i)}return t[7]}function Ci(e,t,n,r,i,o,a){for(;null!=n;){var s=r[n.index],u=n.type;if(a&&0===t&&(s&&Yr(Lt(s),r),n.flags|=4),64!=(64&n.flags))if(8&u)Ci(e,t,n.child,r,i,o,!1),si(t,e,i,s,o);else if(32&u){for(var c=ni(n,r),l=void 0;l=c();)si(t,e,i,l,o);si(t,e,i,s,o)}else 16&u?Ti(e,t,r,n,i,o):si(t,e,i,s,o);n=a?n.projectionNext:n.next}}function Si(e,t,n,r,i,o){Ci(n,r,e.firstChild,t,i,o,!1)}function Ii(e,t,n){Ti(t[11],0,t,n,pi(e,n,t),bi(n.parent||t[6],n,t))}function Ti(e,t,n,r,i,o){var a=n[16],s=a[6].projection[r.projection];if(Array.isArray(s))for(var u=0;u<s.length;u++)si(t,e,i,s[u],o);else Ci(e,t,s,a[3],i,o,!0)}function Ai(e,t,n){jt(e)?e.setAttribute(t,"style",n):t.style.cssText=n}function Ei(e,t,n){jt(e)?""===n?e.removeAttribute(t,"class"):e.setAttribute(t,"class",n):t.className=n}function Oi(e,t,n){for(var r=e.length;;){var i=e.indexOf(t,n);if(-1===i)return i;if(0===i||e.charCodeAt(i-1)<=32){var o=t.length;if(i+o===r||e.charCodeAt(i+o)<=32)return i}n=i+1}}var Mi="ng-template";function Di(e,t,n){for(var r=0;r<e.length;){var i=e[r++];if(n&&"class"===i){if(-1!==Oi((i=e[r]).toLowerCase(),t,0))return!0}else if(1===i){for(;r<e.length&&"string"==typeof(i=e[r++]);)if(i.toLowerCase()===t)return!0;return!1}}return!1}function Ri(e){return 4===e.type&&e.value!==Mi}function Pi(e,t,n){return t===(4!==e.type||n?e.value:Mi)}function Vi(e,t,n){for(var r=4,i=e.attrs||[],o=function(e){for(var t=0;t<e.length;t++)if(zn(e[t]))return t;return e.length}(i),a=!1,s=0;s<t.length;s++){var u=t[s];if("number"!=typeof u){if(!a)if(4&r){if(r=2|1&r,""!==u&&!Pi(e,u,n)||""===u&&1===t.length){if(Ni(r))return!1;a=!0}}else{var c=8&r?u:t[++s];if(8&r&&null!==e.attrs){if(!Di(e.attrs,c,n)){if(Ni(r))return!1;a=!0}continue}var l=ji(8&r?"class":u,i,Ri(e),n);if(-1===l){if(Ni(r))return!1;a=!0;continue}if(""!==c){var d;d=l>o?"":i[l+1].toLowerCase();var h=8&r?d:null;if(h&&-1!==Oi(h,c,0)||2&r&&c!==d){if(Ni(r))return!1;a=!0}}}}else{if(!a&&!Ni(r)&&!Ni(u))return!1;if(a&&Ni(u))continue;a=!1,r=u|1&r}}return Ni(r)||a}function Ni(e){return 0==(1&e)}function ji(e,t,n,r){if(null===t)return-1;var i=0;if(r||!n){for(var o=!1;i<t.length;){var a=t[i];if(a===e)return i;if(3===a||6===a)o=!0;else{if(1===a||2===a){for(var s=t[++i];"string"==typeof s;)s=t[++i];continue}if(4===a)break;if(0===a){i+=4;continue}}i+=o?1:2}return-1}return function(e,t){var n=e.indexOf(4);if(n>-1)for(n++;n<e.length;){var r=e[n];if("number"==typeof r)return-1;if(r===t)return n;n++}return-1}(t,e)}function zi(e,t){for(var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],r=0;r<t.length;r++)if(Vi(e,t[r],n))return!0;return!1}function Li(e,t){e:for(var n=0;n<t.length;n++){var r=t[n];if(e.length===r.length){for(var i=0;i<e.length;i++)if(e[i]!==r[i])continue e;return!0}}return!1}function Fi(e,t){return e?":not("+t.trim()+")":t}function Ui(e){for(var t=e[0],n=1,r=2,i="",o=!1;n<e.length;){var a=e[n];if("string"==typeof a)if(2&r){var s=e[++n];i+="["+a+(s.length>0?'="'+s+'"':"")+"]"}else 8&r?i+="."+a:4&r&&(i+=" "+a);else""===i||Ni(a)||(t+=Fi(o,i),i=""),r=a,o=o||!Ni(r);n++}return""!==i&&(t+=Fi(o,i)),t}var Bi={};function Hi(e){$i(en(),Jt(),In()+e,un())}function $i(e,t,n,r){if(!r)if(3==(3&t[2])){var i=e.preOrderCheckHooks;null!==i&&On(t,i,n)}else{var o=e.preOrderHooks;null!==o&&Mn(t,o,0,n)}Tn(n)}function qi(e,t){return e<<17|t<<2}function Wi(e){return e>>17&32767}function Gi(e){return 2|e}function Xi(e){return(131068&e)>>2}function Zi(e,t){return-131069&e|t<<2}function Qi(e){return 1|e}function Ki(e,t){var n=e.contentQueries;if(null!==n)for(var r=0;r<n.length;r+=2){var i=n[r+1];if(-1!==i){var o=e.data[i];mn(n[r]),o.contentQueries(2,t[i],i)}}}function Yi(e,t,n,r,i,o,a,s,u,c){var l=t.blueprint.slice();return l[0]=i,l[2]=140|r,Zt(l),l[3]=l[15]=e,l[8]=n,l[10]=a||e&&e[10],l[11]=s||e&&e[11],l[12]=u||e&&e[12]||null,l[9]=c||e&&e[9]||null,l[6]=o,l[16]=2==t.type?e[16]:l,l}function Ji(e,t,n,r,i){var o,a,s=e.data[t];if(null===s)s=function(e,t,n,r,i){var o=rn(),a=an(),s=e.data[t]=function(e,t,n,r,i,o){return{type:n,index:r,insertBeforeIndex:null,injectorIndex:t?t.injectorIndex:-1,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,propertyBindings:null,flags:0,providerIndexes:0,value:i,attrs:o,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tViews:null,next:null,projectionNext:null,child:null,parent:t,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,a?o:o&&o.parent,n,t,r,i);return null===e.firstChild&&(e.firstChild=s),null!==o&&(a?null==o.child&&null!==s.parent&&(o.child=s):null===o.next&&(o.next=s)),s}(e,t,n,r,i),Kt.lFrame.inI18n&&(s.flags|=64);else if(64&s.type){s.type=n,s.value=r,s.attrs=i;var u=(a=(o=Kt.lFrame).currentTNode,o.isParent?a:a.parent);s.injectorIndex=null===u?-1:u.injectorIndex}return on(s,!0),s}function eo(e,t,n,r){if(0===n)return-1;for(var i=t.length,o=0;o<n;o++)t.push(r),e.blueprint.push(r),e.data.push(null);return i}function to(e,t,n){bn(t);try{var r=e.viewQuery;null!==r&&Do(1,r,n);var i=e.template;null!==i&&io(e,t,i,1,n),e.firstCreatePass&&(e.firstCreatePass=!1),e.staticContentQueries&&Ki(e,t),e.staticViewQueries&&Do(2,e.viewQuery,n);var o=e.components;null!==o&&function(e,t){for(var n=0;n<t.length;n++)To(e,t[n])}(t,o)}catch(a){throw e.firstCreatePass&&(e.incompleteFirstPass=!0),a}finally{t[2]&=-5,Cn()}}function no(e,t,n,r){var i=t[2];if(256!=(256&i)){bn(t);var o=un();try{Zt(t),Kt.lFrame.bindingIndex=e.bindingStartIndex,null!==n&&io(e,t,n,2,r);var a=3==(3&i);if(!o)if(a){var s=e.preOrderCheckHooks;null!==s&&On(t,s,null)}else{var u=e.preOrderHooks;null!==u&&Mn(t,u,0,null),Dn(t,0)}if(function(e){for(var t=ii(e);null!==t;t=oi(t))if(t[2])for(var n=t[9],r=0;r<n.length;r++){var i=n[r];0==(1024&i[2])&&Qt(i[3],1),i[2]|=1024}}(t),function(e){for(var t=ii(e);null!==t;t=oi(t))for(var n=gt;n<t.length;n++){var r=t[n],i=r[1];Gt(r)&&no(i,r,i.template,r[8])}}(t),null!==e.contentQueries&&Ki(e,t),!o)if(a){var c=e.contentCheckHooks;null!==c&&On(t,c)}else{var l=e.contentHooks;null!==l&&Mn(t,l,1),Dn(t,1)}!function(e,t){var n,r,i=e.hostBindingOpCodes;if(null!==i)try{for(var o=0;o<i.length;o++){var a=i[o];if(a<0)Tn(~a);else{var s=a,u=i[++o],c=i[++o];n=s,r=void 0,(r=Kt.lFrame).bindingIndex=r.bindingRootIndex=u,pn(n),c(2,t[s])}}}finally{Tn(-1)}}(e,t);var d=e.components;null!==d&&function(e,t){for(var n=0;n<t.length;n++)So(e,t[n])}(t,d);var h=e.viewQuery;if(null!==h&&Do(2,h,r),!o)if(a){var f=e.viewCheckHooks;null!==f&&On(t,f)}else{var p=e.viewHooks;null!==p&&Mn(t,p,2),Dn(t,2)}!0===e.firstUpdatePass&&(e.firstUpdatePass=!1),o||(t[2]&=-73),1024&t[2]&&(t[2]&=-1025,Qt(t[3],-1))}finally{Cn()}}}function ro(e,t,n,r){var i=t[10],o=!un(),a=Wt(t);try{o&&!a&&i.begin&&i.begin(),a&&to(e,t,r),no(e,t,n,r)}finally{o&&!a&&i.end&&i.end()}}function io(e,t,n,r,i){var o=In();try{Tn(-1),2&r&&t.length>mt&&$i(e,t,mt,un()),n(r,i)}finally{Tn(o)}}function oo(e,t,n){if(wt(t))for(var r=t.directiveEnd,i=t.directiveStart;i<r;i++){var o=e.data[i];o.contentQueries&&o.contentQueries(1,n[i],i)}}function ao(e,t,n){Yt()&&(function(e,t,n,r){var i=n.directiveStart,o=n.directiveEnd;e.firstCreatePass||Xn(n,t),Yr(r,t);for(var a=n.initialInputs,s=i;s<o;s++){var u=e.data[s],c=_t(u);c&&xo(t,n,u);var l=ar(t,e,s,n);Yr(l,t),null!==a&&ko(0,s-i,l,u,0,a),c&&($t(n.index,t)[8]=l)}}(e,t,n,Ut(n,t)),128==(128&n.flags)&&function(e,t,n){var r=n.directiveStart,i=n.directiveEnd,o=n.index,a=Kt.lFrame.currentDirectiveIndex;try{Tn(o);for(var s=r;s<i;s++){var u=e.data[s],c=t[s];pn(s),null===u.hostBindings&&0===u.hostVars&&null===u.hostAttrs||mo(u,c)}}finally{Tn(-1),pn(a)}}(e,t,n))}function so(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Ut,r=t.localNames;if(null!==r)for(var i=t.index+1,o=0;o<r.length;o+=2){var a=r[o+1],s=-1===a?n(t,e):e[a];e[i++]=s}}function uo(e){var t=e.tView;return null===t||t.incompleteFirstPass?e.tView=co(1,null,e.template,e.decls,e.vars,e.directiveDefs,e.pipeDefs,e.viewQuery,e.schemas,e.consts):t}function co(e,t,n,r,i,o,a,s,u,c){var l=mt+r,d=l+i,h=function(e,t){for(var n=[],r=0;r<t;r++)n.push(r<e?null:Bi);return n}(l,d),f="function"==typeof c?c():c;return h[1]={type:e,blueprint:h,template:n,queries:null,viewQuery:s,declTNode:t,data:h.slice().fill(null,l),bindingStartIndex:l,expandoStartIndex:d,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof o?o():o,pipeRegistry:"function"==typeof a?a():a,firstChild:null,schemas:u,consts:f,incompleteFirstPass:!1}}function lo(e,t,n,r){var i=Po(t);null===n?i.push(r):(i.push(n),e.firstCreatePass&&Vo(e).push(r,i.length-1))}function ho(e,t,n){for(var r in e)if(e.hasOwnProperty(r)){var i=e[r];(n=null===n?{}:n).hasOwnProperty(r)?n[r].push(t,i):n[r]=[t,i]}return n}function fo(e,t,n,r,i,o,a,s){var u,c,l=Ut(t,n),d=t.inputs;!s&&null!=d&&(u=d[r])?(jo(e,n,u,r,i),xt(t)&&function(e,t){var n=$t(t,e);16&n[2]||(n[2]|=64)}(n,t.index)):3&t.type&&(r="class"===(c=r)?"className":"for"===c?"htmlFor":"formaction"===c?"formAction":"innerHtml"===c?"innerHTML":"readonly"===c?"readOnly":"tabindex"===c?"tabIndex":c,i=null!=a?a(i,t.value||"",r):i,jt(o)?o.setProperty(l,r,i):Ln(r)||(l.setProperty?l.setProperty(r,i):l[r]=i))}function po(e,t,n,r){var i=!1;if(Yt()){var o=function(e,t,n){var r=e.directiveRegistry,i=null;if(r)for(var o=0;o<r.length;o++){var a=r[o];zi(n,a.selectors,!1)&&(i||(i=[]),Yn(Xn(n,t),e,a.type),_t(a)?(go(e,n),i.unshift(a)):i.push(a))}return i}(e,t,n),a=null===r?null:{"":-1};if(null!==o){i=!0,bo(n,e.data.length,o.length);for(var s=0;s<o.length;s++){var u=o[s];u.providersResolver&&u.providersResolver(u)}for(var c=!1,l=!1,d=eo(e,t,o.length,null),h=0;h<o.length;h++){var f=o[h];n.mergedAttrs=Fn(n.mergedAttrs,f.hostAttrs),wo(e,n,t,d,f),yo(d,f,a),null!==f.contentQueries&&(n.flags|=8),null===f.hostBindings&&null===f.hostAttrs&&0===f.hostVars||(n.flags|=128);var p=f.type.prototype;!c&&(p.ngOnChanges||p.ngOnInit||p.ngDoCheck)&&((e.preOrderHooks||(e.preOrderHooks=[])).push(n.index),c=!0),l||!p.ngOnChanges&&!p.ngDoCheck||((e.preOrderCheckHooks||(e.preOrderCheckHooks=[])).push(n.index),l=!0),d++}!function(e,t){for(var n=t.directiveEnd,r=e.data,i=t.attrs,o=[],a=null,s=null,u=t.directiveStart;u<n;u++){var c=r[u],l=c.inputs,d=null===i||Ri(t)?null:_o(l,i);o.push(d),a=ho(l,u,a),s=ho(c.outputs,u,s)}null!==a&&(a.hasOwnProperty("class")&&(t.flags|=16),a.hasOwnProperty("style")&&(t.flags|=32)),t.initialInputs=o,t.inputs=a,t.outputs=s}(e,n)}a&&function(e,t,n){if(t)for(var r=e.localNames=[],i=0;i<t.length;i+=2){var o=n[t[i+1]];if(null==o)throw new St("301","Export of name '".concat(t[i+1],"' not found!"));r.push(t[i],o)}}(n,r,a)}return n.mergedAttrs=Fn(n.mergedAttrs,n.attrs),i}function vo(e,t,n,r,i,o){var a=o.hostBindings;if(a){var s=e.hostBindingOpCodes;null===s&&(s=e.hostBindingOpCodes=[]);var u=~t.index;(function(e){for(var t=e.length;t>0;){var n=e[--t];if("number"==typeof n&&n<0)return n}return 0})(s)!=u&&s.push(u),s.push(r,i,a)}}function mo(e,t){null!==e.hostBindings&&e.hostBindings(1,t)}function go(e,t){t.flags|=2,(e.components||(e.components=[])).push(t.index)}function yo(e,t,n){if(n){if(t.exportAs)for(var r=0;r<t.exportAs.length;r++)n[t.exportAs[r]]=e;_t(t)&&(n[""]=e)}}function bo(e,t,n){e.flags|=1,e.directiveStart=t,e.directiveEnd=t+n,e.providerIndexes=t}function wo(e,t,n,r,i){e.data[r]=i;var o=i.factory||(i.factory=Ct(i.type)),a=new Nn(o,_t(i),null);e.blueprint[r]=a,n[r]=a,vo(e,t,0,r,eo(e,n,i.hostVars,Bi),i)}function xo(e,t,n){var r=Ut(t,e),i=uo(n),o=e[10],a=Ao(e,Yi(e,i,null,n.onPush?64:16,r,t,o,o.createRenderer(r,n),null,null));e[t.index]=a}function ko(e,t,n,r,i,o){var a=o[t];if(null!==a)for(var s=r.setInput,u=0;u<a.length;){var c=a[u++],l=a[u++],d=a[u++];null!==s?r.setInput(n,d,c,l):n[l]=d}}function _o(e,t){for(var n=null,r=0;r<t.length;){var i=t[r];if(0!==i)if(5!==i){if("number"==typeof i)break;e.hasOwnProperty(i)&&(null===n&&(n=[]),n.push(i,e[i],t[r+1])),r+=2}else r+=2;else r+=4}return n}function Co(e,t,n,r){return new Array(e,!0,!1,t,null,0,r,n,null,null)}function So(e,t){var n=$t(t,e);if(Gt(n)){var r=n[1];80&n[2]?no(r,n,r.template,n[8]):n[5]>0&&Io(n)}}function Io(e){for(var t=ii(e);null!==t;t=oi(t))for(var n=gt;n<t.length;n++){var r=t[n];if(1024&r[2]){var i=r[1];no(i,r,i.template,r[8])}else r[5]>0&&Io(r)}var o=e[1].components;if(null!==o)for(var a=0;a<o.length;a++){var s=$t(o[a],e);Gt(s)&&s[5]>0&&Io(s)}}function To(e,t){var n=$t(t,e),r=n[1];!function(e,t){for(var n=t.length;n<e.blueprint.length;n++)t.push(e.blueprint[n])}(r,n),to(r,n,n[8])}function Ao(e,t){return e[13]?e[14][4]=t:e[13]=t,e[14]=t,t}function Eo(e){for(;e;){e[2]|=64;var t=ri(e);if(0!=(512&e[2])&&!t)return e;e=t}return null}function Oo(e,t,n){var r=t[10];r.begin&&r.begin();try{no(e,t,e.template,n)}catch(i){throw No(t,i),i}finally{r.end&&r.end()}}function Mo(e){!function(e){for(var t=0;t<e.components.length;t++){var n=e.components[t],r=qt(n),i=r[1];ro(i,r,i.template,n)}}(e[8])}function Do(e,t,n){mn(0),t(e,n)}var Ro=function(){return Promise.resolve(null)}();function Po(e){return e[7]||(e[7]=[])}function Vo(e){return e.cleanup||(e.cleanup=[])}function No(e,t){var n=e[9],r=n?n.get(Kr,null):null;r&&r.handleError(t)}function jo(e,t,n,r,i){for(var o=0;o<n.length;){var a=n[o++],s=n[o++],u=t[a],c=e.data[a];null!==c.setInput?c.setInput(u,i,r,s):u[s]=i}}function zo(e,t,n){var r=Ft(t,e);!function(e,t,n){jt(e)?e.setValue(t,n):t.textContent=n}(e[11],r,n)}function Lo(e,t,n){var r=n?e.styles:null,i=n?e.classes:null,o=0;if(null!==t)for(var a=0;a<t.length;a++){var s=t[a];"number"==typeof s?o=s:1==o?i=_e(i,s):2==o&&(r=_e(r,s+": "+t[++a]+";"))}n?e.styles=r:e.stylesWithoutHost=r,n?e.classes=i:e.classesWithoutHost=i}var Fo=new mr("INJECTOR",-1),Uo=function(){function e(){g(this,e)}return m(e,[{key:"get",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Dr;if(t===Dr){var n=new Error("NullInjectorError: No provider for ".concat(ke(e),"!"));throw n.name="NullInjectorError",n}return t}}]),e}(),Bo=new mr("Set Injector scope."),Ho={},$o={},qo=[],Wo=void 0;function Go(){return void 0===Wo&&(Wo=new Uo),Wo}function Xo(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,r=arguments.length>3?arguments[3]:void 0;return new Zo(e,n,t||Go(),r)}var Zo=function(){function e(t,n,r){var i=this,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;g(this,e),this.parent=r,this.records=new Map,this.injectorDefTypes=new Set,this.onDestroy=new Set,this._destroyed=!1;var a=[];n&&wr(n,function(e){return i.processProvider(e,t,n)}),wr([t],function(e){return i.processInjectorType(e,[],a)}),this.records.set(Fo,Yo(void 0,this));var s=this.records.get(Bo);this.scope=null!=s?s.value:null,this.source=o||("object"==typeof t?null:ke(t))}return m(e,[{key:"destroy",value:function(){this.assertNotDestroyed(),this._destroyed=!0;try{this.onDestroy.forEach(function(e){return e.ngOnDestroy()})}finally{this.records.clear(),this.onDestroy.clear(),this.injectorDefTypes.clear()}}},{key:"get",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Dr,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:ze.Default;this.assertNotDestroyed();var r=jr(this);try{if(!(n&ze.SkipSelf)){var i=this.records.get(e);if(void 0===i){var o=ta(e)&&Oe(e);i=o&&this.injectableDefInScope(o)?Yo(Qo(e),Ho):null,this.records.set(e,i)}if(null!=i)return this.hydrate(e,i)}var a=n&ze.Self?Go():this.parent;return a.get(e,t=n&ze.Optional&&t===Dr?null:t)}catch(u){if("NullInjectorError"===u.name){var s=u.ngTempTokenPath=u.ngTempTokenPath||[];if(s.unshift(ke(e)),r)throw u;return Ur(u,e,"R3InjectorError",this.source)}throw u}finally{jr(r)}}},{key:"_resolveInjectorDefTypes",value:function(){var e=this;this.injectorDefTypes.forEach(function(t){return e.get(t)})}},{key:"toString",value:function(){var e=[];return this.records.forEach(function(t,n){return e.push(ke(n))}),"R3Injector[".concat(e.join(", "),"]")}},{key:"assertNotDestroyed",value:function(){if(this._destroyed)throw new Error("Injector has already been destroyed.")}},{key:"processInjectorType",value:function(e,t,n){var r=this;if(!(e=Ie(e)))return!1;var i=De(e),o=null==i&&e.ngModule||void 0,a=void 0===o?e:o,s=-1!==n.indexOf(a);if(void 0!==o&&(i=De(o)),null==i)return!1;if(null!=i.imports&&!s){var u;n.push(a);try{wr(i.imports,function(e){r.processInjectorType(e,t,n)&&(void 0===u&&(u=[]),u.push(e))})}finally{}if(void 0!==u)for(var c=function(e){var t=u[e],n=t.ngModule,i=t.providers;wr(i,function(e){return r.processProvider(e,n,i||qo)})},l=0;l<u.length;l++)c(l)}this.injectorDefTypes.add(a),this.records.set(a,Yo(i.factory,Ho));var d=i.providers;if(null!=d&&!s){var h=e;wr(d,function(e){return r.processProvider(e,h,d)})}return void 0!==o&&void 0!==e.providers}},{key:"processProvider",value:function(e,t,n){var r=ea(e=Ie(e))?e:Ie(e&&e.provide),i=function(e,t,n){return Jo(e)?Yo(void 0,e.useValue):Yo(Ko(e),Ho)}(e);if(ea(e)||!0!==e.multi)this.records.get(r);else{var o=this.records.get(r);o||((o=Yo(void 0,Ho,!0)).factory=function(){return Fr(o.multi)},this.records.set(r,o)),r=e,o.multi.push(e)}this.records.set(r,i)}},{key:"hydrate",value:function(e,t){var n;return t.value===Ho&&(t.value=$o,t.value=t.factory()),"object"==typeof t.value&&t.value&&null!==(n=t.value)&&"object"==typeof n&&"function"==typeof n.ngOnDestroy&&this.onDestroy.add(t.value),t.value}},{key:"injectableDefInScope",value:function(e){return!!e.providedIn&&("string"==typeof e.providedIn?"any"===e.providedIn||e.providedIn===this.scope:this.injectorDefTypes.has(e.providedIn))}},{key:"destroyed",get:function(){return this._destroyed}}]),e}();function Qo(e){var t=Oe(e),n=null!==t?t.factory:Ct(e);if(null!==n)return n;var r=De(e);if(null!==r)return r.factory;if(e instanceof mr)throw new Error("Token ".concat(ke(e)," is missing a \u0275prov definition."));if(e instanceof Function)return function(e){var t=e.length;if(t>0){var n=_r(t,"?");throw new Error("Can't resolve all parameters for ".concat(ke(e),": (").concat(n.join(", "),")."))}var r=function(e){var t=e&&(e[Pe]||e[Ne]);if(t){var n=function(e){if(e.hasOwnProperty("name"))return e.name;var t=(""+e).match(/^function\s*([^\s(]+)/);return null===t?"":t[1]}(e);return console.warn('DEPRECATED: DI is instantiating a token "'.concat(n,'" that inherits its @Injectable decorator but does not provide one itself.\n')+'This will become an error in a future version of Angular. Please add @Injectable() to the "'.concat(n,'" class.')),t}return null}(e);return null!==r?function(){return r.factory(e)}:function(){return new e}}(e);throw new Error("unreachable")}function Ko(e,t,n){var r,i=void 0;if(ea(e)){var o=Ie(e);return Ct(o)||Qo(o)}if(Jo(e))i=function(){return Ie(e.useValue)};else if((r=e)&&r.useFactory)i=function(){return e.useFactory.apply(e,d(Fr(e.deps||[])))};else if(function(e){return!(!e||!e.useExisting)}(e))i=function(){return Lr(Ie(e.useExisting))};else{var a=Ie(e&&(e.useClass||e.provide));if(!function(e){return!!e.deps}(e))return Ct(a)||Qo(a);i=function(){return p(a,d(Fr(e.deps)))}}return i}function Yo(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return{factory:e,value:t,multi:n?[]:void 0}}function Jo(e){return null!==e&&"object"==typeof e&&Vr in e}function ea(e){return"function"==typeof e}function ta(e){return"function"==typeof e||"object"==typeof e&&e instanceof mr}var na=function(e,t,n){return function(e){var t=Xo(e,arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,arguments.length>3?arguments[3]:void 0);return t._resolveInjectorDefTypes(),t}({name:n},t,e,n)},ra=function(){var e=function(){function e(){g(this,e)}return m(e,null,[{key:"create",value:function(e,t){return Array.isArray(e)?na(e,t,""):na(e.providers,e.parent,e.name||"")}}]),e}();return e.THROW_IF_NOT_FOUND=Dr,e.NULL=new Uo,e.\u0275prov=Ae({token:e,providedIn:"any",factory:function(){return Lr(Fo)}}),e.__NG_ELEMENT_ID__=-1,e}();function ia(e,t){En(qt(e)[1],nn())}function oa(e){for(var t=Object.getPrototypeOf(e.type.prototype).constructor,n=!0,r=[e];t;){var i=void 0;if(_t(e))i=t.\u0275cmp||t.\u0275dir;else{if(t.\u0275cmp)throw new Error("Directives cannot inherit Components");i=t.\u0275dir}if(i){if(n){r.push(i);var o=e;o.inputs=aa(e.inputs),o.declaredInputs=aa(e.declaredInputs),o.outputs=aa(e.outputs);var a=i.hostBindings;a&&ca(e,a);var s=i.viewQuery,u=i.contentQueries;if(s&&sa(e,s),u&&ua(e,u),xe(e.inputs,i.inputs),xe(e.declaredInputs,i.declaredInputs),xe(e.outputs,i.outputs),_t(i)&&i.data.animation){var c=e.data;c.animation=(c.animation||[]).concat(i.data.animation)}}var l=i.features;if(l)for(var d=0;d<l.length;d++){var h=l[d];h&&h.ngInherit&&h(e),h===oa&&(n=!1)}}t=Object.getPrototypeOf(t)}!function(e){for(var t=0,n=null,r=e.length-1;r>=0;r--){var i=e[r];i.hostVars=t+=i.hostVars,i.hostAttrs=Fn(i.hostAttrs,n=Fn(n,i.hostAttrs))}}(r)}function aa(e){return e===Qe?{}:e===Ke?[]:e}function sa(e,t){var n=e.viewQuery;e.viewQuery=n?function(e,r){t(e,r),n(e,r)}:t}function ua(e,t){var n=e.contentQueries;e.contentQueries=n?function(e,r,i){t(e,r,i),n(e,r,i)}:t}function ca(e,t){var n=e.hostBindings;e.hostBindings=n?function(e,r){t(e,r),n(e,r)}:t}var la=null;function da(){if(!la){var e=Ze.Symbol;if(e&&e.iterator)la=e.iterator;else for(var t=Object.getOwnPropertyNames(Map.prototype),n=0;n<t.length;++n){var r=t[n];"entries"!==r&&"size"!==r&&Map.prototype[r]===Map.prototype.entries&&(la=r)}}return la}var ha=function(){function e(t){g(this,e),this.wrapped=t}return m(e,null,[{key:"wrap",value:function(t){return new e(t)}},{key:"unwrap",value:function(t){return e.isWrapped(t)?t.wrapped:t}},{key:"isWrapped",value:function(t){return t instanceof e}}]),e}();function fa(e){return!!pa(e)&&(Array.isArray(e)||!(e instanceof Map)&&da()in e)}function pa(e){return null!==e&&("function"==typeof e||"object"==typeof e)}function va(e,t,n){return e[t]=n}function ma(e,t,n){return!Object.is(e[t],n)&&(e[t]=n,!0)}function ga(e,t,n,r){var i=ma(e,t,n);return ma(e,t+1,r)||i}function ya(e,t,n,r){var i=Jt();return ma(i,hn(),t)&&(en(),function(e,t,n,r,i,o){var a=Ut(e,t);!function(e,t,n,r,i,o,a){if(null==o)jt(e)?e.removeAttribute(t,i,n):t.removeAttribute(i);else{var s=null==a?It(o):a(o,r||"",i);jt(e)?e.setAttribute(t,i,s,n):n?t.setAttributeNS(n,i,s):t.setAttribute(i,s)}}(t[11],a,o,e.value,n,r,i)}(An(),i,e,t,n,r)),ya}function ba(e,t,n,r){return ma(e,hn(),n)?t+It(n)+r:Bi}function wa(e,t,n,r,i,o,a,s){var u=Jt(),c=en(),l=e+mt,d=c.firstCreatePass?function(e,t,n,r,i,o,a,s,u){var c=t.consts,l=Ji(t,e,4,a||null,Xt(c,s));po(t,n,l,Xt(c,u)),En(t,l);var d=l.tViews=co(2,l,r,i,o,t.directiveRegistry,t.pipeRegistry,null,t.schemas,c);return null!==t.queries&&(t.queries.template(t,l),d.queries=t.queries.embeddedTView(l)),l}(l,c,u,t,n,r,i,o,a):c.data[l];on(d,!1);var h=u[11].createComment("");xi(c,u,h,d),Yr(h,u),Ao(u,u[l]=Co(h,u,h,d)),kt(d)&&ao(c,u,d),null!=a&&so(u,d,s)}function xa(e){return Ht(Kt.lFrame.contextLView,mt+e)}function ka(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:ze.Default,n=Jt();if(null===n)return Lr(e,t);var r=nn();return tr(r,n,Ie(e),t)}function _a(e,t,n){var r=Jt();return ma(r,hn(),t)&&fo(en(),An(),r,e,t,r[11],n,!1),_a}function Ca(e,t,n,r,i){var o=i?"class":"style";jo(e,n,t.inputs[o],o,r)}function Sa(e,t,n,r){var i=Jt(),o=en(),a=mt+e,s=i[11],u=i[a]=ci(s,t,Kt.lFrame.currentNamespace),c=o.firstCreatePass?function(e,t,n,r,i,o,a){var s=t.consts,u=Ji(t,e,2,i,Xt(s,o));return po(t,n,u,Xt(s,a)),null!==u.attrs&&Lo(u,u.attrs,!1),null!==u.mergedAttrs&&Lo(u,u.mergedAttrs,!0),null!==t.queries&&t.queries.elementStart(t,u),u}(a,o,i,0,t,n,r):o.data[a];on(c,!0);var l=c.mergedAttrs;null!==l&&jn(s,u,l);var d=c.classes;null!==d&&Ei(s,u,d);var h=c.styles;null!==h&&Ai(s,u,h),64!=(64&c.flags)&&xi(o,i,u,c),0===Kt.lFrame.elementDepthCount&&Yr(u,i),Kt.lFrame.elementDepthCount++,kt(c)&&(ao(o,i,c),oo(o,c,i)),null!==r&&so(i,c)}function Ia(){var e=nn();an()?sn():on(e=e.parent,!1);var t=e;Kt.lFrame.elementDepthCount--;var n=en();n.firstCreatePass&&(En(n,e),wt(e)&&n.queries.elementEnd(e)),null!=t.classesWithoutHost&&function(e){return 0!=(16&e.flags)}(t)&&Ca(n,t,Jt(),t.classesWithoutHost,!0),null!=t.stylesWithoutHost&&function(e){return 0!=(32&e.flags)}(t)&&Ca(n,t,Jt(),t.stylesWithoutHost,!1)}function Ta(e,t,n,r){Sa(e,t,n,r),Ia()}function Aa(){return Jt()}function Ea(e){return!!e&&"function"==typeof e.then}function Oa(e){return!!e&&"function"==typeof e.subscribe}function Ma(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],r=arguments.length>3?arguments[3]:void 0,i=Jt(),o=en(),a=nn();return Ra(o,i,i[11],a,e,t,n,r),Ma}function Da(e,t,n,r){var i=e.cleanup;if(null!=i)for(var o=0;o<i.length-1;o+=2){var a=i[o];if(a===n&&i[o+1]===r){var s=t[7],u=i[o+2];return s.length>u?s[u]:null}"string"==typeof a&&(o+=2)}return null}function Ra(e,t,n,r,i,o){var a=arguments.length>6&&void 0!==arguments[6]&&arguments[6],s=arguments.length>7?arguments[7]:void 0,u=kt(r),c=e.firstCreatePass,l=c&&Vo(e),d=Po(t),h=!0;if(3&r.type){var f=Ut(r,t),p=s?s(f):Qe,v=p.target||f,m=d.length,g=s?function(e){return s(Lt(e[r.index])).target}:r.index;if(jt(n)){var y=null;if(!s&&u&&(y=Da(e,t,i,r.index)),null!==y){var b=y.__ngLastListenerFn__||y;b.__ngNextListenerFn__=o,y.__ngLastListenerFn__=o,h=!1}else{o=Va(r,t,o,!1);var w=n.listen(p.name||v,i,o);d.push(o,w),l&&l.push(i,g,m,m+1)}}else o=Va(r,t,o,!0),v.addEventListener(i,o,a),d.push(o),l&&l.push(i,g,m,a)}else o=Va(r,t,o,!1);var x,k=r.outputs;if(h&&null!==k&&(x=k[i])){var _=x.length;if(_)for(var C=0;C<_;C+=2){var S=x[C],I=x[C+1],T=t[S],A=T[I],E=A.subscribe(o),O=d.length;d.push(o,E),l&&l.push(i,r.index,O,-(O+1))}}}function Pa(e,t,n){try{return!1!==t(n)}catch(r){return No(e,r),!1}}function Va(e,t,n,r){return function i(o){if(o===Function)return n;var a=2&e.flags?$t(e.index,t):t;0==(32&t[2])&&Eo(a);for(var s=Pa(t,n,o),u=i.__ngNextListenerFn__;u;)s=Pa(t,u,o)&&s,u=u.__ngNextListenerFn__;return r&&!1===s&&(o.preventDefault(),o.returnValue=!1),s}}function Na(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1;return Sn(e)}function ja(e,t){for(var n=null,r=function(e){var t=e.attrs;if(null!=t){var n=t.indexOf(5);if(0==(1&n))return t[n+1]}return null}(e),i=0;i<t.length;i++){var o=t[i];if("*"!==o){if(null===r?zi(e,o,!0):Li(r,o))return i}else n=i}return n}function za(e){var t=Jt()[16][6];if(!t.projection)for(var n=t.projection=_r(e?e.length:1,null),r=n.slice(),i=t.child;null!==i;){var o=e?ja(i,e):0;null!==o&&(r[o]?r[o].projectionNext=i:n[o]=i,r[o]=i),i=i.next}}function La(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2?arguments[2]:void 0,r=Jt(),i=en(),o=Ji(i,mt+e,16,null,n||null);null===o.projection&&(o.projection=t),sn(),64!=(64&o.flags)&&Ii(i,r,o)}function Fa(e,t,n){return Ua(e,"",t,"",n),Fa}function Ua(e,t,n,r,i){var o=Jt(),a=ba(o,t,n,r);return a!==Bi&&fo(en(),An(),o,e,a,o[11],i,!1),Ua}var Ba=[];function Ha(e,t,n,r,i){for(var o=e[n+1],a=null===t,s=r?Wi(o):Xi(o),u=!1;0!==s&&(!1===u||a);){var c=e[s+1];$a(e[s],t)&&(u=!0,e[s+1]=r?Qi(c):Gi(c)),s=r?Wi(c):Xi(c)}u&&(e[n+1]=r?Gi(o):Qi(o))}function $a(e,t){return null===e||null==t||(Array.isArray(e)?e[1]:e)===t||!(!Array.isArray(e)||"string"!=typeof t)&&Ir(e,t)>=0}var qa={textEnd:0,key:0,keyEnd:0,value:0,valueEnd:0};function Wa(e){return e.substring(qa.key,qa.keyEnd)}function Ga(e,t){var n=qa.textEnd;return n===t?-1:(t=qa.keyEnd=function(e,t,n){for(;t<n&&e.charCodeAt(t)>32;)t++;return t}(e,qa.key=t,n),Xa(e,t,n))}function Xa(e,t,n){for(;t<n&&e.charCodeAt(t)<=32;)t++;return t}function Za(e,t,n){return Ya(e,t,n,!1),Za}function Qa(e,t){return Ya(e,t,null,!0),Qa}function Ka(e,t){for(var n=function(e){return function(e){qa.key=0,qa.keyEnd=0,qa.value=0,qa.valueEnd=0,qa.textEnd=e.length}(e),Ga(e,Xa(e,0,qa.textEnd))}(t);n>=0;n=Ga(t,n))Cr(e,Wa(t),!0)}function Ya(e,t,n,r){var i=Jt(),o=en(),a=fn(2);o.firstUpdatePass&&es(o,e,a,r),t!==Bi&&ma(i,a,t)&&rs(o,o.data[In()],i,i[11],e,i[a+1]=function(e,t){return null==e||("string"==typeof t?e+=t:"object"==typeof e&&(e=ke(Hr(e)))),e}(t,n),r,a)}function Ja(e,t){return t>=e.expandoStartIndex}function es(e,t,n,r){var i=e.data;if(null===i[n+1]){var o=i[In()],a=Ja(e,n);as(o,r)&&null===t&&!a&&(t=!1),t=function(e,t,n,r){var i=function(e){var t=Kt.lFrame.currentDirectiveIndex;return-1===t?null:e[t]}(e),o=r?t.residualClasses:t.residualStyles;if(null===i)0===(r?t.classBindings:t.styleBindings)&&(n=ns(n=ts(null,e,t,n,r),t.attrs,r),o=null);else{var a=t.directiveStylingLast;if(-1===a||e[a]!==i)if(n=ts(i,e,t,n,r),null===o){var s=function(e,t,n){var r=n?t.classBindings:t.styleBindings;if(0!==Xi(r))return e[Wi(r)]}(e,t,r);void 0!==s&&Array.isArray(s)&&function(e,t,n,r){e[Wi(n?t.classBindings:t.styleBindings)]=r}(e,t,r,s=ns(s=ts(null,e,t,s[1],r),t.attrs,r))}else o=function(e,t,n){for(var r=void 0,i=t.directiveEnd,o=1+t.directiveStylingLast;o<i;o++)r=ns(r,e[o].hostAttrs,n);return ns(r,t.attrs,n)}(e,t,r)}return void 0!==o&&(r?t.residualClasses=o:t.residualStyles=o),n}(i,o,t,r),function(e,t,n,r,i,o){var a=o?t.classBindings:t.styleBindings,s=Wi(a),u=Xi(a);e[r]=n;var c,l=!1;if(Array.isArray(n)?(null===(c=n[1])||Ir(n,c)>0)&&(l=!0):c=n,i)if(0!==u){var d=Wi(e[s+1]);e[r+1]=qi(d,s),0!==d&&(e[d+1]=Zi(e[d+1],r)),e[s+1]=131071&e[s+1]|r<<17}else e[r+1]=qi(s,0),0!==s&&(e[s+1]=Zi(e[s+1],r)),s=r;else e[r+1]=qi(u,0),0===s?s=r:e[u+1]=Zi(e[u+1],r),u=r;l&&(e[r+1]=Gi(e[r+1])),Ha(e,c,r,!0),Ha(e,c,r,!1),function(e,t,n,r,i){var o=i?e.residualClasses:e.residualStyles;null!=o&&"string"==typeof t&&Ir(o,t)>=0&&(n[r+1]=Qi(n[r+1]))}(t,c,e,r,o),a=qi(s,u),o?t.classBindings=a:t.styleBindings=a}(i,o,t,n,a,r)}}function ts(e,t,n,r,i){var o=null,a=n.directiveEnd,s=n.directiveStylingLast;for(-1===s?s=n.directiveStart:s++;s<a&&(r=ns(r,(o=t[s]).hostAttrs,i),o!==e);)s++;return null!==e&&(n.directiveStylingLast=s),r}function ns(e,t,n){var r=n?1:2,i=-1;if(null!==t)for(var o=0;o<t.length;o++){var a=t[o];"number"==typeof a?i=a:i===r&&(Array.isArray(e)||(e=void 0===e?[]:["",e]),Cr(e,a,!!n||t[++o]))}return void 0===e?null:e}function rs(e,t,n,r,i,o,a,s){if(3&t.type){var u=e.data,c=u[s+1];os(1==(1&c)?is(u,t,n,i,Xi(c),a):void 0)||(os(o)||2==(2&c)&&(o=is(u,null,n,i,s,a)),function(e,t,n,r,i){var o=jt(e);if(t)i?o?e.addClass(n,r):n.classList.add(r):o?e.removeClass(n,r):n.classList.remove(r);else{var a=-1===r.indexOf("-")?void 0:ti.DashCase;if(null==i)o?e.removeStyle(n,r,a):n.style.removeProperty(r);else{var s="string"==typeof i&&i.endsWith("!important");s&&(i=i.slice(0,-10),a|=ti.Important),o?e.setStyle(n,r,i,a):n.style.setProperty(r,i,s?"important":"")}}}(r,a,Ft(In(),n),i,o))}}function is(e,t,n,r,i,o){for(var a=null===t,s=void 0;i>0;){var u=e[i],c=Array.isArray(u),l=c?u[1]:u,d=null===l,h=n[i+1];h===Bi&&(h=d?Ba:void 0);var f=d?Sr(h,r):l===r?h:void 0;if(c&&!os(f)&&(f=Sr(u,r)),os(f)&&(s=f,a))return s;var p=e[i+1];i=a?Wi(p):Xi(p)}if(null!==t){var v=o?t.residualClasses:t.residualStyles;null!=v&&(s=Sr(v,r))}return s}function os(e){return void 0!==e}function as(e,t){return 0!=(e.flags&(t?16:32))}function ss(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",n=Jt(),r=en(),i=e+mt,o=r.firstCreatePass?Ji(r,i,1,t,null):r.data[i],a=n[i]=ui(n[11],t);xi(r,n,a,o),on(o,!1)}function us(e){return cs("",e,""),us}function cs(e,t,n){var r=Jt(),i=ba(r,e,t,n);return i!==Bi&&zo(r,In(),i),cs}function ls(e,t,n,r,i){var o=Jt(),a=function(e,t,n,r,i,o){var a=ga(e,dn(),n,i);return fn(2),a?t+It(n)+r+It(i)+o:Bi}(o,e,t,n,r,i);return a!==Bi&&zo(o,In(),a),ls}function ds(e,t,n){!function(e,t,n,r){var i=en(),o=fn(2);i.firstUpdatePass&&es(i,null,o,r);var a=Jt();if(n!==Bi&&ma(a,o,n)){var s=i.data[In()];if(as(s,r)&&!Ja(i,o)){var u=s.classesWithoutHost;null!==u&&(n=_e(u,n||"")),Ca(i,s,a,n,r)}else!function(e,t,n,r,i,o,a,s){i===Bi&&(i=Ba);for(var u=0,c=0,l=0<i.length?i[0]:null,d=0<o.length?o[0]:null;null!==l||null!==d;){var h=u<i.length?i[u+1]:void 0,f=c<o.length?o[c+1]:void 0,p=null,v=void 0;l===d?(u+=2,c+=2,h!==f&&(p=d,v=f)):null===d||null!==l&&l<d?(u+=2,p=l):(c+=2,p=d,v=f),null!==p&&rs(e,t,n,r,p,v,true,s),l=u<i.length?i[u]:null,d=c<o.length?o[c]:null}}(i,s,a,a[11],a[o+1],a[o+1]=function(e,t,n){if(null==n||""===n)return Ba;var r=[],i=Hr(n);if(Array.isArray(i))for(var o=0;o<i.length;o++)e(r,i[o],!0);else if("object"==typeof i)for(var a in i)i.hasOwnProperty(a)&&e(r,a,i[a]);else"string"==typeof i&&t(r,i);return r}(e,t,n),0,o)}}(Cr,Ka,ba(Jt(),e,t,n),!0)}function hs(e,t,n){var r=Jt();return ma(r,hn(),t)&&fo(en(),An(),r,e,t,r[11],n,!0),hs}var fs=void 0,ps=["en",[["a","p"],["AM","PM"],fs],[["AM","PM"],fs,fs],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],fs,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],fs,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",fs,"{1} 'at' {0}",fs],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",function(e){var t=Math.floor(Math.abs(e)),n=e.toString().replace(/^[^.]*\.?/,"").length;return 1===t&&0===n?1:5}],vs={};function ms(e){return e in vs||(vs[e]=Ze.ng&&Ze.ng.common&&Ze.ng.common.locales&&Ze.ng.common.locales[e]),vs[e]}var gs=function(e){return e[e.LocaleId=0]="LocaleId",e[e.DayPeriodsFormat=1]="DayPeriodsFormat",e[e.DayPeriodsStandalone=2]="DayPeriodsStandalone",e[e.DaysFormat=3]="DaysFormat",e[e.DaysStandalone=4]="DaysStandalone",e[e.MonthsFormat=5]="MonthsFormat",e[e.MonthsStandalone=6]="MonthsStandalone",e[e.Eras=7]="Eras",e[e.FirstDayOfWeek=8]="FirstDayOfWeek",e[e.WeekendRange=9]="WeekendRange",e[e.DateFormat=10]="DateFormat",e[e.TimeFormat=11]="TimeFormat",e[e.DateTimeFormat=12]="DateTimeFormat",e[e.NumberSymbols=13]="NumberSymbols",e[e.NumberFormats=14]="NumberFormats",e[e.CurrencyCode=15]="CurrencyCode",e[e.CurrencySymbol=16]="CurrencySymbol",e[e.CurrencyName=17]="CurrencyName",e[e.Currencies=18]="Currencies",e[e.Directionality=19]="Directionality",e[e.PluralCase=20]="PluralCase",e[e.ExtraData=21]="ExtraData",e}({}),ys="en-US";function bs(e){var t,n;n="Expected localeId to be defined",null==(t=e)&&function(e,t,n,r){throw new Error("ASSERTION ERROR: ".concat(e)+" [Expected=> ".concat(null," ").concat("!="," ").concat(t," <=Actual]"))}(n,t),"string"==typeof e&&e.toLowerCase().replace(/_/g,"-")}function ws(e,t,n){var r=en();if(r.firstCreatePass){var i=_t(e);xs(n,r.data,r.blueprint,i,!0),xs(t,r.data,r.blueprint,i,!1)}}function xs(e,t,n,r,i){if(e=Ie(e),Array.isArray(e))for(var o=0;o<e.length;o++)xs(e[o],t,n,r,i);else{var a=en(),s=Jt(),u=ea(e)?e:Ie(e.provide),c=Ko(e),l=nn(),d=1048575&l.providerIndexes,h=l.directiveStart,f=l.providerIndexes>>20;if(ea(e)||!e.multi){var p=new Nn(c,i,ka),v=Cs(u,t,i?d:d+f,h);-1===v?(Yn(Xn(l,s),a,u),ks(a,e,t.length),t.push(u),l.directiveStart++,l.directiveEnd++,i&&(l.providerIndexes+=1048576),n.push(p),s.push(p)):(n[v]=p,s[v]=p)}else{var m=Cs(u,t,d+f,h),g=Cs(u,t,d,d+f),y=g>=0&&n[g];if(i&&!y||!i&&!(m>=0&&n[m])){Yn(Xn(l,s),a,u);var b=function(e,t,n,r,i){var o=new Nn(e,n,ka);return o.multi=[],o.index=t,o.componentProviders=0,_s(o,i,r&&!n),o}(i?Is:Ss,n.length,i,r,c);!i&&y&&(n[g].providerFactory=b),ks(a,e,t.length,0),t.push(u),l.directiveStart++,l.directiveEnd++,i&&(l.providerIndexes+=1048576),n.push(b),s.push(b)}else ks(a,e,m>-1?m:g,_s(n[i?g:m],c,!i&&r));!i&&r&&y&&n[g].componentProviders++}}}function ks(e,t,n,r){var i=ea(t);if(i||t.useClass){var o=(t.useClass||t).prototype.ngOnDestroy;if(o){var a=e.destroyHooks||(e.destroyHooks=[]);if(!i&&t.multi){var s=a.indexOf(n);-1===s?a.push(n,[r,o]):a[s+1].push(r,o)}else a.push(n,o)}}}function _s(e,t,n){return n&&e.componentProviders++,e.multi.push(t)-1}function Cs(e,t,n,r){for(var i=n;i<r;i++)if(t[i]===e)return i;return-1}function Ss(e,t,n,r){return Ts(this.multi,[])}function Is(e,t,n,r){var i,o=this.multi;if(this.providerFactory){var a=this.providerFactory.componentProviders,s=ar(n,n[1],this.providerFactory.index,r);Ts(o,i=s.slice(0,a));for(var u=a;u<s.length;u++)i.push(s[u])}else Ts(o,i=[]);return i}function Ts(e,t){for(var n=0;n<e.length;n++)t.push((0,e[n])());return t}function As(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];return function(n){n.providersResolver=function(n,r){return ws(n,r?r(e):e,t)}}}var Es=function e(){g(this,e)},Os=function e(){g(this,e)},Ms=function(){function e(){g(this,e)}return m(e,[{key:"resolveComponentFactory",value:function(e){throw function(e){var t=Error("No component factory found for ".concat(ke(e),". Did you add it to @NgModule.entryComponents?"));return t.ngComponent=e,t}(e)}}]),e}(),Ds=function(){var e=function e(){g(this,e)};return e.NULL=new Ms,e}();function Rs(){}function Ps(e,t){return new Ns(Ut(e,t))}var Vs=function(){return Ps(nn(),Jt())},Ns=function(){var e=function e(t){g(this,e),this.nativeElement=t};return e.__NG_ELEMENT_ID__=Vs,e}(),js=function e(){g(this,e)},zs=function(){var e=function e(){g(this,e)};return e.__NG_ELEMENT_ID__=function(){return Ls()},e}(),Ls=function(){var e=Jt(),t=$t(nn().index,e);return function(e){return e[11]}(yt(t)?t:e)},Fs=function(){var e=function e(){g(this,e)};return e.\u0275prov=Ae({token:e,providedIn:"root",factory:function(){return null}}),e}(),Us=new function e(t){g(this,e),this.full=t,this.major=t.split(".")[0],this.minor=t.split(".")[1],this.patch=t.split(".").slice(2).join(".")}("11.0.7"),Bs=function(){function e(){g(this,e)}return m(e,[{key:"supports",value:function(e){return fa(e)}},{key:"create",value:function(e){return new $s(e)}}]),e}(),Hs=function(e,t){return t},$s=function(){function e(t){g(this,e),this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=t||Hs}return m(e,[{key:"forEachItem",value:function(e){var t;for(t=this._itHead;null!==t;t=t._next)e(t)}},{key:"forEachOperation",value:function(e){for(var t=this._itHead,n=this._removalsHead,r=0,i=null;t||n;){var o=!n||t&&t.currentIndex<Xs(n,r,i)?t:n,a=Xs(o,r,i),s=o.currentIndex;if(o===n)r--,n=n._nextRemoved;else if(t=t._next,null==o.previousIndex)r++;else{i||(i=[]);var u=a-r,c=s-r;if(u!=c){for(var l=0;l<u;l++){var d=l<i.length?i[l]:i[l]=0,h=d+l;c<=h&&h<u&&(i[l]=d+1)}i[o.previousIndex]=c-u}}a!==s&&e(o,a,s)}}},{key:"forEachPreviousItem",value:function(e){var t;for(t=this._previousItHead;null!==t;t=t._nextPrevious)e(t)}},{key:"forEachAddedItem",value:function(e){var t;for(t=this._additionsHead;null!==t;t=t._nextAdded)e(t)}},{key:"forEachMovedItem",value:function(e){var t;for(t=this._movesHead;null!==t;t=t._nextMoved)e(t)}},{key:"forEachRemovedItem",value:function(e){var t;for(t=this._removalsHead;null!==t;t=t._nextRemoved)e(t)}},{key:"forEachIdentityChange",value:function(e){var t;for(t=this._identityChangesHead;null!==t;t=t._nextIdentityChange)e(t)}},{key:"diff",value:function(e){if(null==e&&(e=[]),!fa(e))throw new Error("Error trying to diff '".concat(ke(e),"'. Only arrays and iterables are allowed"));return this.check(e)?this:null}},{key:"onDestroy",value:function(){}},{key:"check",value:function(e){var t=this;this._reset();var n,r,i,o=this._itHead,a=!1;if(Array.isArray(e)){this.length=e.length;for(var s=0;s<this.length;s++)i=this._trackByFn(s,r=e[s]),null!==o&&Object.is(o.trackById,i)?(a&&(o=this._verifyReinsertion(o,r,i,s)),Object.is(o.item,r)||this._addIdentityChange(o,r)):(o=this._mismatch(o,r,i,s),a=!0),o=o._next}else n=0,function(e,t){if(Array.isArray(e))for(var n=0;n<e.length;n++)t(e[n]);else for(var r,i=e[da()]();!(r=i.next()).done;)t(r.value)}(e,function(e){i=t._trackByFn(n,e),null!==o&&Object.is(o.trackById,i)?(a&&(o=t._verifyReinsertion(o,e,i,n)),Object.is(o.item,e)||t._addIdentityChange(o,e)):(o=t._mismatch(o,e,i,n),a=!0),o=o._next,n++}),this.length=n;return this._truncate(o),this.collection=e,this.isDirty}},{key:"_reset",value:function(){if(this.isDirty){var e;for(e=this._previousItHead=this._itHead;null!==e;e=e._next)e._nextPrevious=e._next;for(e=this._additionsHead;null!==e;e=e._nextAdded)e.previousIndex=e.currentIndex;for(this._additionsHead=this._additionsTail=null,e=this._movesHead;null!==e;e=e._nextMoved)e.previousIndex=e.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}},{key:"_mismatch",value:function(e,t,n,r){var i;return null===e?i=this._itTail:(i=e._prev,this._remove(e)),null!==(e=null===this._linkedRecords?null:this._linkedRecords.get(n,r))?(Object.is(e.item,t)||this._addIdentityChange(e,t),this._moveAfter(e,i,r)):null!==(e=null===this._unlinkedRecords?null:this._unlinkedRecords.get(n,null))?(Object.is(e.item,t)||this._addIdentityChange(e,t),this._reinsertAfter(e,i,r)):e=this._addAfter(new qs(t,n),i,r),e}},{key:"_verifyReinsertion",value:function(e,t,n,r){var i=null===this._unlinkedRecords?null:this._unlinkedRecords.get(n,null);return null!==i?e=this._reinsertAfter(i,e._prev,r):e.currentIndex!=r&&(e.currentIndex=r,this._addToMoves(e,r)),e}},{key:"_truncate",value:function(e){for(;null!==e;){var t=e._next;this._addToRemovals(this._unlink(e)),e=t}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}},{key:"_reinsertAfter",value:function(e,t,n){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(e);var r=e._prevRemoved,i=e._nextRemoved;return null===r?this._removalsHead=i:r._nextRemoved=i,null===i?this._removalsTail=r:i._prevRemoved=r,this._insertAfter(e,t,n),this._addToMoves(e,n),e}},{key:"_moveAfter",value:function(e,t,n){return this._unlink(e),this._insertAfter(e,t,n),this._addToMoves(e,n),e}},{key:"_addAfter",value:function(e,t,n){return this._insertAfter(e,t,n),this._additionsTail=null===this._additionsTail?this._additionsHead=e:this._additionsTail._nextAdded=e,e}},{key:"_insertAfter",value:function(e,t,n){var r=null===t?this._itHead:t._next;return e._next=r,e._prev=t,null===r?this._itTail=e:r._prev=e,null===t?this._itHead=e:t._next=e,null===this._linkedRecords&&(this._linkedRecords=new Gs),this._linkedRecords.put(e),e.currentIndex=n,e}},{key:"_remove",value:function(e){return this._addToRemovals(this._unlink(e))}},{key:"_unlink",value:function(e){null!==this._linkedRecords&&this._linkedRecords.remove(e);var t=e._prev,n=e._next;return null===t?this._itHead=n:t._next=n,null===n?this._itTail=t:n._prev=t,e}},{key:"_addToMoves",value:function(e,t){return e.previousIndex===t||(this._movesTail=null===this._movesTail?this._movesHead=e:this._movesTail._nextMoved=e),e}},{key:"_addToRemovals",value:function(e){return null===this._unlinkedRecords&&(this._unlinkedRecords=new Gs),this._unlinkedRecords.put(e),e.currentIndex=null,e._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=e,e._prevRemoved=null):(e._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=e),e}},{key:"_addIdentityChange",value:function(e,t){return e.item=t,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=e:this._identityChangesTail._nextIdentityChange=e,e}},{key:"isDirty",get:function(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}}]),e}(),qs=function e(t,n){g(this,e),this.item=t,this.trackById=n,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null},Ws=function(){function e(){g(this,e),this._head=null,this._tail=null}return m(e,[{key:"add",value:function(e){null===this._head?(this._head=this._tail=e,e._nextDup=null,e._prevDup=null):(this._tail._nextDup=e,e._prevDup=this._tail,e._nextDup=null,this._tail=e)}},{key:"get",value:function(e,t){var n;for(n=this._head;null!==n;n=n._nextDup)if((null===t||t<=n.currentIndex)&&Object.is(n.trackById,e))return n;return null}},{key:"remove",value:function(e){var t=e._prevDup,n=e._nextDup;return null===t?this._head=n:t._nextDup=n,null===n?this._tail=t:n._prevDup=t,null===this._head}}]),e}(),Gs=function(){function e(){g(this,e),this.map=new Map}return m(e,[{key:"put",value:function(e){var t=e.trackById,n=this.map.get(t);n||(n=new Ws,this.map.set(t,n)),n.add(e)}},{key:"get",value:function(e,t){var n=this.map.get(e);return n?n.get(e,t):null}},{key:"remove",value:function(e){var t=e.trackById;return this.map.get(t).remove(e)&&this.map.delete(t),e}},{key:"clear",value:function(){this.map.clear()}},{key:"isEmpty",get:function(){return 0===this.map.size}}]),e}();function Xs(e,t,n){var r=e.previousIndex;if(null===r)return r;var i=0;return n&&r<n.length&&(i=n[r]),r+t+i}var Zs=function(){function e(){g(this,e)}return m(e,[{key:"supports",value:function(e){return e instanceof Map||pa(e)}},{key:"create",value:function(){return new Qs}}]),e}(),Qs=function(){function e(){g(this,e),this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}return m(e,[{key:"forEachItem",value:function(e){var t;for(t=this._mapHead;null!==t;t=t._next)e(t)}},{key:"forEachPreviousItem",value:function(e){var t;for(t=this._previousMapHead;null!==t;t=t._nextPrevious)e(t)}},{key:"forEachChangedItem",value:function(e){var t;for(t=this._changesHead;null!==t;t=t._nextChanged)e(t)}},{key:"forEachAddedItem",value:function(e){var t;for(t=this._additionsHead;null!==t;t=t._nextAdded)e(t)}},{key:"forEachRemovedItem",value:function(e){var t;for(t=this._removalsHead;null!==t;t=t._nextRemoved)e(t)}},{key:"diff",value:function(e){if(e){if(!(e instanceof Map||pa(e)))throw new Error("Error trying to diff '".concat(ke(e),"'. Only maps and objects are allowed"))}else e=new Map;return this.check(e)?this:null}},{key:"onDestroy",value:function(){}},{key:"check",value:function(e){var t=this;this._reset();var n=this._mapHead;if(this._appendAfter=null,this._forEach(e,function(e,r){if(n&&n.key===r)t._maybeAddToChanges(n,e),t._appendAfter=n,n=n._next;else{var i=t._getOrCreateRecordForKey(r,e);n=t._insertBeforeOrAppend(n,i)}}),n){n._prev&&(n._prev._next=null),this._removalsHead=n;for(var r=n;null!==r;r=r._nextRemoved)r===this._mapHead&&(this._mapHead=null),this._records.delete(r.key),r._nextRemoved=r._next,r.previousValue=r.currentValue,r.currentValue=null,r._prev=null,r._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}},{key:"_insertBeforeOrAppend",value:function(e,t){if(e){var n=e._prev;return t._next=e,t._prev=n,e._prev=t,n&&(n._next=t),e===this._mapHead&&(this._mapHead=t),this._appendAfter=e,e}return this._appendAfter?(this._appendAfter._next=t,t._prev=this._appendAfter):this._mapHead=t,this._appendAfter=t,null}},{key:"_getOrCreateRecordForKey",value:function(e,t){if(this._records.has(e)){var n=this._records.get(e);this._maybeAddToChanges(n,t);var r=n._prev,i=n._next;return r&&(r._next=i),i&&(i._prev=r),n._next=null,n._prev=null,n}var o=new Ks(e);return this._records.set(e,o),o.currentValue=t,this._addToAdditions(o),o}},{key:"_reset",value:function(){if(this.isDirty){var e;for(this._previousMapHead=this._mapHead,e=this._previousMapHead;null!==e;e=e._next)e._nextPrevious=e._next;for(e=this._changesHead;null!==e;e=e._nextChanged)e.previousValue=e.currentValue;for(e=this._additionsHead;null!=e;e=e._nextAdded)e.previousValue=e.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}},{key:"_maybeAddToChanges",value:function(e,t){Object.is(t,e.currentValue)||(e.previousValue=e.currentValue,e.currentValue=t,this._addToChanges(e))}},{key:"_addToAdditions",value:function(e){null===this._additionsHead?this._additionsHead=this._additionsTail=e:(this._additionsTail._nextAdded=e,this._additionsTail=e)}},{key:"_addToChanges",value:function(e){null===this._changesHead?this._changesHead=this._changesTail=e:(this._changesTail._nextChanged=e,this._changesTail=e)}},{key:"_forEach",value:function(e,t){e instanceof Map?e.forEach(t):Object.keys(e).forEach(function(n){return t(e[n],n)})}},{key:"isDirty",get:function(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}}]),e}(),Ks=function e(t){g(this,e),this.key=t,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null},Ys=function(){var e=function(){function e(t){g(this,e),this.factories=t}return m(e,[{key:"find",value:function(e){var t,n=this.factories.find(function(t){return t.supports(e)});if(null!=n)return n;throw new Error("Cannot find a differ supporting object '".concat(e,"' of type '").concat((t=e).name||typeof t,"'"))}}],[{key:"create",value:function(t,n){if(null!=n){var r=n.factories.slice();t=t.concat(r)}return new e(t)}},{key:"extend",value:function(t){return{provide:e,useFactory:function(n){if(!n)throw new Error("Cannot extend IterableDiffers without a parent injector");return e.create(t,n)},deps:[[e,new Or,new Ar]]}}}]),e}();return e.\u0275prov=Ae({token:e,providedIn:"root",factory:function(){return new e([new Bs])}}),e}(),Js=function(){var e=function(){function e(t){g(this,e),this.factories=t}return m(e,[{key:"find",value:function(e){var t=this.factories.find(function(t){return t.supports(e)});if(t)return t;throw new Error("Cannot find a differ supporting object '".concat(e,"'"))}}],[{key:"create",value:function(t,n){if(n){var r=n.factories.slice();t=t.concat(r)}return new e(t)}},{key:"extend",value:function(t){return{provide:e,useFactory:function(n){if(!n)throw new Error("Cannot extend KeyValueDiffers without a parent injector");return e.create(t,n)},deps:[[e,new Or,new Ar]]}}}]),e}();return e.\u0275prov=Ae({token:e,providedIn:"root",factory:function(){return new e([new Zs])}}),e}();function eu(e,t,n,r){for(var i=arguments.length>4&&void 0!==arguments[4]&&arguments[4];null!==n;){var o=t[n.index];if(null!==o&&r.push(Lt(o)),bt(o))for(var a=gt;a<o.length;a++){var s=o[a],u=s[1].firstChild;null!==u&&eu(s[1],s,u,r)}var c=n.type;if(8&c)eu(e,t,n.child,r);else if(32&c)for(var l=ni(n,t),h=void 0;h=l();)r.push(h);else if(16&c){var f=t[16],p=f[6],v=n.projection,m=p.projection[v];if(Array.isArray(m))r.push.apply(r,d(m));else{var g=ri(f);eu(g[1],g,m,r,!0)}}n=i?n.projectionNext:n.next}return r}var tu=function(){function e(t,n){g(this,e),this._lView=t,this._cdRefInjectingView=n,this._appRef=null,this._viewContainerRef=null}return m(e,[{key:"destroy",value:function(){if(this._appRef)this._appRef.detachView(this);else if(this._viewContainerRef){var e=this._viewContainerRef.indexOf(this);e>-1&&this._viewContainerRef.detach(e),this._viewContainerRef=null}hi(this._lView[1],this._lView)}},{key:"onDestroy",value:function(e){lo(this._lView[1],this._lView,null,e)}},{key:"markForCheck",value:function(){Eo(this._cdRefInjectingView||this._lView)}},{key:"detach",value:function(){this._lView[2]&=-129}},{key:"reattach",value:function(){this._lView[2]|=128}},{key:"detectChanges",value:function(){Oo(this._lView[1],this._lView,this.context)}},{key:"checkNoChanges",value:function(){!function(e,t,n){cn(!0);try{Oo(e,t,n)}finally{cn(!1)}}(this._lView[1],this._lView,this.context)}},{key:"attachToViewContainerRef",value:function(e){if(this._appRef)throw new Error("This view is already attached directly to the ApplicationRef!");this._viewContainerRef=e}},{key:"detachFromAppRef",value:function(){var e;this._appRef=null,Si(this._lView[1],e=this._lView,e[11],2,null,null)}},{key:"attachToAppRef",value:function(e){if(this._viewContainerRef)throw new Error("This view is already attached to a ViewContainer!");this._appRef=e}},{key:"rootNodes",get:function(){var e=this._lView,t=e[1];return eu(t,e,t.firstChild,[])}},{key:"context",get:function(){return this._lView[8]}},{key:"destroyed",get:function(){return 256==(256&this._lView[2])}}]),e}(),nu=function(e){y(n,e);var t=x(n);function n(e){var r;return g(this,n),(r=t.call(this,e))._view=e,r}return m(n,[{key:"detectChanges",value:function(){Mo(this._view)}},{key:"checkNoChanges",value:function(){!function(e){cn(!0);try{Mo(e)}finally{cn(!1)}}(this._view)}},{key:"context",get:function(){return null}}]),n}(tu),ru=ou,iu=function(){var e=function e(){g(this,e)};return e.__NG_ELEMENT_ID__=ru,e.__ChangeDetectorRef__=!0,e}();function ou(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];return au(nn(),Jt(),e)}function au(e,t,n){if(!n&&xt(e)){var r=$t(e.index,t);return new tu(r,r)}return 47&e.type?new tu(t[16],t):null}var su=[new Zs],uu=new Ys([new Bs]),cu=new Js(su),lu=function(){return fu(nn(),Jt())},du=function(){var e=function e(){g(this,e)};return e.__NG_ELEMENT_ID__=lu,e}(),hu=function(e){y(n,e);var t=x(n);function n(e,r,i){var o;return g(this,n),(o=t.call(this))._declarationLView=e,o._declarationTContainer=r,o.elementRef=i,o}return m(n,[{key:"createEmbeddedView",value:function(e){var t=this._declarationTContainer.tViews,n=Yi(this._declarationLView,t,e,16,null,t.declTNode,null,null,null,null);n[17]=this._declarationLView[this._declarationTContainer.index];var r=this._declarationLView[19];return null!==r&&(n[19]=r.createEmbeddedView(t)),to(t,n,e),new tu(n)}}]),n}(du);function fu(e,t){return 4&e.type?new hu(t,e,Ps(e,t)):null}var pu=function e(){g(this,e)},vu=function e(){g(this,e)},mu=function(){return xu(nn(),Jt())},gu=function(){var e=function e(){g(this,e)};return e.__NG_ELEMENT_ID__=mu,e}(),yu=function(e){y(n,e);var t=x(n);function n(e,r,i){var o;return g(this,n),(o=t.call(this))._lContainer=e,o._hostTNode=r,o._hostLView=i,o}return m(n,[{key:"clear",value:function(){for(;this.length>0;)this.remove(this.length-1)}},{key:"get",value:function(e){var t=bu(this._lContainer);return null!==t&&t[e]||null}},{key:"createEmbeddedView",value:function(e,t,n){var r=e.createEmbeddedView(t||{});return this.insert(r,n),r}},{key:"createComponent",value:function(e,t,n,r,i){var o=n||this.parentInjector;if(!i&&null==e.ngModule&&o){var a=o.get(pu,null);a&&(i=a)}var s=e.create(o,r,void 0,i);return this.insert(s.hostView,t),s}},{key:"insert",value:function(e,t){var n=e._lView,r=n[1];if(bt(n[3])){var i=this.indexOf(e);if(-1!==i)this.detach(i);else{var o=n[3],a=new yu(o,o[6],o[3]);a.detach(a.indexOf(e))}}var s=this._adjustIndex(t),u=this._lContainer;!function(e,t,n,r){var i=gt+r,o=n.length;r>0&&(n[i-1][4]=t),r<o-gt?(t[4]=n[i],xr(n,gt+r,t)):(n.push(t),t[4]=null),t[3]=n;var a=t[17];null!==a&&n!==a&&function(e,t){var n=e[9];t[16]!==t[3][3][16]&&(e[2]=!0),null===n?e[9]=[t]:n.push(t)}(a,t);var s=t[19];null!==s&&s.insertView(e),t[2]|=128}(r,n,u,s);var c=_i(s,u),l=n[11],d=yi(l,u[7]);return null!==d&&function(e,t,n,r,i,o){r[0]=i,r[6]=t,Si(e,r,n,1,i,o)}(r,u[6],l,n,d,c),e.attachToViewContainerRef(this),xr(wu(u),s,e),e}},{key:"move",value:function(e,t){return this.insert(e,t)}},{key:"indexOf",value:function(e){var t=bu(this._lContainer);return null!==t?t.indexOf(e):-1}},{key:"remove",value:function(e){var t=this._adjustIndex(e,-1),n=di(this._lContainer,t);n&&(kr(wu(this._lContainer),t),hi(n[1],n))}},{key:"detach",value:function(e){var t=this._adjustIndex(e,-1),n=di(this._lContainer,t);return n&&null!=kr(wu(this._lContainer),t)?new tu(n):null}},{key:"_adjustIndex",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return null==e?this.length+t:e}},{key:"element",get:function(){return Ps(this._hostTNode,this._hostLView)}},{key:"injector",get:function(){return new lr(this._hostTNode,this._hostLView)}},{key:"parentInjector",get:function(){var e=Kn(this._hostTNode,this._hostLView);if(Bn(e)){var t=$n(e,this._hostLView),n=Hn(e);return new lr(t[1].data[n+8],t)}return new lr(null,this._hostLView)}},{key:"length",get:function(){return this._lContainer.length-gt}}]),n}(gu);function bu(e){return e[8]}function wu(e){return e[8]||(e[8]=[])}function xu(e,t){var n,r=t[e.index];if(bt(r))n=r;else{var i;if(8&e.type)i=Lt(r);else{var o=t[11];i=o.createComment("");var a=Ut(e,t);vi(o,yi(o,a),i,function(e,t){return jt(e)?e.nextSibling(t):t.nextSibling}(o,a),!1)}t[e.index]=n=Co(r,t,i,e),Ao(t,n)}return new yu(n,e,t)}var ku={},_u=function(e){y(n,e);var t=x(n);function n(e){var r;return g(this,n),(r=t.call(this)).ngModule=e,r}return m(n,[{key:"resolveComponentFactory",value:function(e){var t=pt(e);return new Iu(t,this.ngModule)}}]),n}(Ds);function Cu(e){var t=[];for(var n in e)e.hasOwnProperty(n)&&t.push({propName:e[n],templateName:n});return t}var Su=new mr("SCHEDULER_TOKEN",{providedIn:"root",factory:function(){return Jr}}),Iu=function(e){y(n,e);var t=x(n);function n(e,r){var i;return g(this,n),(i=t.call(this)).componentDef=e,i.ngModule=r,i.componentType=e.type,i.selector=e.selectors.map(Ui).join(","),i.ngContentSelectors=e.ngContentSelectors?e.ngContentSelectors:[],i.isBoundToModule=!!r,i}return m(n,[{key:"create",value:function(e,t,n,r){var i,o,a=(r=r||this.ngModule)?function(e,t){return{get:function(n,r,i){var o=e.get(n,ku,i);return o!==ku||r===ku?o:t.get(n,r,i)}}}(e,r.injector):e,s=a.get(js,zt),u=a.get(Fs,null),c=s.createRenderer(null,this.componentDef),l=this.componentDef.selectors[0][0]||"div",d=n?function(e,t,n){if(jt(e))return e.selectRootElement(t,n===$e.ShadowDom);var r="string"==typeof t?e.querySelector(t):t;return r.textContent="",r}(c,n,this.componentDef.encapsulation):ci(s.createRenderer(null,this.componentDef),l,function(e){var t=e.toLowerCase();return"svg"===t?Vt:"math"===t?"http://www.w3.org/1998/MathML/":null}(l)),h=this.componentDef.onPush?576:528,f={components:[],scheduler:Jr,clean:Ro,playerHandler:null,flags:0},p=co(0,null,null,1,0,null,null,null,null,null),v=Yi(null,p,f,h,null,null,s,c,u,a);bn(v);try{var m=function(e,t,n,r,i,o){var a=n[1];n[20]=e;var s=Ji(a,20,2,"#host",null),u=s.mergedAttrs=t.hostAttrs;null!==u&&(Lo(s,u,!0),null!==e&&(jn(i,e,u),null!==s.classes&&Ei(i,e,s.classes),null!==s.styles&&Ai(i,e,s.styles)));var c=r.createRenderer(e,t),l=Yi(n,uo(t),null,t.onPush?64:16,n[20],s,r,c,null,null);return a.firstCreatePass&&(Yn(Xn(s,n),a,t.type),go(a,s),bo(s,n.length,1)),Ao(n,l),n[20]=l}(d,this.componentDef,v,s,c);if(d)if(n)jn(c,d,["ng-version",Us.full]);else{var g=function(e){for(var t=[],n=[],r=1,i=2;r<e.length;){var o=e[r];if("string"==typeof o)2===i?""!==o&&t.push(o,e[++r]):8===i&&n.push(o);else{if(!Ni(i))break;i=o}r++}return{attrs:t,classes:n}}(this.componentDef.selectors[0]),y=g.attrs,b=g.classes;y&&jn(c,d,y),b&&b.length>0&&Ei(c,d,b.join(" "))}if(o=Bt(p,mt),void 0!==t)for(var w=o.projection=[],x=0;x<this.ngContentSelectors.length;x++){var k=t[x];w.push(null!=k?Array.from(k):null)}i=function(e,t,n,r,i){var o=n[1],a=function(e,t,n){var r=nn();e.firstCreatePass&&(n.providersResolver&&n.providersResolver(n),wo(e,r,t,eo(e,t,1,null),n));var i=ar(t,e,r.directiveStart,r);Yr(i,t);var o=Ut(r,t);return o&&Yr(o,t),i}(o,n,t);if(r.components.push(a),e[8]=a,i&&i.forEach(function(e){return e(a,t)}),t.contentQueries){var s=nn();t.contentQueries(1,a,s.directiveStart)}var u=nn();return!o.firstCreatePass||null===t.hostBindings&&null===t.hostAttrs||(Tn(u.index),vo(n[1],u,0,u.directiveStart,u.directiveEnd,t),mo(t,a)),a}(m,this.componentDef,v,f,[ia]),to(p,v,null)}finally{Cn()}return new Tu(this.componentType,i,Ps(o,v),v,o)}},{key:"inputs",get:function(){return Cu(this.componentDef.inputs)}},{key:"outputs",get:function(){return Cu(this.componentDef.outputs)}}]),n}(Os),Tu=function(e){y(n,e);var t=x(n);function n(e,r,i,o,a){var s;return g(this,n),(s=t.call(this)).location=i,s._rootLView=o,s._tNode=a,s.instance=r,s.hostView=s.changeDetectorRef=new nu(o),s.componentType=e,s}return m(n,[{key:"destroy",value:function(){this.hostView.destroy()}},{key:"onDestroy",value:function(e){this.hostView.onDestroy(e)}},{key:"injector",get:function(){return new lr(this._tNode,this._rootLView)}}]),n}(Es),Au=new Map,Eu=function(e){y(n,e);var t=x(n);function n(e,r){var i;g(this,n),(i=t.call(this))._parent=r,i._bootstrapComponents=[],i.injector=o(i),i.destroyCbs=[],i.componentFactoryResolver=new _u(o(i));var a=vt(e),s=e[nt]||null;return s&&bs(s),i._bootstrapComponents=ei(a.bootstrap),i._r3Injector=Xo(e,r,[{provide:pu,useValue:o(i)},{provide:Ds,useValue:i.componentFactoryResolver}],ke(e)),i._r3Injector._resolveInjectorDefTypes(),i.instance=i.get(e),i}return m(n,[{key:"get",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:ra.THROW_IF_NOT_FOUND,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:ze.Default;return e===ra||e===pu||e===Fo?this:this._r3Injector.get(e,t,n)}},{key:"destroy",value:function(){var e=this._r3Injector;!e.destroyed&&e.destroy(),this.destroyCbs.forEach(function(e){return e()}),this.destroyCbs=null}},{key:"onDestroy",value:function(e){this.destroyCbs.push(e)}}]),n}(pu),Ou=function(e){y(n,e);var t=x(n);function n(e){var r,i,o;return g(this,n),(r=t.call(this)).moduleType=e,null!==vt(e)&&(i=e,o=new Set,function e(t){var n=vt(t,!0),r=n.id;null!==r&&(function(e,t,n){if(t&&t!==n)throw new Error("Duplicate module registered for ".concat(e," - ").concat(ke(t)," vs ").concat(ke(t.name)))}(r,Au.get(r),t),Au.set(r,t));var i,a=l(ei(n.imports));try{for(a.s();!(i=a.n()).done;){var s=i.value;o.has(s)||(o.add(s),e(s))}}catch(u){a.e(u)}finally{a.f()}}(i)),r}return m(n,[{key:"create",value:function(e){return new Eu(this.moduleType,e)}}]),n}(vu);function Mu(e,t,n,r){return Ru(Jt(),ln(),e,t,n,r)}function Du(e,t){var n=e[t];return n===Bi?void 0:n}function Ru(e,t,n,r,i,o){var a=t+n;return ma(e,a,i)?va(e,a+1,o?r.call(o,i):r(i)):Du(e,a+1)}function Pu(e,t){var n,r=en(),i=e+mt;r.firstCreatePass?(n=function(e,t){if(t)for(var n=t.length-1;n>=0;n--){var r=t[n];if(e===r.name)return r}throw new St("302","The pipe '".concat(e,"' could not be found!"))}(t,r.pipeRegistry),r.data[i]=n,n.onDestroy&&(r.destroyHooks||(r.destroyHooks=[])).push(i,n.onDestroy)):n=r.data[i];var o=n.factory||(n.factory=Ct(n.type)),a=Fe(ka);try{var s=Wn(!1),u=o();return Wn(s),function(e,t,n,r){n>=e.data.length&&(e.data[n]=null,e.blueprint[n]=null),t[n]=r}(r,Jt(),i,u),u}finally{Fe(a)}}function Vu(e,t,n){var r=e+mt,i=Jt(),o=Ht(i,r);return function(e,t){return ha.isWrapped(t)&&(t=ha.unwrap(t),e[dn()]=Bi),t}(i,function(e,t){return e[1].data[t].pure}(i,r)?Ru(i,ln(),t,o.transform,n,o):o.transform(n))}var Nu=function(e){y(n,e);var t=x(n);function n(){var e,r=arguments.length>0&&void 0!==arguments[0]&&arguments[0];return g(this,n),(e=t.call(this)).__isAsync=r,e}return m(n,[{key:"emit",value:function(e){i(r(n.prototype),"next",this).call(this,e)}},{key:"subscribe",value:function(e,t,o){var a,s=function(e){return null},u=function(){return null};e&&"object"==typeof e?(a=this.__isAsync?function(t){setTimeout(function(){return e.next(t)})}:function(t){e.next(t)},e.error&&(s=this.__isAsync?function(t){setTimeout(function(){return e.error(t)})}:function(t){e.error(t)}),e.complete&&(u=this.__isAsync?function(){setTimeout(function(){return e.complete()})}:function(){e.complete()})):(a=this.__isAsync?function(t){setTimeout(function(){return e(t)})}:function(t){e(t)},t&&(s=this.__isAsync?function(e){setTimeout(function(){return t(e)})}:function(e){t(e)}),o&&(u=this.__isAsync?function(){setTimeout(function(){return o()})}:function(){o()}));var c=i(r(n.prototype),"subscribe",this).call(this,a,s,u);return e instanceof T&&e.add(c),c}}]),n}($);function ju(){return this._results[da()]()}var zu=function(){function e(){g(this,e),this.dirty=!0,this._results=[],this.changes=new Nu,this.length=0;var t=da(),n=e.prototype;n[t]||(n[t]=ju)}return m(e,[{key:"map",value:function(e){return this._results.map(e)}},{key:"filter",value:function(e){return this._results.filter(e)}},{key:"find",value:function(e){return this._results.find(e)}},{key:"reduce",value:function(e,t){return this._results.reduce(e,t)}},{key:"forEach",value:function(e){this._results.forEach(e)}},{key:"some",value:function(e){return this._results.some(e)}},{key:"toArray",value:function(){return this._results.slice()}},{key:"toString",value:function(){return this._results.toString()}},{key:"reset",value:function(e){this._results=br(e),this.dirty=!1,this.length=this._results.length,this.last=this._results[this.length-1],this.first=this._results[0]}},{key:"notifyOnChanges",value:function(){this.changes.emit(this)}},{key:"setDirty",value:function(){this.dirty=!0}},{key:"destroy",value:function(){this.changes.complete(),this.changes.unsubscribe()}}]),e}(),Lu=function(){function e(t){g(this,e),this.queryList=t,this.matches=null}return m(e,[{key:"clone",value:function(){return new e(this.queryList)}},{key:"setDirty",value:function(){this.queryList.setDirty()}}]),e}(),Fu=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];g(this,e),this.queries=t}return m(e,[{key:"createEmbeddedView",value:function(t){var n=t.queries;if(null!==n){for(var r=null!==t.contentQueries?t.contentQueries[0]:n.length,i=[],o=0;o<r;o++){var a=n.getByIndex(o);i.push(this.queries[a.indexInDeclarationView].clone())}return new e(i)}return null}},{key:"insertView",value:function(e){this.dirtyQueriesWithMatches(e)}},{key:"detachView",value:function(e){this.dirtyQueriesWithMatches(e)}},{key:"dirtyQueriesWithMatches",value:function(e){for(var t=0;t<this.queries.length;t++)null!==Ju(e,t).matches&&this.queries[t].setDirty()}}]),e}(),Uu=function e(t,n,r){var i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;g(this,e),this.predicate=t,this.descendants=n,this.isStatic=r,this.read=i},Bu=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];g(this,e),this.queries=t}return m(e,[{key:"elementStart",value:function(e,t){for(var n=0;n<this.queries.length;n++)this.queries[n].elementStart(e,t)}},{key:"elementEnd",value:function(e){for(var t=0;t<this.queries.length;t++)this.queries[t].elementEnd(e)}},{key:"embeddedTView",value:function(t){for(var n=null,r=0;r<this.length;r++){var i=null!==n?n.length:0,o=this.getByIndex(r).embeddedTView(t,i);o&&(o.indexInDeclarationView=r,null!==n?n.push(o):n=[o])}return null!==n?new e(n):null}},{key:"template",value:function(e,t){for(var n=0;n<this.queries.length;n++)this.queries[n].template(e,t)}},{key:"getByIndex",value:function(e){return this.queries[e]}},{key:"track",value:function(e){this.queries.push(e)}},{key:"length",get:function(){return this.queries.length}}]),e}(),Hu=function(){function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:-1;g(this,e),this.metadata=t,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=n}return m(e,[{key:"elementStart",value:function(e,t){this.isApplyingToNode(t)&&this.matchTNode(e,t)}},{key:"elementEnd",value:function(e){this._declarationNodeIndex===e.index&&(this._appliesToNextNode=!1)}},{key:"template",value:function(e,t){this.elementStart(e,t)}},{key:"embeddedTView",value:function(t,n){return this.isApplyingToNode(t)?(this.crossesNgTemplate=!0,this.addMatch(-t.index,n),new e(this.metadata)):null}},{key:"isApplyingToNode",value:function(e){if(this._appliesToNextNode&&!1===this.metadata.descendants){for(var t=this._declarationNodeIndex,n=e.parent;null!==n&&8&n.type&&n.index!==t;)n=n.parent;return t===(null!==n?n.index:-1)}return this._appliesToNextNode}},{key:"matchTNode",value:function(e,t){var n=this.metadata.predicate;if(Array.isArray(n))for(var r=0;r<n.length;r++){var i=n[r];this.matchTNodeWithReadOption(e,t,$u(t,i)),this.matchTNodeWithReadOption(e,t,or(t,e,i,!1,!1))}else n===du?4&t.type&&this.matchTNodeWithReadOption(e,t,-1):this.matchTNodeWithReadOption(e,t,or(t,e,n,!1,!1))}},{key:"matchTNodeWithReadOption",value:function(e,t,n){if(null!==n){var r=this.metadata.read;if(null!==r)if(r===Ns||r===gu||r===du&&4&t.type)this.addMatch(t.index,-2);else{var i=or(t,e,r,!1,!1);null!==i&&this.addMatch(t.index,i)}else this.addMatch(t.index,n)}}},{key:"addMatch",value:function(e,t){null===this.matches?this.matches=[e,t]:this.matches.push(e,t)}}]),e}();function $u(e,t){var n=e.localNames;if(null!==n)for(var r=0;r<n.length;r+=2)if(n[r]===t)return n[r+1];return null}function qu(e,t,n,r){return-1===n?function(e,t){return 11&e.type?Ps(e,t):4&e.type?fu(e,t):null}(t,e):-2===n?function(e,t,n){return n===Ns?Ps(t,e):n===du?fu(t,e):n===gu?xu(t,e):void 0}(e,t,r):ar(e,e[1],n,t)}function Wu(e,t,n,r){var i=t[19].queries[r];if(null===i.matches){for(var o=e.data,a=n.matches,s=[],u=0;u<a.length;u+=2){var c=a[u];s.push(c<0?null:qu(t,o[c],a[u+1],n.metadata.read))}i.matches=s}return i.matches}function Gu(e,t,n,r){var i=e.queries.getByIndex(n),o=i.matches;if(null!==o)for(var a=Wu(e,t,i,n),s=0;s<o.length;s+=2){var u=o[s];if(u>0)r.push(a[s/2]);else{for(var c=o[s+1],l=t[-u],d=gt;d<l.length;d++){var h=l[d];h[17]===h[3]&&Gu(h[1],h,c,r)}if(null!==l[9])for(var f=l[9],p=0;p<f.length;p++){var v=f[p];Gu(v[1],v,c,r)}}}return r}function Xu(e){var t=Jt(),n=en(),r=vn();mn(r+1);var i=Ju(n,r);if(e.dirty&&Wt(t)===i.metadata.isStatic){if(null===i.matches)e.reset([]);else{var o=i.crossesNgTemplate?Gu(n,t,r,[]):Wu(n,t,i,r);e.reset(o),e.notifyOnChanges()}return!0}return!1}function Zu(e,t,n,r){!function(e,t,n,r,i,o,a,s){e.firstCreatePass&&(Yu(e,new Uu(n,r,false,i),a.index),function(e,t){var n=e.contentQueries||(e.contentQueries=[]);t!==(n.length?n[n.length-1]:-1)&&n.push(e.queries.length-1,t)}(e,s)),Ku(e,t)}(en(),Jt(),t,n,r,0,nn(),e)}function Qu(){return e=Jt(),t=vn(),e[19].queries[t].queryList;var e,t}function Ku(e,t){var n=new zu;lo(e,t,n,n.destroy),null===t[19]&&(t[19]=new Fu),t[19].queries.push(new Lu(n))}function Yu(e,t,n){null===e.queries&&(e.queries=new Bu),e.queries.track(new Hu(t,n))}function Ju(e,t){return e.queries.getByIndex(t)}function ec(e,t){return fu(e,t)}var tc=new mr("Application Initializer"),nc=function(){var e=function(){function e(t){var n=this;g(this,e),this.appInits=t,this.resolve=Rs,this.reject=Rs,this.initialized=!1,this.done=!1,this.donePromise=new Promise(function(e,t){n.resolve=e,n.reject=t})}return m(e,[{key:"runInitializers",value:function(){var e=this;if(!this.initialized){var t=[],n=function(){e.done=!0,e.resolve()};if(this.appInits)for(var r=0;r<this.appInits.length;r++){var i=this.appInits[r]();Ea(i)&&t.push(i)}Promise.all(t).then(function(){n()}).catch(function(t){e.reject(t)}),0===t.length&&n(),this.initialized=!0}}}]),e}();return e.\u0275fac=function(t){return new(t||e)(Lr(tc,8))},e.\u0275prov=Ae({token:e,factory:e.\u0275fac}),e}(),rc=new mr("AppId"),ic={provide:rc,useFactory:function(){return"".concat(oc()).concat(oc()).concat(oc())},deps:[]};function oc(){return String.fromCharCode(97+Math.floor(25*Math.random()))}var ac=new mr("Platform Initializer"),sc=new mr("Platform ID"),uc=new mr("appBootstrapListener"),cc=function(){var e=function(){function e(){g(this,e)}return m(e,[{key:"log",value:function(e){console.log(e)}},{key:"warn",value:function(e){console.warn(e)}}]),e}();return e.\u0275fac=function(t){return new(t||e)},e.\u0275prov=Ae({token:e,factory:e.\u0275fac}),e}(),lc=new mr("LocaleId"),dc=new mr("DefaultCurrencyCode"),hc=function e(t,n){g(this,e),this.ngModuleFactory=t,this.componentFactories=n},fc=function(e){return new Ou(e)},pc=fc,vc=function(e){return Promise.resolve(fc(e))},mc=function(e){var t=fc(e),n=ei(vt(e).declarations).reduce(function(e,t){var n=pt(t);return n&&e.push(new Iu(n)),e},[]);return new hc(t,n)},gc=mc,yc=function(e){return Promise.resolve(mc(e))},bc=function(){var e=function(){function e(){g(this,e),this.compileModuleSync=pc,this.compileModuleAsync=vc,this.compileModuleAndAllComponentsSync=gc,this.compileModuleAndAllComponentsAsync=yc}return m(e,[{key:"clearCache",value:function(){}},{key:"clearCacheFor",value:function(e){}},{key:"getModuleId",value:function(e){}}]),e}();return e.\u0275fac=function(t){return new(t||e)},e.\u0275prov=Ae({token:e,factory:e.\u0275fac}),e}(),wc=function(){return Promise.resolve(0)}();function xc(e){"undefined"==typeof Zone?wc.then(function(){e&&e.apply(null,null)}):Zone.current.scheduleMicroTask("scheduleMicrotask",e)}var kc=function(){function e(t){var n=t.enableLongStackTrace,r=void 0!==n&&n,i=t.shouldCoalesceEventChangeDetection,o=void 0!==i&&i;if(g(this,e),this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new Nu(!1),this.onMicrotaskEmpty=new Nu(!1),this.onStable=new Nu(!1),this.onError=new Nu(!1),"undefined"==typeof Zone)throw new Error("In this configuration Angular requires Zone.js");Zone.assertZonePatched();var a,s,u,c=this;c._nesting=0,c._outer=c._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(c._inner=c._inner.fork(new Zone.TaskTrackingZoneSpec)),r&&Zone.longStackTraceZoneSpec&&(c._inner=c._inner.fork(Zone.longStackTraceZoneSpec)),c.shouldCoalesceEventChangeDetection=o,c.lastRequestAnimationFrameId=-1,c.nativeRequestAnimationFrame=function(){var e=Ze.requestAnimationFrame,t=Ze.cancelAnimationFrame;if("undefined"!=typeof Zone&&e&&t){var n=e[Zone.__symbol__("OriginalDelegate")];n&&(e=n);var r=t[Zone.__symbol__("OriginalDelegate")];r&&(t=r)}return{nativeRequestAnimationFrame:e,nativeCancelAnimationFrame:t}}().nativeRequestAnimationFrame,s=function(){!function(e){-1===e.lastRequestAnimationFrameId&&(e.lastRequestAnimationFrameId=e.nativeRequestAnimationFrame.call(Ze,function(){e.fakeTopEventTask||(e.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",function(){e.lastRequestAnimationFrameId=-1,Sc(e),Cc(e)},void 0,function(){},function(){})),e.fakeTopEventTask.invoke()}),Sc(e))}(a)},(a=c)._inner=a._inner.fork({name:"angular",properties:{isAngularZone:!0,maybeDelayChangeDetection:u=!!a.shouldCoalesceEventChangeDetection&&a.nativeRequestAnimationFrame&&s},onInvokeTask:function(e,t,n,r,i,o){try{return Ic(a),e.invokeTask(n,r,i,o)}finally{u&&"eventTask"===r.type&&u(),Tc(a)}},onInvoke:function(e,t,n,r,i,o,s){try{return Ic(a),e.invoke(n,r,i,o,s)}finally{Tc(a)}},onHasTask:function(e,t,n,r){e.hasTask(n,r),t===n&&("microTask"==r.change?(a._hasPendingMicrotasks=r.microTask,Sc(a),Cc(a)):"macroTask"==r.change&&(a.hasPendingMacrotasks=r.macroTask))},onHandleError:function(e,t,n,r){return e.handleError(n,r),a.runOutsideAngular(function(){return a.onError.emit(r)}),!1}})}return m(e,[{key:"run",value:function(e,t,n){return this._inner.run(e,t,n)}},{key:"runTask",value:function(e,t,n,r){var i=this._inner,o=i.scheduleEventTask("NgZoneEvent: "+r,e,_c,Rs,Rs);try{return i.runTask(o,t,n)}finally{i.cancelTask(o)}}},{key:"runGuarded",value:function(e,t,n){return this._inner.runGuarded(e,t,n)}},{key:"runOutsideAngular",value:function(e){return this._outer.run(e)}}],[{key:"isInAngularZone",value:function(){return!0===Zone.current.get("isAngularZone")}},{key:"assertInAngularZone",value:function(){if(!e.isInAngularZone())throw new Error("Expected to be in Angular Zone, but it is not!")}},{key:"assertNotInAngularZone",value:function(){if(e.isInAngularZone())throw new Error("Expected to not be in Angular Zone, but it is!")}}]),e}(),_c={};function Cc(e){if(0==e._nesting&&!e.hasPendingMicrotasks&&!e.isStable)try{e._nesting++,e.onMicrotaskEmpty.emit(null)}finally{if(e._nesting--,!e.hasPendingMicrotasks)try{e.runOutsideAngular(function(){return e.onStable.emit(null)})}finally{e.isStable=!0}}}function Sc(e){e.hasPendingMicrotasks=!!(e._hasPendingMicrotasks||e.shouldCoalesceEventChangeDetection&&-1!==e.lastRequestAnimationFrameId)}function Ic(e){e._nesting++,e.isStable&&(e.isStable=!1,e.onUnstable.emit(null))}function Tc(e){e._nesting--,Cc(e)}var Ac,Ec=function(){function e(){g(this,e),this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new Nu,this.onMicrotaskEmpty=new Nu,this.onStable=new Nu,this.onError=new Nu}return m(e,[{key:"run",value:function(e,t,n){return e.apply(t,n)}},{key:"runGuarded",value:function(e,t,n){return e.apply(t,n)}},{key:"runOutsideAngular",value:function(e){return e()}},{key:"runTask",value:function(e,t,n,r){return e.apply(t,n)}}]),e}(),Oc=function(){var e=function(){function e(t){var n=this;g(this,e),this._ngZone=t,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,this._watchAngularEvents(),t.run(function(){n.taskTrackingZone="undefined"==typeof Zone?null:Zone.current.get("TaskTrackingZone")})}return m(e,[{key:"_watchAngularEvents",value:function(){var e=this;this._ngZone.onUnstable.subscribe({next:function(){e._didWork=!0,e._isZoneStable=!1}}),this._ngZone.runOutsideAngular(function(){e._ngZone.onStable.subscribe({next:function(){kc.assertNotInAngularZone(),xc(function(){e._isZoneStable=!0,e._runCallbacksIfReady()})}})})}},{key:"increasePendingRequestCount",value:function(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}},{key:"decreasePendingRequestCount",value:function(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}},{key:"isStable",value:function(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}},{key:"_runCallbacksIfReady",value:function(){var e=this;if(this.isStable())xc(function(){for(;0!==e._callbacks.length;){var t=e._callbacks.pop();clearTimeout(t.timeoutId),t.doneCb(e._didWork)}e._didWork=!1});else{var t=this.getPendingTasks();this._callbacks=this._callbacks.filter(function(e){return!e.updateCb||!e.updateCb(t)||(clearTimeout(e.timeoutId),!1)}),this._didWork=!0}}},{key:"getPendingTasks",value:function(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(function(e){return{source:e.source,creationLocation:e.creationLocation,data:e.data}}):[]}},{key:"addCallback",value:function(e,t,n){var r=this,i=-1;t&&t>0&&(i=setTimeout(function(){r._callbacks=r._callbacks.filter(function(e){return e.timeoutId!==i}),e(r._didWork,r.getPendingTasks())},t)),this._callbacks.push({doneCb:e,timeoutId:i,updateCb:n})}},{key:"whenStable",value:function(e,t,n){if(n&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/dist/task-tracking.js" loaded?');this.addCallback(e,t,n),this._runCallbacksIfReady()}},{key:"getPendingRequestCount",value:function(){return this._pendingCount}},{key:"findProviders",value:function(e,t,n){return[]}}]),e}();return e.\u0275fac=function(t){return new(t||e)(Lr(kc))},e.\u0275prov=Ae({token:e,factory:e.\u0275fac}),e}(),Mc=function(){var e=function(){function e(){g(this,e),this._applications=new Map,Dc.addToWindow(this)}return m(e,[{key:"registerApplication",value:function(e,t){this._applications.set(e,t)}},{key:"unregisterApplication",value:function(e){this._applications.delete(e)}},{key:"unregisterAllApplications",value:function(){this._applications.clear()}},{key:"getTestability",value:function(e){return this._applications.get(e)||null}},{key:"getAllTestabilities",value:function(){return Array.from(this._applications.values())}},{key:"getAllRootElements",value:function(){return Array.from(this._applications.keys())}},{key:"findTestabilityInTree",value:function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];return Dc.findTestabilityInTree(this,e,t)}}]),e}();return e.\u0275fac=function(t){return new(t||e)},e.\u0275prov=Ae({token:e,factory:e.\u0275fac}),e}(),Dc=new(function(){function e(){g(this,e)}return m(e,[{key:"addToWindow",value:function(e){}},{key:"findTestabilityInTree",value:function(e,t,n){return null}}]),e}()),Rc=!0,Pc=!1;function Vc(){return Pc=!0,Rc}var Nc=function(e,t,n){var r=new Ou(n);return Promise.resolve(r)},jc=new mr("AllowMultipleToken"),zc=function e(t,n){g(this,e),this.name=t,this.token=n};function Lc(e){if(Ac&&!Ac.destroyed&&!Ac.injector.get(jc,!1))throw new Error("There can be only one platform. Destroy the previous one to create a new one.");Ac=e.get(Hc);var t=e.get(ac,null);return t&&t.forEach(function(e){return e()}),Ac}function Fc(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],r="Platform: ".concat(t),i=new mr(r);return function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],o=Bc();if(!o||o.injector.get(jc,!1))if(e)e(n.concat(t).concat({provide:i,useValue:!0}));else{var a=n.concat(t).concat({provide:i,useValue:!0},{provide:Bo,useValue:"platform"});Lc(ra.create({providers:a,name:r}))}return Uc(i)}}function Uc(e){var t=Bc();if(!t)throw new Error("No platform exists!");if(!t.injector.get(e,null))throw new Error("A platform with a different configuration has been created. Please destroy it first.");return t}function Bc(){return Ac&&!Ac.destroyed?Ac:null}var Hc=function(){var e=function(){function e(t){g(this,e),this._injector=t,this._modules=[],this._destroyListeners=[],this._destroyed=!1}return m(e,[{key:"bootstrapModuleFactory",value:function(e,t){var n,r,i=this,o=(r=t&&t.ngZoneEventCoalescing||!1,"noop"===(n=t?t.ngZone:void 0)?new Ec:("zone.js"===n?void 0:n)||new kc({enableLongStackTrace:Vc(),shouldCoalesceEventChangeDetection:r})),a=[{provide:kc,useValue:o}];return o.run(function(){var t=ra.create({providers:a,parent:i.injector,name:e.moduleType.name}),n=e.create(t),r=n.injector.get(Kr,null);if(!r)throw new Error("No ErrorHandler. Is platform module (BrowserModule) included?");return o.runOutsideAngular(function(){var e=o.onError.subscribe({next:function(e){r.handleError(e)}});n.onDestroy(function(){Wc(i._modules,n),e.unsubscribe()})}),function(e,t,r){try{var o=((a=n.injector.get(nc)).runInitializers(),a.donePromise.then(function(){return bs(n.injector.get(lc,ys)||ys),i._moduleDoBootstrap(n),n}));return Ea(o)?o.catch(function(n){throw t.runOutsideAngular(function(){return e.handleError(n)}),n}):o}catch(s){throw t.runOutsideAngular(function(){return e.handleError(s)}),s}var a}(r,o)})}},{key:"bootstrapModule",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],r=$c({},n);return Nc(0,0,e).then(function(e){return t.bootstrapModuleFactory(e,r)})}},{key:"_moduleDoBootstrap",value:function(e){var t=e.injector.get(qc);if(e._bootstrapComponents.length>0)e._bootstrapComponents.forEach(function(e){return t.bootstrap(e)});else{if(!e.instance.ngDoBootstrap)throw new Error("The module ".concat(ke(e.instance.constructor),' was bootstrapped, but it does not declare "@NgModule.bootstrap" components nor a "ngDoBootstrap" method. ')+"Please define one of these.");e.instance.ngDoBootstrap(t)}this._modules.push(e)}},{key:"onDestroy",value:function(e){this._destroyListeners.push(e)}},{key:"destroy",value:function(){if(this._destroyed)throw new Error("The platform has already been destroyed!");this._modules.slice().forEach(function(e){return e.destroy()}),this._destroyListeners.forEach(function(e){return e()}),this._destroyed=!0}},{key:"injector",get:function(){return this._injector}},{key:"destroyed",get:function(){return this._destroyed}}]),e}();return e.\u0275fac=function(t){return new(t||e)(Lr(ra))},e.\u0275prov=Ae({token:e,factory:e.\u0275fac}),e}();function $c(e,t){return Array.isArray(t)?t.reduce($c,e):Object.assign(Object.assign({},e),t)}var qc=function(){var e=function(){function e(t,n,r,i,o,a){var s=this;g(this,e),this._zone=t,this._console=n,this._injector=r,this._exceptionHandler=i,this._componentFactoryResolver=o,this._initStatus=a,this._bootstrapListeners=[],this._views=[],this._runningTick=!1,this._stable=!0,this.componentTypes=[],this.components=[],this._onMicrotaskEmptySubscription=this._zone.onMicrotaskEmpty.subscribe({next:function(){s._zone.run(function(){s.tick()})}});var u=new L(function(e){s._stable=s._zone.isStable&&!s._zone.hasPendingMacrotasks&&!s._zone.hasPendingMicrotasks,s._zone.runOutsideAngular(function(){e.next(s._stable),e.complete()})}),c=new L(function(e){var t;s._zone.runOutsideAngular(function(){t=s._zone.onStable.subscribe(function(){kc.assertNotInAngularZone(),xc(function(){s._stable||s._zone.hasPendingMacrotasks||s._zone.hasPendingMicrotasks||(s._stable=!0,e.next(!0))})})});var n=s._zone.onUnstable.subscribe(function(){kc.assertInAngularZone(),s._stable&&(s._stable=!1,s._zone.runOutsideAngular(function(){e.next(!1)}))});return function(){t.unsubscribe(),n.unsubscribe()}});this.isStable=he(u,c.pipe(function(e){return fe()((t=be,function(e){var n;n="function"==typeof t?t:function(){return t};var r=Object.create(e,ge);return r.source=e,r.subjectFactory=n,r})(e));var t}))}return m(e,[{key:"bootstrap",value:function(e,t){var n,r=this;if(!this._initStatus.done)throw new Error("Cannot bootstrap as there are still asynchronous initializers running. Bootstrap components in the `ngDoBootstrap` method of the root module.");n=e instanceof Os?e:this._componentFactoryResolver.resolveComponentFactory(e),this.componentTypes.push(n.componentType);var i=n.isBoundToModule?void 0:this._injector.get(pu),o=n.create(ra.NULL,[],t||n.selector,i),a=o.location.nativeElement,s=o.injector.get(Oc,null),u=s&&o.injector.get(Mc);return s&&u&&u.registerApplication(a,s),o.onDestroy(function(){r.detachView(o.hostView),Wc(r.components,o),u&&u.unregisterApplication(a)}),this._loadComponent(o),Vc()&&this._console.log("Angular is running in development mode. Call enableProdMode() to enable production mode."),o}},{key:"tick",value:function(){var e=this;if(this._runningTick)throw new Error("ApplicationRef.tick is called recursively");try{this._runningTick=!0;var t,n=l(this._views);try{for(n.s();!(t=n.n()).done;)t.value.detectChanges()}catch(r){n.e(r)}finally{n.f()}}catch(i){this._zone.runOutsideAngular(function(){return e._exceptionHandler.handleError(i)})}finally{this._runningTick=!1}}},{key:"attachView",value:function(e){var t=e;this._views.push(t),t.attachToAppRef(this)}},{key:"detachView",value:function(e){var t=e;Wc(this._views,t),t.detachFromAppRef()}},{key:"_loadComponent",value:function(e){this.attachView(e.hostView),this.tick(),this.components.push(e),this._injector.get(uc,[]).concat(this._bootstrapListeners).forEach(function(t){return t(e)})}},{key:"ngOnDestroy",value:function(){this._views.slice().forEach(function(e){return e.destroy()}),this._onMicrotaskEmptySubscription.unsubscribe()}},{key:"viewCount",get:function(){return this._views.length}}]),e}();return e.\u0275fac=function(t){return new(t||e)(Lr(kc),Lr(cc),Lr(ra),Lr(Kr),Lr(Ds),Lr(nc))},e.\u0275prov=Ae({token:e,factory:e.\u0275fac}),e}();function Wc(e,t){var n=e.indexOf(t);n>-1&&e.splice(n,1)}var Gc=function e(){g(this,e)},Xc=function e(){g(this,e)},Zc={factoryPathPrefix:"",factoryPathSuffix:".ngfactory"},Qc=function(){var e=function(){function e(t,n){g(this,e),this._compiler=t,this._config=n||Zc}return m(e,[{key:"load",value:function(e){return this.loadAndCompile(e)}},{key:"loadAndCompile",value:function(e){var t=this,r=u(e.split("#"),2),i=r[0],o=r[1];return void 0===o&&(o="default"),n("RnVd")(i).then(function(e){return e[o]}).then(function(e){return Kc(e,i,o)}).then(function(e){return t._compiler.compileModuleAsync(e)})}},{key:"loadFactory",value:function(e){var t=u(e.split("#"),2),r=t[0],i=t[1],o="NgFactory";return void 0===i&&(i="default",o=""),n("RnVd")(this._config.factoryPathPrefix+r+this._config.factoryPathSuffix).then(function(e){return e[i+o]}).then(function(e){return Kc(e,r,i)})}}]),e}();return e.\u0275fac=function(t){return new(t||e)(Lr(bc),Lr(Xc,8))},e.\u0275prov=Ae({token:e,factory:e.\u0275fac}),e}();function Kc(e,t,n){if(!e)throw new Error("Cannot find '".concat(n,"' in '").concat(t,"'"));return e}var Yc=Fc(null,"core",[{provide:sc,useValue:"unknown"},{provide:Hc,deps:[ra]},{provide:Mc,deps:[]},{provide:cc,deps:[]}]),Jc=[{provide:qc,useClass:qc,deps:[kc,cc,ra,Kr,Ds,nc]},{provide:Su,deps:[kc],useFactory:function(e){var t=[];return e.onStable.subscribe(function(){for(;t.length;)t.pop()()}),function(e){t.push(e)}}},{provide:nc,useClass:nc,deps:[[new Ar,tc]]},{provide:bc,useClass:bc,deps:[]},ic,{provide:Ys,useFactory:function(){return uu},deps:[]},{provide:Js,useFactory:function(){return cu},deps:[]},{provide:lc,useFactory:function(e){return bs(e=e||"undefined"!=typeof $localize&&$localize.locale||ys),e},deps:[[new Tr(lc),new Ar,new Or]]},{provide:dc,useValue:"USD"}],el=function(){var e=function e(t){g(this,e)};return e.\u0275mod=lt({type:e}),e.\u0275inj=Ee({factory:function(t){return new(t||e)(Lr(qc))},providers:Jc}),e}(),tl=null;function nl(){return tl}var rl=function e(){g(this,e)},il=new mr("DocumentToken"),ol=function(){var e=function e(){g(this,e)};return e.\u0275fac=function(t){return new(t||e)},e.\u0275prov=Ae({factory:al,token:e,providedIn:"platform"}),e}();function al(){return Lr(ul)}var sl=new mr("Location Initialized"),ul=function(){var e=function(e){y(n,e);var t=x(n);function n(e){var r;return g(this,n),(r=t.call(this))._doc=e,r._init(),r}return m(n,[{key:"_init",value:function(){this.location=nl().getLocation(),this._history=nl().getHistory()}},{key:"getBaseHrefFromDOM",value:function(){return nl().getBaseHref(this._doc)}},{key:"onPopState",value:function(e){nl().getGlobalEventTarget(this._doc,"window").addEventListener("popstate",e,!1)}},{key:"onHashChange",value:function(e){nl().getGlobalEventTarget(this._doc,"window").addEventListener("hashchange",e,!1)}},{key:"pushState",value:function(e,t,n){cl()?this._history.pushState(e,t,n):this.location.hash=n}},{key:"replaceState",value:function(e,t,n){cl()?this._history.replaceState(e,t,n):this.location.hash=n}},{key:"forward",value:function(){this._history.forward()}},{key:"back",value:function(){this._history.back()}},{key:"getState",value:function(){return this._history.state}},{key:"href",get:function(){return this.location.href}},{key:"protocol",get:function(){return this.location.protocol}},{key:"hostname",get:function(){return this.location.hostname}},{key:"port",get:function(){return this.location.port}},{key:"pathname",get:function(){return this.location.pathname},set:function(e){this.location.pathname=e}},{key:"search",get:function(){return this.location.search}},{key:"hash",get:function(){return this.location.hash}}]),n}(ol);return e.\u0275fac=function(t){return new(t||e)(Lr(il))},e.\u0275prov=Ae({factory:ll,token:e,providedIn:"platform"}),e}();function cl(){return!!window.history.pushState}function ll(){return new ul(Lr(il))}function dl(e,t){if(0==e.length)return t;if(0==t.length)return e;var n=0;return e.endsWith("/")&&n++,t.startsWith("/")&&n++,2==n?e+t.substring(1):1==n?e+t:e+"/"+t}function hl(e){var t=e.match(/#|\?|$/),n=t&&t.index||e.length;return e.slice(0,n-("/"===e[n-1]?1:0))+e.slice(n)}function fl(e){return e&&"?"!==e[0]?"?"+e:e}var pl=function(){var e=function e(){g(this,e)};return e.\u0275fac=function(t){return new(t||e)},e.\u0275prov=Ae({factory:vl,token:e,providedIn:"root"}),e}();function vl(e){var t=Lr(il).location;return new gl(Lr(ol),t&&t.origin||"")}var ml=new mr("appBaseHref"),gl=function(){var e=function(e){y(n,e);var t=x(n);function n(e,r){var i;if(g(this,n),(i=t.call(this))._platformLocation=e,null==r&&(r=i._platformLocation.getBaseHrefFromDOM()),null==r)throw new Error("No base href set. Please provide a value for the APP_BASE_HREF token or add a base element to the document.");return i._baseHref=r,i}return m(n,[{key:"onPopState",value:function(e){this._platformLocation.onPopState(e),this._platformLocation.onHashChange(e)}},{key:"getBaseHref",value:function(){return this._baseHref}},{key:"prepareExternalUrl",value:function(e){return dl(this._baseHref,e)}},{key:"path",value:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=this._platformLocation.pathname+fl(this._platformLocation.search),n=this._platformLocation.hash;return n&&e?"".concat(t).concat(n):t}},{key:"pushState",value:function(e,t,n,r){var i=this.prepareExternalUrl(n+fl(r));this._platformLocation.pushState(e,t,i)}},{key:"replaceState",value:function(e,t,n,r){var i=this.prepareExternalUrl(n+fl(r));this._platformLocation.replaceState(e,t,i)}},{key:"forward",value:function(){this._platformLocation.forward()}},{key:"back",value:function(){this._platformLocation.back()}}]),n}(pl);return e.\u0275fac=function(t){return new(t||e)(Lr(ol),Lr(ml,8))},e.\u0275prov=Ae({token:e,factory:e.\u0275fac}),e}(),yl=function(){var e=function(e){y(n,e);var t=x(n);function n(e,r){var i;return g(this,n),(i=t.call(this))._platformLocation=e,i._baseHref="",null!=r&&(i._baseHref=r),i}return m(n,[{key:"onPopState",value:function(e){this._platformLocation.onPopState(e),this._platformLocation.onHashChange(e)}},{key:"getBaseHref",value:function(){return this._baseHref}},{key:"path",value:function(){var e=this._platformLocation.hash;return null==e&&(e="#"),e.length>0?e.substring(1):e}},{key:"prepareExternalUrl",value:function(e){var t=dl(this._baseHref,e);return t.length>0?"#"+t:t}},{key:"pushState",value:function(e,t,n,r){var i=this.prepareExternalUrl(n+fl(r));0==i.length&&(i=this._platformLocation.pathname),this._platformLocation.pushState(e,t,i)}},{key:"replaceState",value:function(e,t,n,r){var i=this.prepareExternalUrl(n+fl(r));0==i.length&&(i=this._platformLocation.pathname),this._platformLocation.replaceState(e,t,i)}},{key:"forward",value:function(){this._platformLocation.forward()}},{key:"back",value:function(){this._platformLocation.back()}}]),n}(pl);return e.\u0275fac=function(t){return new(t||e)(Lr(ol),Lr(ml,8))},e.\u0275prov=Ae({token:e,factory:e.\u0275fac}),e}(),bl=function(){var e=function(){function e(t,n){var r=this;g(this,e),this._subject=new Nu,this._urlChangeListeners=[],this._platformStrategy=t;var i=this._platformStrategy.getBaseHref();this._platformLocation=n,this._baseHref=hl(xl(i)),this._platformStrategy.onPopState(function(e){r._subject.emit({url:r.path(!0),pop:!0,state:e.state,type:e.type})})}return m(e,[{key:"path",value:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];return this.normalize(this._platformStrategy.path(e))}},{key:"getState",value:function(){return this._platformLocation.getState()}},{key:"isCurrentPathEqualTo",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";return this.path()==this.normalize(e+fl(t))}},{key:"normalize",value:function(t){return e.stripTrailingSlash(function(e,t){return e&&t.startsWith(e)?t.substring(e.length):t}(this._baseHref,xl(t)))}},{key:"prepareExternalUrl",value:function(e){return e&&"/"!==e[0]&&(e="/"+e),this._platformStrategy.prepareExternalUrl(e)}},{key:"go",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;this._platformStrategy.pushState(n,"",e,t),this._notifyUrlChangeListeners(this.prepareExternalUrl(e+fl(t)),n)}},{key:"replaceState",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;this._platformStrategy.replaceState(n,"",e,t),this._notifyUrlChangeListeners(this.prepareExternalUrl(e+fl(t)),n)}},{key:"forward",value:function(){this._platformStrategy.forward()}},{key:"back",value:function(){this._platformStrategy.back()}},{key:"onUrlChange",value:function(e){var t=this;this._urlChangeListeners.push(e),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe(function(e){t._notifyUrlChangeListeners(e.url,e.state)}))}},{key:"_notifyUrlChangeListeners",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1?arguments[1]:void 0;this._urlChangeListeners.forEach(function(n){return n(e,t)})}},{key:"subscribe",value:function(e,t,n){return this._subject.subscribe({next:e,error:t,complete:n})}}]),e}();return e.\u0275fac=function(t){return new(t||e)(Lr(pl),Lr(ol))},e.normalizeQueryParams=fl,e.joinWithSlash=dl,e.stripTrailingSlash=hl,e.\u0275prov=Ae({factory:wl,token:e,providedIn:"root"}),e}();function wl(){return new bl(Lr(pl),Lr(ol))}function xl(e){return e.replace(/\/index.html$/,"")}var kl=function(e){return e[e.Zero=0]="Zero",e[e.One=1]="One",e[e.Two=2]="Two",e[e.Few=3]="Few",e[e.Many=4]="Many",e[e.Other=5]="Other",e}({}),_l=function e(){g(this,e)},Cl=function(){var e=function(e){y(n,e);var t=x(n);function n(e){var r;return g(this,n),(r=t.call(this)).locale=e,r}return m(n,[{key:"getPluralCategory",value:function(e,t){switch(function(e){return function(e){var t=function(e){return e.toLowerCase().replace(/_/g,"-")}(e),n=ms(t);if(n)return n;var r=t.split("-")[0];if(n=ms(r))return n;if("en"===r)return ps;throw new Error('Missing locale data for the locale "'.concat(e,'".'))}(e)[gs.PluralCase]}(t||this.locale)(e)){case kl.Zero:return"zero";case kl.One:return"one";case kl.Two:return"two";case kl.Few:return"few";case kl.Many:return"many";default:return"other"}}}]),n}(_l);return e.\u0275fac=function(t){return new(t||e)(Lr(lc))},e.\u0275prov=Ae({token:e,factory:e.\u0275fac}),e}();function Sl(e,t){t=encodeURIComponent(t);var n,r=l(e.split(";"));try{for(r.s();!(n=r.n()).done;){var i=n.value,o=i.indexOf("="),a=u(-1==o?[i,""]:[i.slice(0,o),i.slice(o+1)],2),s=a[1];if(a[0].trim()===t)return decodeURIComponent(s)}}catch(c){r.e(c)}finally{r.f()}return null}var Il=function(){var e=function(){function e(t,n,r,i){g(this,e),this._iterableDiffers=t,this._keyValueDiffers=n,this._ngEl=r,this._renderer=i,this._iterableDiffer=null,this._keyValueDiffer=null,this._initialClasses=[],this._rawClass=null}return m(e,[{key:"ngDoCheck",value:function(){if(this._iterableDiffer){var e=this._iterableDiffer.diff(this._rawClass);e&&this._applyIterableChanges(e)}else if(this._keyValueDiffer){var t=this._keyValueDiffer.diff(this._rawClass);t&&this._applyKeyValueChanges(t)}}},{key:"_applyKeyValueChanges",value:function(e){var t=this;e.forEachAddedItem(function(e){return t._toggleClass(e.key,e.currentValue)}),e.forEachChangedItem(function(e){return t._toggleClass(e.key,e.currentValue)}),e.forEachRemovedItem(function(e){e.previousValue&&t._toggleClass(e.key,!1)})}},{key:"_applyIterableChanges",value:function(e){var t=this;e.forEachAddedItem(function(e){if("string"!=typeof e.item)throw new Error("NgClass can only toggle CSS classes expressed as strings, got ".concat(ke(e.item)));t._toggleClass(e.item,!0)}),e.forEachRemovedItem(function(e){return t._toggleClass(e.item,!1)})}},{key:"_applyClasses",value:function(e){var t=this;e&&(Array.isArray(e)||e instanceof Set?e.forEach(function(e){return t._toggleClass(e,!0)}):Object.keys(e).forEach(function(n){return t._toggleClass(n,!!e[n])}))}},{key:"_removeClasses",value:function(e){var t=this;e&&(Array.isArray(e)||e instanceof Set?e.forEach(function(e){return t._toggleClass(e,!1)}):Object.keys(e).forEach(function(e){return t._toggleClass(e,!1)}))}},{key:"_toggleClass",value:function(e,t){var n=this;(e=e.trim())&&e.split(/\s+/g).forEach(function(e){t?n._renderer.addClass(n._ngEl.nativeElement,e):n._renderer.removeClass(n._ngEl.nativeElement,e)})}},{key:"klass",set:function(e){this._removeClasses(this._initialClasses),this._initialClasses="string"==typeof e?e.split(/\s+/):[],this._applyClasses(this._initialClasses),this._applyClasses(this._rawClass)}},{key:"ngClass",set:function(e){this._removeClasses(this._rawClass),this._applyClasses(this._initialClasses),this._iterableDiffer=null,this._keyValueDiffer=null,this._rawClass="string"==typeof e?e.split(/\s+/):e,this._rawClass&&(fa(this._rawClass)?this._iterableDiffer=this._iterableDiffers.find(this._rawClass).create():this._keyValueDiffer=this._keyValueDiffers.find(this._rawClass).create())}}]),e}();return e.\u0275fac=function(t){return new(t||e)(ka(Ys),ka(Js),ka(Ns),ka(zs))},e.\u0275dir=ht({type:e,selectors:[["","ngClass",""]],inputs:{klass:["class","klass"],ngClass:"ngClass"}}),e}(),Tl=function(){function e(t,n,r,i){g(this,e),this.$implicit=t,this.ngForOf=n,this.index=r,this.count=i}return m(e,[{key:"first",get:function(){return 0===this.index}},{key:"last",get:function(){return this.index===this.count-1}},{key:"even",get:function(){return this.index%2==0}},{key:"odd",get:function(){return!this.even}}]),e}(),Al=function(){var e=function(){function e(t,n,r){g(this,e),this._viewContainer=t,this._template=n,this._differs=r,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}return m(e,[{key:"ngDoCheck",value:function(){if(this._ngForOfDirty){this._ngForOfDirty=!1;var e=this._ngForOf;if(!this._differ&&e)try{this._differ=this._differs.find(e).create(this.ngForTrackBy)}catch(r){throw new Error("Cannot find a differ supporting object '".concat(e,"' of type '").concat((t=e).name||typeof t,"'. NgFor only supports binding to Iterables such as Arrays."))}}var t;if(this._differ){var n=this._differ.diff(this._ngForOf);n&&this._applyChanges(n)}}},{key:"_applyChanges",value:function(e){var t=this,n=[];e.forEachOperation(function(e,r,i){if(null==e.previousIndex){var o=t._viewContainer.createEmbeddedView(t._template,new Tl(null,t._ngForOf,-1,-1),null===i?void 0:i),a=new El(e,o);n.push(a)}else if(null==i)t._viewContainer.remove(null===r?void 0:r);else if(null!==r){var s=t._viewContainer.get(r);t._viewContainer.move(s,i);var u=new El(e,s);n.push(u)}});for(var r=0;r<n.length;r++)this._perViewChange(n[r].view,n[r].record);for(var i=0,o=this._viewContainer.length;i<o;i++){var a=this._viewContainer.get(i);a.context.index=i,a.context.count=o,a.context.ngForOf=this._ngForOf}e.forEachIdentityChange(function(e){t._viewContainer.get(e.currentIndex).context.$implicit=e.item})}},{key:"_perViewChange",value:function(e,t){e.context.$implicit=t.item}},{key:"ngForOf",set:function(e){this._ngForOf=e,this._ngForOfDirty=!0}},{key:"ngForTrackBy",set:function(e){this._trackByFn=e},get:function(){return this._trackByFn}},{key:"ngForTemplate",set:function(e){e&&(this._template=e)}}],[{key:"ngTemplateContextGuard",value:function(e,t){return!0}}]),e}();return e.\u0275fac=function(t){return new(t||e)(ka(gu),ka(du),ka(Ys))},e.\u0275dir=ht({type:e,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"}}),e}(),El=function e(t,n){g(this,e),this.record=t,this.view=n},Ol=function(){var e=function(){function e(t,n){g(this,e),this._viewContainer=t,this._context=new Ml,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=n}return m(e,[{key:"_updateView",value:function(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}},{key:"ngIf",set:function(e){this._context.$implicit=this._context.ngIf=e,this._updateView()}},{key:"ngIfThen",set:function(e){Dl("ngIfThen",e),this._thenTemplateRef=e,this._thenViewRef=null,this._updateView()}},{key:"ngIfElse",set:function(e){Dl("ngIfElse",e),this._elseTemplateRef=e,this._elseViewRef=null,this._updateView()}}],[{key:"ngTemplateContextGuard",value:function(e,t){return!0}}]),e}();return e.\u0275fac=function(t){return new(t||e)(ka(gu),ka(du))},e.\u0275dir=ht({type:e,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"}}),e}(),Ml=function e(){g(this,e),this.$implicit=null,this.ngIf=null};function Dl(e,t){if(t&&!t.createEmbeddedView)throw new Error("".concat(e," must be a TemplateRef, but received '").concat(ke(t),"'."))}var Rl=function(){var e=function(){function e(t){g(this,e),this._viewContainerRef=t,this._viewRef=null,this.ngTemplateOutletContext=null,this.ngTemplateOutlet=null}return m(e,[{key:"ngOnChanges",value:function(e){if(this._shouldRecreateView(e)){var t=this._viewContainerRef;this._viewRef&&t.remove(t.indexOf(this._viewRef)),this._viewRef=this.ngTemplateOutlet?t.createEmbeddedView(this.ngTemplateOutlet,this.ngTemplateOutletContext):null}else this._viewRef&&this.ngTemplateOutletContext&&this._updateExistingContext(this.ngTemplateOutletContext)}},{key:"_shouldRecreateView",value:function(e){var t=e.ngTemplateOutletContext;return!!e.ngTemplateOutlet||t&&this._hasContextShapeChanged(t)}},{key:"_hasContextShapeChanged",value:function(e){var t=Object.keys(e.previousValue||{}),n=Object.keys(e.currentValue||{});if(t.length===n.length){var r,i=l(n);try{for(i.s();!(r=i.n()).done;)if(-1===t.indexOf(r.value))return!0}catch(o){i.e(o)}finally{i.f()}return!1}return!0}},{key:"_updateExistingContext",value:function(e){for(var t=0,n=Object.keys(e);t<n.length;t++){var r=n[t];this._viewRef.context[r]=this.ngTemplateOutletContext[r]}}}]),e}();return e.\u0275fac=function(t){return new(t||e)(ka(gu))},e.\u0275dir=ht({type:e,selectors:[["","ngTemplateOutlet",""]],inputs:{ngTemplateOutletContext:"ngTemplateOutletContext",ngTemplateOutlet:"ngTemplateOutlet"},features:[Ot]}),e}(),Pl=function(){function e(){g(this,e)}return m(e,[{key:"createSubscription",value:function(e,t){return e.subscribe({next:t,error:function(e){throw e}})}},{key:"dispose",value:function(e){e.unsubscribe()}},{key:"onDestroy",value:function(e){e.unsubscribe()}}]),e}(),Vl=new(function(){function e(){g(this,e)}return m(e,[{key:"createSubscription",value:function(e,t){return e.then(t,function(e){throw e})}},{key:"dispose",value:function(e){}},{key:"onDestroy",value:function(e){}}]),e}()),Nl=new Pl,jl=function(){var e=function(){function e(t){g(this,e),this._ref=t,this._latestValue=null,this._subscription=null,this._obj=null,this._strategy=null}return m(e,[{key:"ngOnDestroy",value:function(){this._subscription&&this._dispose()}},{key:"transform",value:function(e){return this._obj?e!==this._obj?(this._dispose(),this.transform(e)):this._latestValue:(e&&this._subscribe(e),this._latestValue)}},{key:"_subscribe",value:function(e){var t=this;this._obj=e,this._strategy=this._selectStrategy(e),this._subscription=this._strategy.createSubscription(e,function(n){return t._updateLatestValue(e,n)})}},{key:"_selectStrategy",value:function(t){if(Ea(t))return Vl;if(Oa(t))return Nl;throw n=e,Error("InvalidPipeArgument: '".concat(t,"' for pipe '").concat(ke(n),"'"));var n}},{key:"_dispose",value:function(){this._strategy.dispose(this._subscription),this._latestValue=null,this._subscription=null,this._obj=null}},{key:"_updateLatestValue",value:function(e,t){e===this._obj&&(this._latestValue=t,this._ref.markForCheck())}}]),e}();return e.\u0275fac=function(t){return new(t||e)(function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ze.Default,t=ou(!0);if(null!=t||e&ze.Optional)return t;At("ChangeDetectorRef")}())},e.\u0275pipe=ft({name:"async",type:e,pure:!1}),e}(),zl=function(){var e=function e(){g(this,e)};return e.\u0275mod=lt({type:e}),e.\u0275inj=Ee({factory:function(t){return new(t||e)},providers:[{provide:_l,useClass:Cl}]}),e}(),Ll=function(){var e=function e(){g(this,e)};return e.\u0275prov=Ae({token:e,providedIn:"root",factory:function(){return new Fl(Lr(il),window)}}),e}(),Fl=function(){function e(t,n){g(this,e),this.document=t,this.window=n,this.offset=function(){return[0,0]}}return m(e,[{key:"setOffset",value:function(e){this.offset=Array.isArray(e)?function(){return e}:e}},{key:"getScrollPosition",value:function(){return this.supportsScrolling()?[this.window.pageXOffset,this.window.pageYOffset]:[0,0]}},{key:"scrollToPosition",value:function(e){this.supportsScrolling()&&this.window.scrollTo(e[0],e[1])}},{key:"scrollToAnchor",value:function(e){var t;if(this.supportsScrolling()){var n=null!==(t=this.document.getElementById(e))&&void 0!==t?t:this.document.getElementsByName(e)[0];void 0!==n&&(this.scrollToElement(n),this.attemptFocus(n))}}},{key:"setHistoryScrollRestoration",value:function(e){if(this.supportScrollRestoration()){var t=this.window.history;t&&t.scrollRestoration&&(t.scrollRestoration=e)}}},{key:"scrollToElement",value:function(e){var t=e.getBoundingClientRect(),n=t.left+this.window.pageXOffset,r=t.top+this.window.pageYOffset,i=this.offset();this.window.scrollTo(n-i[0],r-i[1])}},{key:"attemptFocus",value:function(e){return e.focus(),this.document.activeElement===e}},{key:"supportScrollRestoration",value:function(){try{if(!this.supportsScrolling())return!1;var e=Ul(this.window.history)||Ul(Object.getPrototypeOf(this.window.history));return!(!e||!e.writable&&!e.set)}catch(t){return!1}}},{key:"supportsScrolling",value:function(){try{return!!this.window&&!!this.window.scrollTo&&"pageXOffset"in this.window}catch(e){return!1}}}]),e}();function Ul(e){return Object.getOwnPropertyDescriptor(e,"scrollRestoration")}var Bl,Hl=function(e){y(n,e);var t=x(n);function n(){return g(this,n),t.apply(this,arguments)}return m(n,[{key:"getProperty",value:function(e,t){return e[t]}},{key:"log",value:function(e){window.console&&window.console.log&&window.console.log(e)}},{key:"logGroup",value:function(e){window.console&&window.console.group&&window.console.group(e)}},{key:"logGroupEnd",value:function(){window.console&&window.console.groupEnd&&window.console.groupEnd()}},{key:"onAndCancel",value:function(e,t,n){return e.addEventListener(t,n,!1),function(){e.removeEventListener(t,n,!1)}}},{key:"dispatchEvent",value:function(e,t){e.dispatchEvent(t)}},{key:"remove",value:function(e){return e.parentNode&&e.parentNode.removeChild(e),e}},{key:"getValue",value:function(e){return e.value}},{key:"createElement",value:function(e,t){return(t=t||this.getDefaultDocument()).createElement(e)}},{key:"createHtmlDocument",value:function(){return document.implementation.createHTMLDocument("fakeTitle")}},{key:"getDefaultDocument",value:function(){return document}},{key:"isElementNode",value:function(e){return e.nodeType===Node.ELEMENT_NODE}},{key:"isShadowRoot",value:function(e){return e instanceof DocumentFragment}},{key:"getGlobalEventTarget",value:function(e,t){return"window"===t?window:"document"===t?e:"body"===t?e.body:null}},{key:"getHistory",value:function(){return window.history}},{key:"getLocation",value:function(){return window.location}},{key:"getBaseHref",value:function(e){var t,n=$l||($l=document.querySelector("base"))?$l.getAttribute("href"):null;return null==n?null:(t=n,Bl||(Bl=document.createElement("a")),Bl.setAttribute("href",t),"/"===Bl.pathname.charAt(0)?Bl.pathname:"/"+Bl.pathname)}},{key:"resetBaseElement",value:function(){$l=null}},{key:"getUserAgent",value:function(){return window.navigator.userAgent}},{key:"performanceNow",value:function(){return window.performance&&window.performance.now?window.performance.now():(new Date).getTime()}},{key:"supportsCookies",value:function(){return!0}},{key:"getCookie",value:function(e){return Sl(document.cookie,e)}}],[{key:"makeCurrent",value:function(){var e;e=new n,tl||(tl=e)}}]),n}(function(e){y(n,e);var t=x(n);function n(){return g(this,n),t.call(this)}return m(n,[{key:"supportsDOMEvents",value:function(){return!0}}]),n}(rl)),$l=null,ql=new mr("TRANSITION_ID"),Wl=[{provide:tc,useFactory:function(e,t,n){return function(){n.get(nc).donePromise.then(function(){var n=nl();Array.prototype.slice.apply(t.querySelectorAll("style[ng-transition]")).filter(function(t){return t.getAttribute("ng-transition")===e}).forEach(function(e){return n.remove(e)})})}},deps:[ql,il,ra],multi:!0}],Gl=function(){function e(){g(this,e)}return m(e,[{key:"addToWindow",value:function(e){Ze.getAngularTestability=function(t){var n=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],r=e.findTestabilityInTree(t,n);if(null==r)throw new Error("Could not find testability for element.");return r},Ze.getAllAngularTestabilities=function(){return e.getAllTestabilities()},Ze.getAllAngularRootElements=function(){return e.getAllRootElements()},Ze.frameworkStabilizers||(Ze.frameworkStabilizers=[]),Ze.frameworkStabilizers.push(function(e){var t=Ze.getAllAngularTestabilities(),n=t.length,r=!1,i=function(t){r=r||t,0==--n&&e(r)};t.forEach(function(e){e.whenStable(i)})})}},{key:"findTestabilityInTree",value:function(e,t,n){if(null==t)return null;var r=e.getTestability(t);return null!=r?r:n?nl().isShadowRoot(t)?this.findTestabilityInTree(e,t.host,!0):this.findTestabilityInTree(e,t.parentElement,!0):null}}],[{key:"init",value:function(){var t;t=new e,Dc=t}}]),e}(),Xl=new mr("EventManagerPlugins"),Zl=function(){var e=function(){function e(t,n){var r=this;g(this,e),this._zone=n,this._eventNameToPlugin=new Map,t.forEach(function(e){return e.manager=r}),this._plugins=t.slice().reverse()}return m(e,[{key:"addEventListener",value:function(e,t,n){return this._findPluginFor(t).addEventListener(e,t,n)}},{key:"addGlobalEventListener",value:function(e,t,n){return this._findPluginFor(t).addGlobalEventListener(e,t,n)}},{key:"getZone",value:function(){return this._zone}},{key:"_findPluginFor",value:function(e){var t=this._eventNameToPlugin.get(e);if(t)return t;for(var n=this._plugins,r=0;r<n.length;r++){var i=n[r];if(i.supports(e))return this._eventNameToPlugin.set(e,i),i}throw new Error("No event manager plugin found for event ".concat(e))}}]),e}();return e.\u0275fac=function(t){return new(t||e)(Lr(Xl),Lr(kc))},e.\u0275prov=Ae({token:e,factory:e.\u0275fac}),e}(),Ql=function(){function e(t){g(this,e),this._doc=t}return m(e,[{key:"addGlobalEventListener",value:function(e,t,n){var r=nl().getGlobalEventTarget(this._doc,e);if(!r)throw new Error("Unsupported event target ".concat(r," for event ").concat(t));return this.addEventListener(r,t,n)}}]),e}(),Kl=function(){var e=function(){function e(){g(this,e),this._stylesSet=new Set}return m(e,[{key:"addStyles",value:function(e){var t=this,n=new Set;e.forEach(function(e){t._stylesSet.has(e)||(t._stylesSet.add(e),n.add(e))}),this.onStylesAdded(n)}},{key:"onStylesAdded",value:function(e){}},{key:"getAllStyles",value:function(){return Array.from(this._stylesSet)}}]),e}();return e.\u0275fac=function(t){return new(t||e)},e.\u0275prov=Ae({token:e,factory:e.\u0275fac}),e}(),Yl=function(){var e=function(e){y(n,e);var t=x(n);function n(e){var r;return g(this,n),(r=t.call(this))._doc=e,r._hostNodes=new Set,r._styleNodes=new Set,r._hostNodes.add(e.head),r}return m(n,[{key:"_addStylesToHost",value:function(e,t){var n=this;e.forEach(function(e){var r=n._doc.createElement("style");r.textContent=e,n._styleNodes.add(t.appendChild(r))})}},{key:"addHost",value:function(e){this._addStylesToHost(this._stylesSet,e),this._hostNodes.add(e)}},{key:"removeHost",value:function(e){this._hostNodes.delete(e)}},{key:"onStylesAdded",value:function(e){var t=this;this._hostNodes.forEach(function(n){return t._addStylesToHost(e,n)})}},{key:"ngOnDestroy",value:function(){this._styleNodes.forEach(function(e){return nl().remove(e)})}}]),n}(Kl);return e.\u0275fac=function(t){return new(t||e)(Lr(il))},e.\u0275prov=Ae({token:e,factory:e.\u0275fac}),e}(),Jl={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"},ed=/%COMP%/g,td="%COMP%",nd="_nghost-".concat(td),rd="_ngcontent-".concat(td);function id(e,t,n){for(var r=0;r<t.length;r++){var i=t[r];Array.isArray(i)?id(e,i,n):(i=i.replace(ed,e),n.push(i))}return n}function od(e){return function(t){if("__ngUnwrap__"===t)return e;!1===e(t)&&(t.preventDefault(),t.returnValue=!1)}}var ad=function(){var e=function(){function e(t,n,r){g(this,e),this.eventManager=t,this.sharedStylesHost=n,this.appId=r,this.rendererByCompId=new Map,this.defaultRenderer=new sd(t)}return m(e,[{key:"createRenderer",value:function(e,t){if(!e||!t)return this.defaultRenderer;switch(t.encapsulation){case $e.Emulated:var n=this.rendererByCompId.get(t.id);return n||(n=new ud(this.eventManager,this.sharedStylesHost,t,this.appId),this.rendererByCompId.set(t.id,n)),n.applyToHost(e),n;case 1:case $e.ShadowDom:return new cd(this.eventManager,this.sharedStylesHost,e,t);default:if(!this.rendererByCompId.has(t.id)){var r=id(t.id,t.styles,[]);this.sharedStylesHost.addStyles(r),this.rendererByCompId.set(t.id,this.defaultRenderer)}return this.defaultRenderer}}},{key:"begin",value:function(){}},{key:"end",value:function(){}}]),e}();return e.\u0275fac=function(t){return new(t||e)(Lr(Zl),Lr(Yl),Lr(rc))},e.\u0275prov=Ae({token:e,factory:e.\u0275fac}),e}(),sd=function(){function e(t){g(this,e),this.eventManager=t,this.data=Object.create(null)}return m(e,[{key:"destroy",value:function(){}},{key:"createElement",value:function(e,t){return t?document.createElementNS(Jl[t]||t,e):document.createElement(e)}},{key:"createComment",value:function(e){return document.createComment(e)}},{key:"createText",value:function(e){return document.createTextNode(e)}},{key:"appendChild",value:function(e,t){e.appendChild(t)}},{key:"insertBefore",value:function(e,t,n){e&&e.insertBefore(t,n)}},{key:"removeChild",value:function(e,t){e&&e.removeChild(t)}},{key:"selectRootElement",value:function(e,t){var n="string"==typeof e?document.querySelector(e):e;if(!n)throw new Error('The selector "'.concat(e,'" did not match any elements'));return t||(n.textContent=""),n}},{key:"parentNode",value:function(e){return e.parentNode}},{key:"nextSibling",value:function(e){return e.nextSibling}},{key:"setAttribute",value:function(e,t,n,r){if(r){t=r+":"+t;var i=Jl[r];i?e.setAttributeNS(i,t,n):e.setAttribute(t,n)}else e.setAttribute(t,n)}},{key:"removeAttribute",value:function(e,t,n){if(n){var r=Jl[n];r?e.removeAttributeNS(r,t):e.removeAttribute("".concat(n,":").concat(t))}else e.removeAttribute(t)}},{key:"addClass",value:function(e,t){e.classList.add(t)}},{key:"removeClass",value:function(e,t){e.classList.remove(t)}},{key:"setStyle",value:function(e,t,n,r){r&(ti.DashCase|ti.Important)?e.style.setProperty(t,n,r&ti.Important?"important":""):e.style[t]=n}},{key:"removeStyle",value:function(e,t,n){n&ti.DashCase?e.style.removeProperty(t):e.style[t]=""}},{key:"setProperty",value:function(e,t,n){e[t]=n}},{key:"setValue",value:function(e,t){e.nodeValue=t}},{key:"listen",value:function(e,t,n){return"string"==typeof e?this.eventManager.addGlobalEventListener(e,t,od(n)):this.eventManager.addEventListener(e,t,od(n))}}]),e}(),ud=function(e){y(n,e);var t=x(n);function n(e,r,i,o){var a;g(this,n),(a=t.call(this,e)).component=i;var s=id(o+"-"+i.id,i.styles,[]);return r.addStyles(s),a.contentAttr=rd.replace(ed,o+"-"+i.id),a.hostAttr=nd.replace(ed,o+"-"+i.id),a}return m(n,[{key:"applyToHost",value:function(e){i(r(n.prototype),"setAttribute",this).call(this,e,this.hostAttr,"")}},{key:"createElement",value:function(e,t){var o=i(r(n.prototype),"createElement",this).call(this,e,t);return i(r(n.prototype),"setAttribute",this).call(this,o,this.contentAttr,""),o}}]),n}(sd),cd=function(e){y(n,e);var t=x(n);function n(e,r,i,o){var a;g(this,n),(a=t.call(this,e)).sharedStylesHost=r,a.hostEl=i,a.shadowRoot=i.attachShadow({mode:"open"}),a.sharedStylesHost.addHost(a.shadowRoot);for(var s=id(o.id,o.styles,[]),u=0;u<s.length;u++){var c=document.createElement("style");c.textContent=s[u],a.shadowRoot.appendChild(c)}return a}return m(n,[{key:"nodeOrShadowRoot",value:function(e){return e===this.hostEl?this.shadowRoot:e}},{key:"destroy",value:function(){this.sharedStylesHost.removeHost(this.shadowRoot)}},{key:"appendChild",value:function(e,t){return i(r(n.prototype),"appendChild",this).call(this,this.nodeOrShadowRoot(e),t)}},{key:"insertBefore",value:function(e,t,o){return i(r(n.prototype),"insertBefore",this).call(this,this.nodeOrShadowRoot(e),t,o)}},{key:"removeChild",value:function(e,t){return i(r(n.prototype),"removeChild",this).call(this,this.nodeOrShadowRoot(e),t)}},{key:"parentNode",value:function(e){return this.nodeOrShadowRoot(i(r(n.prototype),"parentNode",this).call(this,this.nodeOrShadowRoot(e)))}}]),n}(sd),ld=function(){var e=function(e){y(n,e);var t=x(n);function n(e){return g(this,n),t.call(this,e)}return m(n,[{key:"supports",value:function(e){return!0}},{key:"addEventListener",value:function(e,t,n){var r=this;return e.addEventListener(t,n,!1),function(){return r.removeEventListener(e,t,n)}}},{key:"removeEventListener",value:function(e,t,n){return e.removeEventListener(t,n)}}]),n}(Ql);return e.\u0275fac=function(t){return new(t||e)(Lr(il))},e.\u0275prov=Ae({token:e,factory:e.\u0275fac}),e}(),dd=["alt","control","meta","shift"],hd={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},fd={A:"1",B:"2",C:"3",D:"4",E:"5",F:"6",G:"7",H:"8",I:"9",J:"*",K:"+",M:"-",N:".",O:"/","`":"0","\x90":"NumLock"},pd={alt:function(e){return e.altKey},control:function(e){return e.ctrlKey},meta:function(e){return e.metaKey},shift:function(e){return e.shiftKey}},vd=function(){var e=function(e){y(n,e);var t=x(n);function n(e){return g(this,n),t.call(this,e)}return m(n,[{key:"supports",value:function(e){return null!=n.parseEventName(e)}},{key:"addEventListener",value:function(e,t,r){var i=n.parseEventName(t),o=n.eventCallback(i.fullKey,r,this.manager.getZone());return this.manager.getZone().runOutsideAngular(function(){return nl().onAndCancel(e,i.domEventName,o)})}}],[{key:"parseEventName",value:function(e){var t=e.toLowerCase().split("."),r=t.shift();if(0===t.length||"keydown"!==r&&"keyup"!==r)return null;var i=n._normalizeKey(t.pop()),o="";if(dd.forEach(function(e){var n=t.indexOf(e);n>-1&&(t.splice(n,1),o+=e+".")}),o+=i,0!=t.length||0===i.length)return null;var a={};return a.domEventName=r,a.fullKey=o,a}},{key:"getEventFullKey",value:function(e){var t="",n=function(e){var t=e.key;if(null==t){if(null==(t=e.keyIdentifier))return"Unidentified";t.startsWith("U+")&&(t=String.fromCharCode(parseInt(t.substring(2),16)),3===e.location&&fd.hasOwnProperty(t)&&(t=fd[t]))}return hd[t]||t}(e);return" "===(n=n.toLowerCase())?n="space":"."===n&&(n="dot"),dd.forEach(function(r){r!=n&&(0,pd[r])(e)&&(t+=r+".")}),t+=n}},{key:"eventCallback",value:function(e,t,r){return function(i){n.getEventFullKey(i)===e&&r.runGuarded(function(){return t(i)})}}},{key:"_normalizeKey",value:function(e){switch(e){case"esc":return"escape";default:return e}}}]),n}(Ql);return e.\u0275fac=function(t){return new(t||e)(Lr(il))},e.\u0275prov=Ae({token:e,factory:e.\u0275fac}),e}(),md=Fc(Yc,"browser",[{provide:sc,useValue:"browser"},{provide:ac,useValue:function(){Hl.makeCurrent(),Gl.init()},multi:!0},{provide:il,useFactory:function(){return function(e){Nt=e}(document),document},deps:[]}]),gd=[[],{provide:Bo,useValue:"root"},{provide:Kr,useFactory:function(){return new Kr},deps:[]},{provide:Xl,useClass:ld,multi:!0,deps:[il,kc,sc]},{provide:Xl,useClass:vd,multi:!0,deps:[il]},[],{provide:ad,useClass:ad,deps:[Zl,Yl,rc]},{provide:js,useExisting:ad},{provide:Kl,useExisting:Yl},{provide:Yl,useClass:Yl,deps:[il]},{provide:Oc,useClass:Oc,deps:[kc]},{provide:Zl,useClass:Zl,deps:[Xl,kc]},[]],yd=function(){var e=function(){function e(t){if(g(this,e),t)throw new Error("BrowserModule has already been loaded. If you need access to common directives such as NgIf and NgFor from a lazy loaded module, import CommonModule instead.")}return m(e,null,[{key:"withServerTransition",value:function(t){return{ngModule:e,providers:[{provide:rc,useValue:t.appId},{provide:ql,useExisting:rc},Wl]}}}]),e}();return e.\u0275mod=lt({type:e}),e.\u0275inj=Ee({factory:function(t){return new(t||e)(Lr(e,12))},providers:gd,imports:[zl,el]}),e}();function bd(e,t){return new L(function(n){var r=e.length;if(0!==r)for(var i=new Array(r),o=0,a=0,s=function(s){var u=re(e[s]),c=!1;n.add(u.subscribe({next:function(e){c||(c=!0,a++),i[s]=e},error:function(e){return n.error(e)},complete:function(){++o!==r&&c||(a===r&&n.next(t?t.reduce(function(e,t,n){return e[t]=i[n],e},{}):i),n.complete())}}))},u=0;u<r;u++)s(u);else n.complete()})}"undefined"!=typeof window&&window;var wd=new mr("NgValueAccessor"),xd={provide:wd,useExisting:Se(function(){return kd}),multi:!0},kd=function(){var e=function(){function e(t,n){g(this,e),this._renderer=t,this._elementRef=n,this.onChange=function(e){},this.onTouched=function(){}}return m(e,[{key:"writeValue",value:function(e){this._renderer.setProperty(this._elementRef.nativeElement,"checked",e)}},{key:"registerOnChange",value:function(e){this.onChange=e}},{key:"registerOnTouched",value:function(e){this.onTouched=e}},{key:"setDisabledState",value:function(e){this._renderer.setProperty(this._elementRef.nativeElement,"disabled",e)}}]),e}();return e.\u0275fac=function(t){return new(t||e)(ka(zs),ka(Ns))},e.\u0275dir=ht({type:e,selectors:[["input","type","checkbox","formControlName",""],["input","type","checkbox","formControl",""],["input","type","checkbox","ngModel",""]],hostBindings:function(e,t){1&e&&Ma("change",function(e){return t.onChange(e.target.checked)})("blur",function(){return t.onTouched()})},features:[As([xd])]}),e}(),_d={provide:wd,useExisting:Se(function(){return Sd}),multi:!0},Cd=new mr("CompositionEventMode"),Sd=function(){var e=function(){function e(t,n,r){var i;g(this,e),this._renderer=t,this._elementRef=n,this._compositionMode=r,this.onChange=function(e){},this.onTouched=function(){},this._composing=!1,null==this._compositionMode&&(this._compositionMode=(i=nl()?nl().getUserAgent():"",!/android (\d+)/.test(i.toLowerCase())))}return m(e,[{key:"writeValue",value:function(e){this._renderer.setProperty(this._elementRef.nativeElement,"value",null==e?"":e)}},{key:"registerOnChange",value:function(e){this.onChange=e}},{key:"registerOnTouched",value:function(e){this.onTouched=e}},{key:"setDisabledState",value:function(e){this._renderer.setProperty(this._elementRef.nativeElement,"disabled",e)}},{key:"_handleInput",value:function(e){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(e)}},{key:"_compositionStart",value:function(){this._composing=!0}},{key:"_compositionEnd",value:function(e){this._composing=!1,this._compositionMode&&this.onChange(e)}}]),e}();return e.\u0275fac=function(t){return new(t||e)(ka(zs),ka(Ns),ka(Cd,8))},e.\u0275dir=ht({type:e,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(e,t){1&e&&Ma("input",function(e){return t._handleInput(e.target.value)})("blur",function(){return t.onTouched()})("compositionstart",function(){return t._compositionStart()})("compositionend",function(e){return t._compositionEnd(e.target.value)})},features:[As([_d])]}),e}();function Id(e){return null==e||0===e.length}function Td(e){return null!=e&&"number"==typeof e.length}var Ad=new mr("NgValidators"),Ed=new mr("NgAsyncValidators"),Od=/^(?=.{1,254}$)(?=.{1,64}@)[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+)*@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/,Md=function(){function e(){g(this,e)}return m(e,null,[{key:"min",value:function(e){return function(t){if(Id(t.value)||Id(e))return null;var n=parseFloat(t.value);return!isNaN(n)&&n<e?{min:{min:e,actual:t.value}}:null}}},{key:"max",value:function(e){return function(t){if(Id(t.value)||Id(e))return null;var n=parseFloat(t.value);return!isNaN(n)&&n>e?{max:{max:e,actual:t.value}}:null}}},{key:"required",value:function(e){return Id(e.value)?{required:!0}:null}},{key:"requiredTrue",value:function(e){return!0===e.value?null:{required:!0}}},{key:"email",value:function(e){return Id(e.value)||Od.test(e.value)?null:{email:!0}}},{key:"minLength",value:function(e){return function(t){return Id(t.value)||!Td(t.value)?null:t.value.length<e?{minlength:{requiredLength:e,actualLength:t.value.length}}:null}}},{key:"maxLength",value:function(e){return function(t){return Td(t.value)&&t.value.length>e?{maxlength:{requiredLength:e,actualLength:t.value.length}}:null}}},{key:"pattern",value:function(t){return t?("string"==typeof t?(r="","^"!==t.charAt(0)&&(r+="^"),r+=t,"$"!==t.charAt(t.length-1)&&(r+="$"),n=new RegExp(r)):(r=t.toString(),n=t),function(e){if(Id(e.value))return null;var t=e.value;return n.test(t)?null:{pattern:{requiredPattern:r,actualValue:t}}}):e.nullValidator;var n,r}},{key:"nullValidator",value:function(e){return null}},{key:"compose",value:function(e){if(!e)return null;var t=e.filter(Dd);return 0==t.length?null:function(e){return Pd(Vd(e,t))}}},{key:"composeAsync",value:function(e){if(!e)return null;var t=e.filter(Dd);return 0==t.length?null:function(e){return function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];if(1===t.length){var r=t[0];if(_(r))return bd(r,null);if(C(r)&&Object.getPrototypeOf(r)===Object.prototype){var i=Object.keys(r);return bd(i.map(function(e){return r[e]}),i)}}if("function"==typeof t[t.length-1]){var o=t.pop();return bd(t=1===t.length&&_(t[0])?t[0]:t,null).pipe(G(function(e){return o.apply(void 0,d(e))}))}return bd(t,null)}(Vd(e,t).map(Rd)).pipe(G(Pd))}}}]),e}();function Dd(e){return null!=e}function Rd(e){var t=Ea(e)?re(e):e;return Oa(t),t}function Pd(e){var t={};return e.forEach(function(e){t=null!=e?Object.assign(Object.assign({},t),e):t}),0===Object.keys(t).length?null:t}function Vd(e,t){return t.map(function(t){return t(e)})}function Nd(e){return e.map(function(e){return function(e){return!e.validate}(e)?e:function(t){return e.validate(t)}})}function jd(e){return null!=e?Md.compose(Nd(e)):null}function zd(e){return null!=e?Md.composeAsync(Nd(e)):null}function Ld(e,t){return null===e?[t]:Array.isArray(e)?[].concat(d(e),[t]):[e,t]}var Fd=function(){var e=function(){function e(){g(this,e),this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}return m(e,[{key:"_setValidators",value:function(e){this._rawValidators=e||[],this._composedValidatorFn=jd(this._rawValidators)}},{key:"_setAsyncValidators",value:function(e){this._rawAsyncValidators=e||[],this._composedAsyncValidatorFn=zd(this._rawAsyncValidators)}},{key:"_registerOnDestroy",value:function(e){this._onDestroyCallbacks.push(e)}},{key:"_invokeOnDestroyCallbacks",value:function(){this._onDestroyCallbacks.forEach(function(e){return e()}),this._onDestroyCallbacks=[]}},{key:"reset",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:void 0;this.control&&this.control.reset(e)}},{key:"hasError",value:function(e,t){return!!this.control&&this.control.hasError(e,t)}},{key:"getError",value:function(e,t){return this.control?this.control.getError(e,t):null}},{key:"value",get:function(){return this.control?this.control.value:null}},{key:"valid",get:function(){return this.control?this.control.valid:null}},{key:"invalid",get:function(){return this.control?this.control.invalid:null}},{key:"pending",get:function(){return this.control?this.control.pending:null}},{key:"disabled",get:function(){return this.control?this.control.disabled:null}},{key:"enabled",get:function(){return this.control?this.control.enabled:null}},{key:"errors",get:function(){return this.control?this.control.errors:null}},{key:"pristine",get:function(){return this.control?this.control.pristine:null}},{key:"dirty",get:function(){return this.control?this.control.dirty:null}},{key:"touched",get:function(){return this.control?this.control.touched:null}},{key:"status",get:function(){return this.control?this.control.status:null}},{key:"untouched",get:function(){return this.control?this.control.untouched:null}},{key:"statusChanges",get:function(){return this.control?this.control.statusChanges:null}},{key:"valueChanges",get:function(){return this.control?this.control.valueChanges:null}},{key:"path",get:function(){return null}},{key:"validator",get:function(){return this._composedValidatorFn||null}},{key:"asyncValidator",get:function(){return this._composedAsyncValidatorFn||null}}]),e}();return e.\u0275fac=function(t){return new(t||e)},e.\u0275dir=ht({type:e}),e}(),Ud=function(){var e=function(e){y(n,e);var t=x(n);function n(){return g(this,n),t.apply(this,arguments)}return m(n,[{key:"formDirective",get:function(){return null}},{key:"path",get:function(){return null}}]),n}(Fd);return e.\u0275fac=function(t){return Bd(t||e)},e.\u0275dir=ht({type:e,features:[oa]}),e}(),Bd=hr(Ud),Hd=function(e){y(n,e);var t=x(n);function n(){var e;return g(this,n),(e=t.apply(this,arguments))._parent=null,e.name=null,e.valueAccessor=null,e}return n}(Fd),$d=function(){function e(t){g(this,e),this._cd=t}return m(e,[{key:"ngClassUntouched",get:function(){return!!this._cd.control&&this._cd.control.untouched}},{key:"ngClassTouched",get:function(){return!!this._cd.control&&this._cd.control.touched}},{key:"ngClassPristine",get:function(){return!!this._cd.control&&this._cd.control.pristine}},{key:"ngClassDirty",get:function(){return!!this._cd.control&&this._cd.control.dirty}},{key:"ngClassValid",get:function(){return!!this._cd.control&&this._cd.control.valid}},{key:"ngClassInvalid",get:function(){return!!this._cd.control&&this._cd.control.invalid}},{key:"ngClassPending",get:function(){return!!this._cd.control&&this._cd.control.pending}}]),e}(),qd=function(){var e=function(e){y(n,e);var t=x(n);function n(e){return g(this,n),t.call(this,e)}return n}($d);return e.\u0275fac=function(t){return new(t||e)(ka(Hd,2))},e.\u0275dir=ht({type:e,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(e,t){2&e&&Qa("ng-untouched",t.ngClassUntouched)("ng-touched",t.ngClassTouched)("ng-pristine",t.ngClassPristine)("ng-dirty",t.ngClassDirty)("ng-valid",t.ngClassValid)("ng-invalid",t.ngClassInvalid)("ng-pending",t.ngClassPending)},features:[oa]}),e}(),Wd={provide:wd,useExisting:Se(function(){return Gd}),multi:!0},Gd=function(){var e=function(){function e(t,n){g(this,e),this._renderer=t,this._elementRef=n,this.onChange=function(e){},this.onTouched=function(){}}return m(e,[{key:"writeValue",value:function(e){this._renderer.setProperty(this._elementRef.nativeElement,"value",null==e?"":e)}},{key:"registerOnChange",value:function(e){this.onChange=function(t){e(""==t?null:parseFloat(t))}}},{key:"registerOnTouched",value:function(e){this.onTouched=e}},{key:"setDisabledState",value:function(e){this._renderer.setProperty(this._elementRef.nativeElement,"disabled",e)}}]),e}();return e.\u0275fac=function(t){return new(t||e)(ka(zs),ka(Ns))},e.\u0275dir=ht({type:e,selectors:[["input","type","number","formControlName",""],["input","type","number","formControl",""],["input","type","number","ngModel",""]],hostBindings:function(e,t){1&e&&Ma("input",function(e){return t.onChange(e.target.value)})("blur",function(){return t.onTouched()})},features:[As([Wd])]}),e}(),Xd={provide:wd,useExisting:Se(function(){return Qd}),multi:!0},Zd=function(){var e=function(){function e(){g(this,e),this._accessors=[]}return m(e,[{key:"add",value:function(e,t){this._accessors.push([e,t])}},{key:"remove",value:function(e){for(var t=this._accessors.length-1;t>=0;--t)if(this._accessors[t][1]===e)return void this._accessors.splice(t,1)}},{key:"select",value:function(e){var t=this;this._accessors.forEach(function(n){t._isSameGroup(n,e)&&n[1]!==e&&n[1].fireUncheck(e.value)})}},{key:"_isSameGroup",value:function(e,t){return!!e[0].control&&e[0]._parent===t._control._parent&&e[1].name===t.name}}]),e}();return e.\u0275fac=function(t){return new(t||e)},e.\u0275prov=Ae({token:e,factory:e.\u0275fac}),e}(),Qd=function(){var e=function(){function e(t,n,r,i){g(this,e),this._renderer=t,this._elementRef=n,this._registry=r,this._injector=i,this.onChange=function(){},this.onTouched=function(){}}return m(e,[{key:"ngOnInit",value:function(){this._control=this._injector.get(Hd),this._checkName(),this._registry.add(this._control,this)}},{key:"ngOnDestroy",value:function(){this._registry.remove(this)}},{key:"writeValue",value:function(e){this._state=e===this.value,this._renderer.setProperty(this._elementRef.nativeElement,"checked",this._state)}},{key:"registerOnChange",value:function(e){var t=this;this._fn=e,this.onChange=function(){e(t.value),t._registry.select(t)}}},{key:"fireUncheck",value:function(e){this.writeValue(e)}},{key:"registerOnTouched",value:function(e){this.onTouched=e}},{key:"setDisabledState",value:function(e){this._renderer.setProperty(this._elementRef.nativeElement,"disabled",e)}},{key:"_checkName",value:function(){!this.name&&this.formControlName&&(this.name=this.formControlName)}}]),e}();return e.\u0275fac=function(t){return new(t||e)(ka(zs),ka(Ns),ka(Zd),ka(ra))},e.\u0275dir=ht({type:e,selectors:[["input","type","radio","formControlName",""],["input","type","radio","formControl",""],["input","type","radio","ngModel",""]],hostBindings:function(e,t){1&e&&Ma("change",function(){return t.onChange()})("blur",function(){return t.onTouched()})},inputs:{name:"name",formControlName:"formControlName",value:"value"},features:[As([Xd])]}),e}(),Kd={provide:wd,useExisting:Se(function(){return Yd}),multi:!0},Yd=function(){var e=function(){function e(t,n){g(this,e),this._renderer=t,this._elementRef=n,this.onChange=function(e){},this.onTouched=function(){}}return m(e,[{key:"writeValue",value:function(e){this._renderer.setProperty(this._elementRef.nativeElement,"value",parseFloat(e))}},{key:"registerOnChange",value:function(e){this.onChange=function(t){e(""==t?null:parseFloat(t))}}},{key:"registerOnTouched",value:function(e){this.onTouched=e}},{key:"setDisabledState",value:function(e){this._renderer.setProperty(this._elementRef.nativeElement,"disabled",e)}}]),e}();return e.\u0275fac=function(t){return new(t||e)(ka(zs),ka(Ns))},e.\u0275dir=ht({type:e,selectors:[["input","type","range","formControlName",""],["input","type","range","formControl",""],["input","type","range","ngModel",""]],hostBindings:function(e,t){1&e&&Ma("change",function(e){return t.onChange(e.target.value)})("input",function(e){return t.onChange(e.target.value)})("blur",function(){return t.onTouched()})},features:[As([Kd])]}),e}(),Jd={provide:wd,useExisting:Se(function(){return eh}),multi:!0},eh=function(){var e=function(){function e(t,n){g(this,e),this._renderer=t,this._elementRef=n,this._optionMap=new Map,this._idCounter=0,this.onChange=function(e){},this.onTouched=function(){},this._compareWith=Object.is}return m(e,[{key:"writeValue",value:function(e){this.value=e;var t=this._getOptionId(e);null==t&&this._renderer.setProperty(this._elementRef.nativeElement,"selectedIndex",-1);var n=function(e,t){return null==e?"".concat(t):(t&&"object"==typeof t&&(t="Object"),"".concat(e,": ").concat(t).slice(0,50))}(t,e);this._renderer.setProperty(this._elementRef.nativeElement,"value",n)}},{key:"registerOnChange",value:function(e){var t=this;this.onChange=function(n){t.value=t._getOptionValue(n),e(t.value)}}},{key:"registerOnTouched",value:function(e){this.onTouched=e}},{key:"setDisabledState",value:function(e){this._renderer.setProperty(this._elementRef.nativeElement,"disabled",e)}},{key:"_registerOption",value:function(){return(this._idCounter++).toString()}},{key:"_getOptionId",value:function(e){for(var t=0,n=Array.from(this._optionMap.keys());t<n.length;t++){var r=n[t];if(this._compareWith(this._optionMap.get(r),e))return r}return null}},{key:"_getOptionValue",value:function(e){var t=function(e){return e.split(":")[0]}(e);return this._optionMap.has(t)?this._optionMap.get(t):e}},{key:"compareWith",set:function(e){this._compareWith=e}}]),e}();return e.\u0275fac=function(t){return new(t||e)(ka(zs),ka(Ns))},e.\u0275dir=ht({type:e,selectors:[["select","formControlName","",3,"multiple",""],["select","formControl","",3,"multiple",""],["select","ngModel","",3,"multiple",""]],hostBindings:function(e,t){1&e&&Ma("change",function(e){return t.onChange(e.target.value)})("blur",function(){return t.onTouched()})},inputs:{compareWith:"compareWith"},features:[As([Jd])]}),e}(),th={provide:wd,useExisting:Se(function(){return nh}),multi:!0},nh=function(){var e=function(){function e(t,n){g(this,e),this._renderer=t,this._elementRef=n,this._optionMap=new Map,this._idCounter=0,this.onChange=function(e){},this.onTouched=function(){},this._compareWith=Object.is}return m(e,[{key:"writeValue",value:function(e){var t,n=this;if(this.value=e,Array.isArray(e)){var r=e.map(function(e){return n._getOptionId(e)});t=function(e,t){e._setSelected(r.indexOf(t.toString())>-1)}}else t=function(e,t){e._setSelected(!1)};this._optionMap.forEach(t)}},{key:"registerOnChange",value:function(e){var t=this;this.onChange=function(n){var r=[];if(void 0!==n.selectedOptions)for(var i=n.selectedOptions,o=0;o<i.length;o++){var a=i.item(o),s=t._getOptionValue(a.value);r.push(s)}else for(var u=n.options,c=0;c<u.length;c++){var l=u.item(c);if(l.selected){var d=t._getOptionValue(l.value);r.push(d)}}t.value=r,e(r)}}},{key:"registerOnTouched",value:function(e){this.onTouched=e}},{key:"setDisabledState",value:function(e){this._renderer.setProperty(this._elementRef.nativeElement,"disabled",e)}},{key:"_registerOption",value:function(e){var t=(this._idCounter++).toString();return this._optionMap.set(t,e),t}},{key:"_getOptionId",value:function(e){for(var t=0,n=Array.from(this._optionMap.keys());t<n.length;t++){var r=n[t];if(this._compareWith(this._optionMap.get(r)._value,e))return r}return null}},{key:"_getOptionValue",value:function(e){var t=function(e){return e.split(":")[0]}(e);return this._optionMap.has(t)?this._optionMap.get(t)._value:e}},{key:"compareWith",set:function(e){this._compareWith=e}}]),e}();return e.\u0275fac=function(t){return new(t||e)(ka(zs),ka(Ns))},e.\u0275dir=ht({type:e,selectors:[["select","multiple","","formControlName",""],["select","multiple","","formControl",""],["select","multiple","","ngModel",""]],hostBindings:function(e,t){1&e&&Ma("change",function(e){return t.onChange(e.target)})("blur",function(){return t.onTouched()})},inputs:{compareWith:"compareWith"},features:[As([th])]}),e}();function rh(e,t){e.forEach(function(e){e.registerOnValidatorChange&&e.registerOnValidatorChange(t)})}function ih(e,t){e._pendingDirty&&e.markAsDirty(),e.setValue(e._pendingValue,{emitModelToViewChange:!1}),t.viewToModelUpdate(e._pendingValue),e._pendingChange=!1}var oh=[kd,Yd,Gd,eh,nh,Qd];function ah(e,t){var n=e.indexOf(t);n>-1&&e.splice(n,1)}var sh="VALID",uh="INVALID",ch="PENDING",lh="DISABLED";function dh(e){return(vh(e)?e.validators:e)||null}function hh(e){return Array.isArray(e)?jd(e):e||null}function fh(e,t){return(vh(t)?t.asyncValidators:e)||null}function ph(e){return Array.isArray(e)?zd(e):e||null}function vh(e){return null!=e&&!Array.isArray(e)&&"object"==typeof e}var mh=function(){function e(t,n){g(this,e),this._hasOwnPendingAsyncValidator=!1,this._onCollectionChange=function(){},this._parent=null,this.pristine=!0,this.touched=!1,this._onDisabledChange=[],this._rawValidators=t,this._rawAsyncValidators=n,this._composedValidatorFn=hh(this._rawValidators),this._composedAsyncValidatorFn=ph(this._rawAsyncValidators)}return m(e,[{key:"setValidators",value:function(e){this._rawValidators=e,this._composedValidatorFn=hh(e)}},{key:"setAsyncValidators",value:function(e){this._rawAsyncValidators=e,this._composedAsyncValidatorFn=ph(e)}},{key:"clearValidators",value:function(){this.validator=null}},{key:"clearAsyncValidators",value:function(){this.asyncValidator=null}},{key:"markAsTouched",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.touched=!0,this._parent&&!e.onlySelf&&this._parent.markAsTouched(e)}},{key:"markAllAsTouched",value:function(){this.markAsTouched({onlySelf:!0}),this._forEachChild(function(e){return e.markAllAsTouched()})}},{key:"markAsUntouched",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.touched=!1,this._pendingTouched=!1,this._forEachChild(function(e){e.markAsUntouched({onlySelf:!0})}),this._parent&&!e.onlySelf&&this._parent._updateTouched(e)}},{key:"markAsDirty",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.pristine=!1,this._parent&&!e.onlySelf&&this._parent.markAsDirty(e)}},{key:"markAsPristine",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.pristine=!0,this._pendingDirty=!1,this._forEachChild(function(e){e.markAsPristine({onlySelf:!0})}),this._parent&&!e.onlySelf&&this._parent._updatePristine(e)}},{key:"markAsPending",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.status=ch,!1!==e.emitEvent&&this.statusChanges.emit(this.status),this._parent&&!e.onlySelf&&this._parent.markAsPending(e)}},{key:"disable",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=this._parentMarkedDirty(e.onlySelf);this.status=lh,this.errors=null,this._forEachChild(function(t){t.disable(Object.assign(Object.assign({},e),{onlySelf:!0}))}),this._updateValue(),!1!==e.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors(Object.assign(Object.assign({},e),{skipPristineCheck:t})),this._onDisabledChange.forEach(function(e){return e(!0)})}},{key:"enable",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=this._parentMarkedDirty(e.onlySelf);this.status=sh,this._forEachChild(function(t){t.enable(Object.assign(Object.assign({},e),{onlySelf:!0}))}),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent}),this._updateAncestors(Object.assign(Object.assign({},e),{skipPristineCheck:t})),this._onDisabledChange.forEach(function(e){return e(!1)})}},{key:"_updateAncestors",value:function(e){this._parent&&!e.onlySelf&&(this._parent.updateValueAndValidity(e),e.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}},{key:"setParent",value:function(e){this._parent=e}},{key:"updateValueAndValidity",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),this.status!==sh&&this.status!==ch||this._runAsyncValidator(e.emitEvent)),!1!==e.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!e.onlySelf&&this._parent.updateValueAndValidity(e)}},{key:"_updateTreeValidity",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{emitEvent:!0};this._forEachChild(function(t){return t._updateTreeValidity(e)}),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent})}},{key:"_setInitialStatus",value:function(){this.status=this._allControlsDisabled()?lh:sh}},{key:"_runValidator",value:function(){return this.validator?this.validator(this):null}},{key:"_runAsyncValidator",value:function(e){var t=this;if(this.asyncValidator){this.status=ch,this._hasOwnPendingAsyncValidator=!0;var n=Rd(this.asyncValidator(this));this._asyncValidationSubscription=n.subscribe(function(n){t._hasOwnPendingAsyncValidator=!1,t.setErrors(n,{emitEvent:e})})}}},{key:"_cancelExistingSubscription",value:function(){this._asyncValidationSubscription&&(this._asyncValidationSubscription.unsubscribe(),this._hasOwnPendingAsyncValidator=!1)}},{key:"setErrors",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this.errors=e,this._updateControlsErrors(!1!==t.emitEvent)}},{key:"get",value:function(e){return function(e,t,n){if(null==t)return null;if(Array.isArray(t)||(t=t.split(".")),Array.isArray(t)&&0===t.length)return null;var r=e;return t.forEach(function(e){r=r instanceof yh?r.controls.hasOwnProperty(e)?r.controls[e]:null:r instanceof bh&&r.at(e)||null}),r}(this,e)}},{key:"getError",value:function(e,t){var n=t?this.get(t):this;return n&&n.errors?n.errors[e]:null}},{key:"hasError",value:function(e,t){return!!this.getError(e,t)}},{key:"_updateControlsErrors",value:function(e){this.status=this._calculateStatus(),e&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(e)}},{key:"_initObservables",value:function(){this.valueChanges=new Nu,this.statusChanges=new Nu}},{key:"_calculateStatus",value:function(){return this._allControlsDisabled()?lh:this.errors?uh:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(ch)?ch:this._anyControlsHaveStatus(uh)?uh:sh}},{key:"_anyControlsHaveStatus",value:function(e){return this._anyControls(function(t){return t.status===e})}},{key:"_anyControlsDirty",value:function(){return this._anyControls(function(e){return e.dirty})}},{key:"_anyControlsTouched",value:function(){return this._anyControls(function(e){return e.touched})}},{key:"_updatePristine",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.pristine=!this._anyControlsDirty(),this._parent&&!e.onlySelf&&this._parent._updatePristine(e)}},{key:"_updateTouched",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.touched=this._anyControlsTouched(),this._parent&&!e.onlySelf&&this._parent._updateTouched(e)}},{key:"_isBoxedValue",value:function(e){return"object"==typeof e&&null!==e&&2===Object.keys(e).length&&"value"in e&&"disabled"in e}},{key:"_registerOnCollectionChange",value:function(e){this._onCollectionChange=e}},{key:"_setUpdateStrategy",value:function(e){vh(e)&&null!=e.updateOn&&(this._updateOn=e.updateOn)}},{key:"_parentMarkedDirty",value:function(e){return!e&&!(!this._parent||!this._parent.dirty)&&!this._parent._anyControlsDirty()}},{key:"validator",get:function(){return this._composedValidatorFn},set:function(e){this._rawValidators=this._composedValidatorFn=e}},{key:"asyncValidator",get:function(){return this._composedAsyncValidatorFn},set:function(e){this._rawAsyncValidators=this._composedAsyncValidatorFn=e}},{key:"parent",get:function(){return this._parent}},{key:"valid",get:function(){return this.status===sh}},{key:"invalid",get:function(){return this.status===uh}},{key:"pending",get:function(){return this.status==ch}},{key:"disabled",get:function(){return this.status===lh}},{key:"enabled",get:function(){return this.status!==lh}},{key:"dirty",get:function(){return!this.pristine}},{key:"untouched",get:function(){return!this.touched}},{key:"updateOn",get:function(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}},{key:"root",get:function(){for(var e=this;e._parent;)e=e._parent;return e}}]),e}(),gh=function(e){y(n,e);var t=x(n);function n(){var e,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,i=arguments.length>1?arguments[1]:void 0,o=arguments.length>2?arguments[2]:void 0;return g(this,n),(e=t.call(this,dh(i),fh(o,i)))._onChange=[],e._applyFormState(r),e._setUpdateStrategy(i),e._initObservables(),e.updateValueAndValidity({onlySelf:!0,emitEvent:!!o}),e}return m(n,[{key:"setValue",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this.value=this._pendingValue=e,this._onChange.length&&!1!==n.emitModelToViewChange&&this._onChange.forEach(function(e){return e(t.value,!1!==n.emitViewToModelChange)}),this.updateValueAndValidity(n)}},{key:"patchValue",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this.setValue(e,t)}},{key:"reset",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this._applyFormState(e),this.markAsPristine(t),this.markAsUntouched(t),this.setValue(this.value,t),this._pendingChange=!1}},{key:"_updateValue",value:function(){}},{key:"_anyControls",value:function(e){return!1}},{key:"_allControlsDisabled",value:function(){return this.disabled}},{key:"registerOnChange",value:function(e){this._onChange.push(e)}},{key:"_unregisterOnChange",value:function(e){ah(this._onChange,e)}},{key:"registerOnDisabledChange",value:function(e){this._onDisabledChange.push(e)}},{key:"_unregisterOnDisabledChange",value:function(e){ah(this._onDisabledChange,e)}},{key:"_forEachChild",value:function(e){}},{key:"_syncPendingControls",value:function(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}},{key:"_applyFormState",value:function(e){this._isBoxedValue(e)?(this.value=this._pendingValue=e.value,e.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=e}}]),n}(mh),yh=function(e){y(n,e);var t=x(n);function n(e,r,i){var o;return g(this,n),(o=t.call(this,dh(r),fh(i,r))).controls=e,o._initObservables(),o._setUpdateStrategy(r),o._setUpControls(),o.updateValueAndValidity({onlySelf:!0,emitEvent:!!i}),o}return m(n,[{key:"registerControl",value:function(e,t){return this.controls[e]?this.controls[e]:(this.controls[e]=t,t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange),t)}},{key:"addControl",value:function(e,t){this.registerControl(e,t),this.updateValueAndValidity(),this._onCollectionChange()}},{key:"removeControl",value:function(e){this.controls[e]&&this.controls[e]._registerOnCollectionChange(function(){}),delete this.controls[e],this.updateValueAndValidity(),this._onCollectionChange()}},{key:"setControl",value:function(e,t){this.controls[e]&&this.controls[e]._registerOnCollectionChange(function(){}),delete this.controls[e],t&&this.registerControl(e,t),this.updateValueAndValidity(),this._onCollectionChange()}},{key:"contains",value:function(e){return this.controls.hasOwnProperty(e)&&this.controls[e].enabled}},{key:"setValue",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this._checkAllValuesPresent(e),Object.keys(e).forEach(function(r){t._throwIfControlMissing(r),t.controls[r].setValue(e[r],{onlySelf:!0,emitEvent:n.emitEvent})}),this.updateValueAndValidity(n)}},{key:"patchValue",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};Object.keys(e).forEach(function(r){t.controls[r]&&t.controls[r].patchValue(e[r],{onlySelf:!0,emitEvent:n.emitEvent})}),this.updateValueAndValidity(n)}},{key:"reset",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this._forEachChild(function(n,r){n.reset(e[r],{onlySelf:!0,emitEvent:t.emitEvent})}),this._updatePristine(t),this._updateTouched(t),this.updateValueAndValidity(t)}},{key:"getRawValue",value:function(){return this._reduceChildren({},function(e,t,n){return e[n]=t instanceof gh?t.value:t.getRawValue(),e})}},{key:"_syncPendingControls",value:function(){var e=this._reduceChildren(!1,function(e,t){return!!t._syncPendingControls()||e});return e&&this.updateValueAndValidity({onlySelf:!0}),e}},{key:"_throwIfControlMissing",value:function(e){if(!Object.keys(this.controls).length)throw new Error("\n        There are no form controls registered with this group yet. If you're using ngModel,\n        you may want to check next tick (e.g. use setTimeout).\n      ");if(!this.controls[e])throw new Error("Cannot find form control with name: ".concat(e,"."))}},{key:"_forEachChild",value:function(e){var t=this;Object.keys(this.controls).forEach(function(n){return e(t.controls[n],n)})}},{key:"_setUpControls",value:function(){var e=this;this._forEachChild(function(t){t.setParent(e),t._registerOnCollectionChange(e._onCollectionChange)})}},{key:"_updateValue",value:function(){this.value=this._reduceValue()}},{key:"_anyControls",value:function(e){for(var t=0,n=Object.keys(this.controls);t<n.length;t++){var r=n[t],i=this.controls[r];if(this.contains(r)&&e(i))return!0}return!1}},{key:"_reduceValue",value:function(){var e=this;return this._reduceChildren({},function(t,n,r){return(n.enabled||e.disabled)&&(t[r]=n.value),t})}},{key:"_reduceChildren",value:function(e,t){var n=e;return this._forEachChild(function(e,r){n=t(n,e,r)}),n}},{key:"_allControlsDisabled",value:function(){for(var e=0,t=Object.keys(this.controls);e<t.length;e++)if(this.controls[t[e]].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}},{key:"_checkAllValuesPresent",value:function(e){this._forEachChild(function(t,n){if(void 0===e[n])throw new Error("Must supply a value for form control with name: '".concat(n,"'."))})}}]),n}(mh),bh=function(e){y(n,e);var t=x(n);function n(e,r,i){var o;return g(this,n),(o=t.call(this,dh(r),fh(i,r))).controls=e,o._initObservables(),o._setUpdateStrategy(r),o._setUpControls(),o.updateValueAndValidity({onlySelf:!0,emitEvent:!!i}),o}return m(n,[{key:"at",value:function(e){return this.controls[e]}},{key:"push",value:function(e){this.controls.push(e),this._registerControl(e),this.updateValueAndValidity(),this._onCollectionChange()}},{key:"insert",value:function(e,t){this.controls.splice(e,0,t),this._registerControl(t),this.updateValueAndValidity()}},{key:"removeAt",value:function(e){this.controls[e]&&this.controls[e]._registerOnCollectionChange(function(){}),this.controls.splice(e,1),this.updateValueAndValidity()}},{key:"setControl",value:function(e,t){this.controls[e]&&this.controls[e]._registerOnCollectionChange(function(){}),this.controls.splice(e,1),t&&(this.controls.splice(e,0,t),this._registerControl(t)),this.updateValueAndValidity(),this._onCollectionChange()}},{key:"setValue",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this._checkAllValuesPresent(e),e.forEach(function(e,r){t._throwIfControlMissing(r),t.at(r).setValue(e,{onlySelf:!0,emitEvent:n.emitEvent})}),this.updateValueAndValidity(n)}},{key:"patchValue",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};e.forEach(function(e,r){t.at(r)&&t.at(r).patchValue(e,{onlySelf:!0,emitEvent:n.emitEvent})}),this.updateValueAndValidity(n)}},{key:"reset",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this._forEachChild(function(n,r){n.reset(e[r],{onlySelf:!0,emitEvent:t.emitEvent})}),this._updatePristine(t),this._updateTouched(t),this.updateValueAndValidity(t)}},{key:"getRawValue",value:function(){return this.controls.map(function(e){return e instanceof gh?e.value:e.getRawValue()})}},{key:"clear",value:function(){this.controls.length<1||(this._forEachChild(function(e){return e._registerOnCollectionChange(function(){})}),this.controls.splice(0),this.updateValueAndValidity())}},{key:"_syncPendingControls",value:function(){var e=this.controls.reduce(function(e,t){return!!t._syncPendingControls()||e},!1);return e&&this.updateValueAndValidity({onlySelf:!0}),e}},{key:"_throwIfControlMissing",value:function(e){if(!this.controls.length)throw new Error("\n        There are no form controls registered with this array yet. If you're using ngModel,\n        you may want to check next tick (e.g. use setTimeout).\n      ");if(!this.at(e))throw new Error("Cannot find form control at index ".concat(e))}},{key:"_forEachChild",value:function(e){this.controls.forEach(function(t,n){e(t,n)})}},{key:"_updateValue",value:function(){var e=this;this.value=this.controls.filter(function(t){return t.enabled||e.disabled}).map(function(e){return e.value})}},{key:"_anyControls",value:function(e){return this.controls.some(function(t){return t.enabled&&e(t)})}},{key:"_setUpControls",value:function(){var e=this;this._forEachChild(function(t){return e._registerControl(t)})}},{key:"_checkAllValuesPresent",value:function(e){this._forEachChild(function(t,n){if(void 0===e[n])throw new Error("Must supply a value for form control at index: ".concat(n,"."))})}},{key:"_allControlsDisabled",value:function(){var e,t=l(this.controls);try{for(t.s();!(e=t.n()).done;)if(e.value.enabled)return!1}catch(n){t.e(n)}finally{t.f()}return this.controls.length>0||this.disabled}},{key:"_registerControl",value:function(e){e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange)}},{key:"length",get:function(){return this.controls.length}}]),n}(mh),wh={provide:Hd,useExisting:Se(function(){return kh})},xh=function(){return Promise.resolve(null)}(),kh=function(){var e=function(e){y(n,e);var t=x(n);function n(e,r,i,a){var s;return g(this,n),(s=t.call(this)).control=new gh,s._registered=!1,s.update=new Nu,s._parent=e,s._setValidators(r),s._setAsyncValidators(i),s.valueAccessor=function(e,t){if(!t)return null;Array.isArray(t);var n=void 0,r=void 0,i=void 0;return t.forEach(function(e){var t;e.constructor===Sd?n=e:(t=e,oh.some(function(e){return t.constructor===e})?r=e:i=e)}),i||r||n||null}(o(s),a),s}return m(n,[{key:"ngOnChanges",value:function(e){this._checkForErrors(),this._registered||this._setUpControl(),"isDisabled"in e&&this._updateDisabled(e),function(e,t){if(!e.hasOwnProperty("model"))return!1;var n=e.model;return!!n.isFirstChange()||!Object.is(t,n.currentValue)}(e,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}},{key:"ngOnDestroy",value:function(){this.formDirective&&this.formDirective.removeControl(this)}},{key:"viewToModelUpdate",value:function(e){this.viewModel=e,this.update.emit(e)}},{key:"_setUpControl",value:function(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}},{key:"_setUpdateStrategy",value:function(){this.options&&null!=this.options.updateOn&&(this.control._updateOn=this.options.updateOn)}},{key:"_isStandalone",value:function(){return!this._parent||!(!this.options||!this.options.standalone)}},{key:"_setUpStandalone",value:function(){var e,t;(function(e,t,n){var r=function(e){return e._rawValidators}(e);null!==t.validator?e.setValidators(Ld(r,t.validator)):"function"==typeof r&&e.setValidators([r]);var i=function(e){return e._rawAsyncValidators}(e);null!==t.asyncValidator?e.setAsyncValidators(Ld(i,t.asyncValidator)):"function"==typeof i&&e.setAsyncValidators([i]);var o=function(){return e.updateValueAndValidity()};rh(t._rawValidators,o),rh(t._rawAsyncValidators,o)})(e=this.control,t=this),t.valueAccessor.writeValue(e.value),function(e,t){t.valueAccessor.registerOnChange(function(n){e._pendingValue=n,e._pendingChange=!0,e._pendingDirty=!0,"change"===e.updateOn&&ih(e,t)})}(e,t),function(e,t){var n=function(e,n){t.valueAccessor.writeValue(e),n&&t.viewToModelUpdate(e)};e.registerOnChange(n),t._registerOnDestroy(function(){e._unregisterOnChange(n)})}(e,t),function(e,t){t.valueAccessor.registerOnTouched(function(){e._pendingTouched=!0,"blur"===e.updateOn&&e._pendingChange&&ih(e,t),"submit"!==e.updateOn&&e.markAsTouched()})}(e,t),function(e,t){if(t.valueAccessor.setDisabledState){var n=function(e){t.valueAccessor.setDisabledState(e)};e.registerOnDisabledChange(n),t._registerOnDestroy(function(){e._unregisterOnDisabledChange(n)})}}(e,t),this.control.updateValueAndValidity({emitEvent:!1})}},{key:"_checkForErrors",value:function(){this._isStandalone()||this._checkParentType(),this._checkName()}},{key:"_checkParentType",value:function(){}},{key:"_checkName",value:function(){this.options&&this.options.name&&(this.name=this.options.name),this._isStandalone()}},{key:"_updateValue",value:function(e){var t=this;xh.then(function(){t.control.setValue(e,{emitViewToModelChange:!1})})}},{key:"_updateDisabled",value:function(e){var t=this,n=e.isDisabled.currentValue,r=""===n||n&&"false"!==n;xh.then(function(){r&&!t.control.disabled?t.control.disable():!r&&t.control.disabled&&t.control.enable()})}},{key:"path",get:function(){return this._parent?(e=this.name,[].concat(d(this._parent.path),[e])):[this.name];var e}},{key:"formDirective",get:function(){return this._parent?this._parent.formDirective:null}}]),n}(Hd);return e.\u0275fac=function(t){return new(t||e)(ka(Ud,9),ka(Ad,10),ka(Ed,10),ka(wd,10))},e.\u0275dir=ht({type:e,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:["disabled","isDisabled"],model:["ngModel","model"],options:["ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],features:[As([wh]),oa,Ot]}),e}(),_h=function(){var e=function e(){g(this,e)};return e.\u0275mod=lt({type:e}),e.\u0275inj=Ee({factory:function(t){return new(t||e)}}),e}(),Ch=function(){var e=function e(){g(this,e)};return e.\u0275mod=lt({type:e}),e.\u0275inj=Ee({factory:function(t){return new(t||e)},providers:[Zd],imports:[_h]}),e}();function Sh(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];var r=t[t.length-1];return W(r)?(t.pop(),ne(t,r)):de(t)}function Ih(e,t){return se(e,t,1)}function Th(e,t){return function(n){return n.lift(new Ah(e,t))}}var Ah=function(){function e(t,n){g(this,e),this.predicate=t,this.thisArg=n}return m(e,[{key:"call",value:function(e,t){return t.subscribe(new Eh(e,this.predicate,this.thisArg))}}]),e}(),Eh=function(e){y(n,e);var t=x(n);function n(e,r,i){var o;return g(this,n),(o=t.call(this,e)).predicate=r,o.thisArg=i,o.count=0,o}return m(n,[{key:"_next",value:function(e){var t;try{t=this.predicate.call(this.thisArg,e,this.count++)}catch(n){return void this.destination.error(n)}t&&this.destination.next(e)}}]),n}(P),Oh=function e(){g(this,e)},Mh=function e(){g(this,e)},Dh=function(){function e(t){var n=this;g(this,e),this.normalizedNames=new Map,this.lazyUpdate=null,t?this.lazyInit="string"==typeof t?function(){n.headers=new Map,t.split("\n").forEach(function(e){var t=e.indexOf(":");if(t>0){var r=e.slice(0,t),i=r.toLowerCase(),o=e.slice(t+1).trim();n.maybeSetNormalizedName(r,i),n.headers.has(i)?n.headers.get(i).push(o):n.headers.set(i,[o])}})}:function(){n.headers=new Map,Object.keys(t).forEach(function(e){var r=t[e],i=e.toLowerCase();"string"==typeof r&&(r=[r]),r.length>0&&(n.headers.set(i,r),n.maybeSetNormalizedName(e,i))})}:this.headers=new Map}return m(e,[{key:"has",value:function(e){return this.init(),this.headers.has(e.toLowerCase())}},{key:"get",value:function(e){this.init();var t=this.headers.get(e.toLowerCase());return t&&t.length>0?t[0]:null}},{key:"keys",value:function(){return this.init(),Array.from(this.normalizedNames.values())}},{key:"getAll",value:function(e){return this.init(),this.headers.get(e.toLowerCase())||null}},{key:"append",value:function(e,t){return this.clone({name:e,value:t,op:"a"})}},{key:"set",value:function(e,t){return this.clone({name:e,value:t,op:"s"})}},{key:"delete",value:function(e,t){return this.clone({name:e,value:t,op:"d"})}},{key:"maybeSetNormalizedName",value:function(e,t){this.normalizedNames.has(t)||this.normalizedNames.set(t,e)}},{key:"init",value:function(){var t=this;this.lazyInit&&(this.lazyInit instanceof e?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(function(e){return t.applyUpdate(e)}),this.lazyUpdate=null))}},{key:"copyFrom",value:function(e){var t=this;e.init(),Array.from(e.headers.keys()).forEach(function(n){t.headers.set(n,e.headers.get(n)),t.normalizedNames.set(n,e.normalizedNames.get(n))})}},{key:"clone",value:function(t){var n=new e;return n.lazyInit=this.lazyInit&&this.lazyInit instanceof e?this.lazyInit:this,n.lazyUpdate=(this.lazyUpdate||[]).concat([t]),n}},{key:"applyUpdate",value:function(e){var t=e.name.toLowerCase();switch(e.op){case"a":case"s":var n=e.value;if("string"==typeof n&&(n=[n]),0===n.length)return;this.maybeSetNormalizedName(e.name,t);var r=("a"===e.op?this.headers.get(t):void 0)||[];r.push.apply(r,d(n)),this.headers.set(t,r);break;case"d":var i=e.value;if(i){var o=this.headers.get(t);if(!o)return;0===(o=o.filter(function(e){return-1===i.indexOf(e)})).length?(this.headers.delete(t),this.normalizedNames.delete(t)):this.headers.set(t,o)}else this.headers.delete(t),this.normalizedNames.delete(t)}}},{key:"forEach",value:function(e){var t=this;this.init(),Array.from(this.normalizedNames.keys()).forEach(function(n){return e(t.normalizedNames.get(n),t.headers.get(n))})}}]),e}(),Rh=function(){function e(){g(this,e)}return m(e,[{key:"encodeKey",value:function(e){return Vh(e)}},{key:"encodeValue",value:function(e){return Vh(e)}},{key:"decodeKey",value:function(e){return decodeURIComponent(e)}},{key:"decodeValue",value:function(e){return decodeURIComponent(e)}}]),e}();function Ph(e,t){var n=new Map;return e.length>0&&e.split("&").forEach(function(e){var r=e.indexOf("="),i=u(-1==r?[t.decodeKey(e),""]:[t.decodeKey(e.slice(0,r)),t.decodeValue(e.slice(r+1))],2),o=i[0],a=i[1],s=n.get(o)||[];s.push(a),n.set(o,s)}),n}function Vh(e){return encodeURIComponent(e).replace(/%40/gi,"@").replace(/%3A/gi,":").replace(/%24/gi,"$").replace(/%2C/gi,",").replace(/%3B/gi,";").replace(/%2B/gi,"+").replace(/%3D/gi,"=").replace(/%3F/gi,"?").replace(/%2F/gi,"/")}var Nh=function(){function e(){var t=this,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(g(this,e),this.updates=null,this.cloneFrom=null,this.encoder=n.encoder||new Rh,n.fromString){if(n.fromObject)throw new Error("Cannot specify both fromString and fromObject.");this.map=Ph(n.fromString,this.encoder)}else n.fromObject?(this.map=new Map,Object.keys(n.fromObject).forEach(function(e){var r=n.fromObject[e];t.map.set(e,Array.isArray(r)?r:[r])})):this.map=null}return m(e,[{key:"has",value:function(e){return this.init(),this.map.has(e)}},{key:"get",value:function(e){this.init();var t=this.map.get(e);return t?t[0]:null}},{key:"getAll",value:function(e){return this.init(),this.map.get(e)||null}},{key:"keys",value:function(){return this.init(),Array.from(this.map.keys())}},{key:"append",value:function(e,t){return this.clone({param:e,value:t,op:"a"})}},{key:"set",value:function(e,t){return this.clone({param:e,value:t,op:"s"})}},{key:"delete",value:function(e,t){return this.clone({param:e,value:t,op:"d"})}},{key:"toString",value:function(){var e=this;return this.init(),this.keys().map(function(t){var n=e.encoder.encodeKey(t);return e.map.get(t).map(function(t){return n+"="+e.encoder.encodeValue(t)}).join("&")}).filter(function(e){return""!==e}).join("&")}},{key:"clone",value:function(t){var n=new e({encoder:this.encoder});return n.cloneFrom=this.cloneFrom||this,n.updates=(this.updates||[]).concat([t]),n}},{key:"init",value:function(){var e=this;null===this.map&&(this.map=new Map),null!==this.cloneFrom&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(function(t){return e.map.set(t,e.cloneFrom.map.get(t))}),this.updates.forEach(function(t){switch(t.op){case"a":case"s":var n=("a"===t.op?e.map.get(t.param):void 0)||[];n.push(t.value),e.map.set(t.param,n);break;case"d":if(void 0===t.value){e.map.delete(t.param);break}var r=e.map.get(t.param)||[],i=r.indexOf(t.value);-1!==i&&r.splice(i,1),r.length>0?e.map.set(t.param,r):e.map.delete(t.param)}}),this.cloneFrom=this.updates=null)}}]),e}();function jh(e){return"undefined"!=typeof ArrayBuffer&&e instanceof ArrayBuffer}function zh(e){return"undefined"!=typeof Blob&&e instanceof Blob}function Lh(e){return"undefined"!=typeof FormData&&e instanceof FormData}var Fh=function(){function e(t,n,r,i){var o;if(g(this,e),this.url=n,this.body=null,this.reportProgress=!1,this.withCredentials=!1,this.responseType="json",this.method=t.toUpperCase(),function(e){switch(e){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}(this.method)||i?(this.body=void 0!==r?r:null,o=i):o=r,o&&(this.reportProgress=!!o.reportProgress,this.withCredentials=!!o.withCredentials,o.responseType&&(this.responseType=o.responseType),o.headers&&(this.headers=o.headers),o.params&&(this.params=o.params)),this.headers||(this.headers=new Dh),this.params){var a=this.params.toString();if(0===a.length)this.urlWithParams=n;else{var s=n.indexOf("?");this.urlWithParams=n+(-1===s?"?":s<n.length-1?"&":"")+a}}else this.params=new Nh,this.urlWithParams=n}return m(e,[{key:"serializeBody",value:function(){return null===this.body?null:jh(this.body)||zh(this.body)||Lh(this.body)||"string"==typeof this.body?this.body:this.body instanceof Nh?this.body.toString():"object"==typeof this.body||"boolean"==typeof this.body||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}},{key:"detectContentTypeHeader",value:function(){return null===this.body||Lh(this.body)?null:zh(this.body)?this.body.type||null:jh(this.body)?null:"string"==typeof this.body?"text/plain":this.body instanceof Nh?"application/x-www-form-urlencoded;charset=UTF-8":"object"==typeof this.body||"number"==typeof this.body||Array.isArray(this.body)?"application/json":null}},{key:"clone",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=t.method||this.method,r=t.url||this.url,i=t.responseType||this.responseType,o=void 0!==t.body?t.body:this.body,a=void 0!==t.withCredentials?t.withCredentials:this.withCredentials,s=void 0!==t.reportProgress?t.reportProgress:this.reportProgress,u=t.headers||this.headers,c=t.params||this.params;return void 0!==t.setHeaders&&(u=Object.keys(t.setHeaders).reduce(function(e,n){return e.set(n,t.setHeaders[n])},u)),t.setParams&&(c=Object.keys(t.setParams).reduce(function(e,n){return e.set(n,t.setParams[n])},c)),new e(n,r,o,{params:c,headers:u,reportProgress:s,responseType:i,withCredentials:a})}}]),e}(),Uh=function(e){return e[e.Sent=0]="Sent",e[e.UploadProgress=1]="UploadProgress",e[e.ResponseHeader=2]="ResponseHeader",e[e.DownloadProgress=3]="DownloadProgress",e[e.Response=4]="Response",e[e.User=5]="User",e}({}),Bh=function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:200,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"OK";g(this,e),this.headers=t.headers||new Dh,this.status=void 0!==t.status?t.status:n,this.statusText=t.statusText||r,this.url=t.url||null,this.ok=this.status>=200&&this.status<300},Hh=function(e){y(n,e);var t=x(n);function n(){var e,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return g(this,n),(e=t.call(this,r)).type=Uh.ResponseHeader,e}return m(n,[{key:"clone",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return new n({headers:e.headers||this.headers,status:void 0!==e.status?e.status:this.status,statusText:e.statusText||this.statusText,url:e.url||this.url||void 0})}}]),n}(Bh),$h=function(e){y(n,e);var t=x(n);function n(){var e,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return g(this,n),(e=t.call(this,r)).type=Uh.Response,e.body=void 0!==r.body?r.body:null,e}return m(n,[{key:"clone",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return new n({body:void 0!==e.body?e.body:this.body,headers:e.headers||this.headers,status:void 0!==e.status?e.status:this.status,statusText:e.statusText||this.statusText,url:e.url||this.url||void 0})}}]),n}(Bh),qh=function(e){y(n,e);var t=x(n);function n(e){var r;return g(this,n),(r=t.call(this,e,0,"Unknown Error")).name="HttpErrorResponse",r.ok=!1,r.message=r.status>=200&&r.status<300?"Http failure during parsing for ".concat(e.url||"(unknown url)"):"Http failure response for ".concat(e.url||"(unknown url)",": ").concat(e.status," ").concat(e.statusText),r.error=e.error||null,r}return n}(Bh);function Wh(e,t){return{body:t,headers:e.headers,observe:e.observe,params:e.params,reportProgress:e.reportProgress,responseType:e.responseType,withCredentials:e.withCredentials}}var Gh=function(){var e=function(){function e(t){g(this,e),this.handler=t}return m(e,[{key:"request",value:function(e,t){var n,r=this,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if(e instanceof Fh)n=e;else{var o=void 0;o=i.headers instanceof Dh?i.headers:new Dh(i.headers);var a=void 0;i.params&&(a=i.params instanceof Nh?i.params:new Nh({fromObject:i.params})),n=new Fh(e,t,void 0!==i.body?i.body:null,{headers:o,params:a,reportProgress:i.reportProgress,responseType:i.responseType||"json",withCredentials:i.withCredentials})}var s=Sh(n).pipe(Ih(function(e){return r.handler.handle(e)}));if(e instanceof Fh||"events"===i.observe)return s;var u=s.pipe(Th(function(e){return e instanceof $h}));switch(i.observe||"body"){case"body":switch(n.responseType){case"arraybuffer":return u.pipe(G(function(e){if(null!==e.body&&!(e.body instanceof ArrayBuffer))throw new Error("Response is not an ArrayBuffer.");return e.body}));case"blob":return u.pipe(G(function(e){if(null!==e.body&&!(e.body instanceof Blob))throw new Error("Response is not a Blob.");return e.body}));case"text":return u.pipe(G(function(e){if(null!==e.body&&"string"!=typeof e.body)throw new Error("Response is not a string.");return e.body}));case"json":default:return u.pipe(G(function(e){return e.body}))}case"response":return u;default:throw new Error("Unreachable: unhandled observe type ".concat(i.observe,"}"))}}},{key:"delete",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return this.request("DELETE",e,t)}},{key:"get",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return this.request("GET",e,t)}},{key:"head",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return this.request("HEAD",e,t)}},{key:"jsonp",value:function(e,t){return this.request("JSONP",e,{params:(new Nh).append(t,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}},{key:"options",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return this.request("OPTIONS",e,t)}},{key:"patch",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return this.request("PATCH",e,Wh(n,t))}},{key:"post",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return this.request("POST",e,Wh(n,t))}},{key:"put",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return this.request("PUT",e,Wh(n,t))}}]),e}();return e.\u0275fac=function(t){return new(t||e)(Lr(Oh))},e.\u0275prov=Ae({token:e,factory:e.\u0275fac}),e}(),Xh=function(){function e(t,n){g(this,e),this.next=t,this.interceptor=n}return m(e,[{key:"handle",value:function(e){return this.interceptor.intercept(e,this.next)}}]),e}(),Zh=new mr("HTTP_INTERCEPTORS"),Qh=function(){var e=function(){function e(){g(this,e)}return m(e,[{key:"intercept",value:function(e,t){return t.handle(e)}}]),e}();return e.\u0275fac=function(t){return new(t||e)},e.\u0275prov=Ae({token:e,factory:e.\u0275fac}),e}(),Kh=/^\)\]\}',?\n/,Yh=function e(){g(this,e)},Jh=function(){var e=function(){function e(){g(this,e)}return m(e,[{key:"build",value:function(){return new XMLHttpRequest}}]),e}();return e.\u0275fac=function(t){return new(t||e)},e.\u0275prov=Ae({token:e,factory:e.\u0275fac}),e}(),ef=function(){var e=function(){function e(t){g(this,e),this.xhrFactory=t}return m(e,[{key:"handle",value:function(e){var t=this;if("JSONP"===e.method)throw new Error("Attempted to construct Jsonp request without HttpClientJsonpModule installed.");return new L(function(n){var r=t.xhrFactory.build();if(r.open(e.method,e.urlWithParams),e.withCredentials&&(r.withCredentials=!0),e.headers.forEach(function(e,t){return r.setRequestHeader(e,t.join(","))}),e.headers.has("Accept")||r.setRequestHeader("Accept","application/json, text/plain, */*"),!e.headers.has("Content-Type")){var i=e.detectContentTypeHeader();null!==i&&r.setRequestHeader("Content-Type",i)}if(e.responseType){var o=e.responseType.toLowerCase();r.responseType="json"!==o?o:"text"}var a=e.serializeBody(),s=null,u=function(){if(null!==s)return s;var t=1223===r.status?204:r.status,n=r.statusText||"OK",i=new Dh(r.getAllResponseHeaders()),o=function(e){return"responseURL"in e&&e.responseURL?e.responseURL:/^X-Request-URL:/m.test(e.getAllResponseHeaders())?e.getResponseHeader("X-Request-URL"):null}(r)||e.url;return s=new Hh({headers:i,status:t,statusText:n,url:o})},c=function(){var t=u(),i=t.headers,o=t.status,a=t.statusText,s=t.url,c=null;204!==o&&(c=void 0===r.response?r.responseText:r.response),0===o&&(o=c?200:0);var l=o>=200&&o<300;if("json"===e.responseType&&"string"==typeof c){var d=c;c=c.replace(Kh,"");try{c=""!==c?JSON.parse(c):null}catch(h){c=d,l&&(l=!1,c={error:h,text:c})}}l?(n.next(new $h({body:c,headers:i,status:o,statusText:a,url:s||void 0})),n.complete()):n.error(new qh({error:c,headers:i,status:o,statusText:a,url:s||void 0}))},l=function(e){var t=u(),i=new qh({error:e,status:r.status||0,statusText:r.statusText||"Unknown Error",url:t.url||void 0});n.error(i)},d=!1,h=function(t){d||(n.next(u()),d=!0);var i={type:Uh.DownloadProgress,loaded:t.loaded};t.lengthComputable&&(i.total=t.total),"text"===e.responseType&&r.responseText&&(i.partialText=r.responseText),n.next(i)},f=function(e){var t={type:Uh.UploadProgress,loaded:e.loaded};e.lengthComputable&&(t.total=e.total),n.next(t)};return r.addEventListener("load",c),r.addEventListener("error",l),e.reportProgress&&(r.addEventListener("progress",h),null!==a&&r.upload&&r.upload.addEventListener("progress",f)),r.send(a),n.next({type:Uh.Sent}),function(){r.removeEventListener("error",l),r.removeEventListener("load",c),e.reportProgress&&(r.removeEventListener("progress",h),null!==a&&r.upload&&r.upload.removeEventListener("progress",f)),r.readyState!==r.DONE&&r.abort()}})}}]),e}();return e.\u0275fac=function(t){return new(t||e)(Lr(Yh))},e.\u0275prov=Ae({token:e,factory:e.\u0275fac}),e}(),tf=new mr("XSRF_COOKIE_NAME"),nf=new mr("XSRF_HEADER_NAME"),rf=function e(){g(this,e)},of=function(){var e=function(){function e(t,n,r){g(this,e),this.doc=t,this.platform=n,this.cookieName=r,this.lastCookieString="",this.lastToken=null,this.parseCount=0}return m(e,[{key:"getToken",value:function(){if("server"===this.platform)return null;var e=this.doc.cookie||"";return e!==this.lastCookieString&&(this.parseCount++,this.lastToken=Sl(e,this.cookieName),this.lastCookieString=e),this.lastToken}}]),e}();return e.\u0275fac=function(t){return new(t||e)(Lr(il),Lr(sc),Lr(tf))},e.\u0275prov=Ae({token:e,factory:e.\u0275fac}),e}(),af=function(){var e=function(){function e(t,n){g(this,e),this.tokenService=t,this.headerName=n}return m(e,[{key:"intercept",value:function(e,t){var n=e.url.toLowerCase();if("GET"===e.method||"HEAD"===e.method||n.startsWith("http://")||n.startsWith("https://"))return t.handle(e);var r=this.tokenService.getToken();return null===r||e.headers.has(this.headerName)||(e=e.clone({headers:e.headers.set(this.headerName,r)})),t.handle(e)}}]),e}();return e.\u0275fac=function(t){return new(t||e)(Lr(rf),Lr(nf))},e.\u0275prov=Ae({token:e,factory:e.\u0275fac}),e}(),sf=function(){var e=function(){function e(t,n){g(this,e),this.backend=t,this.injector=n,this.chain=null}return m(e,[{key:"handle",value:function(e){if(null===this.chain){var t=this.injector.get(Zh,[]);this.chain=t.reduceRight(function(e,t){return new Xh(e,t)},this.backend)}return this.chain.handle(e)}}]),e}();return e.\u0275fac=function(t){return new(t||e)(Lr(Mh),Lr(ra))},e.\u0275prov=Ae({token:e,factory:e.\u0275fac}),e}(),uf=function(){var e=function(){function e(){g(this,e)}return m(e,null,[{key:"disable",value:function(){return{ngModule:e,providers:[{provide:af,useClass:Qh}]}}},{key:"withOptions",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return{ngModule:e,providers:[t.cookieName?{provide:tf,useValue:t.cookieName}:[],t.headerName?{provide:nf,useValue:t.headerName}:[]]}}}]),e}();return e.\u0275mod=lt({type:e}),e.\u0275inj=Ee({factory:function(t){return new(t||e)},providers:[af,{provide:Zh,useExisting:af,multi:!0},{provide:rf,useClass:of},{provide:tf,useValue:"XSRF-TOKEN"},{provide:nf,useValue:"X-XSRF-TOKEN"}]}),e}(),cf=function(){var e=function e(){g(this,e)};return e.\u0275mod=lt({type:e}),e.\u0275inj=Ee({factory:function(t){return new(t||e)},providers:[Gh,{provide:Oh,useClass:sf},ef,{provide:Mh,useExisting:ef},Jh,{provide:Yh,useExisting:Jh}],imports:[[uf.withOptions({cookieName:"XSRF-TOKEN",headerName:"X-XSRF-TOKEN"})]]}),e}();function lf(e,t){if(1&e){var n=Aa();Sa(0,"span",7),Ma("click",function(e){tn(n);var t=Na().$implicit,r=Na();return e.preventDefault(),r.removeTab(t)}),ss(1," \u274c"),Ia()}}var df=function(e){return["nav-item",e]};function hf(e,t){if(1&e){var n=Aa();Sa(0,"li",3),Ma("keydown",function(e){tn(n);var r=t.index;return Na().keyNavActions(e,r)}),Sa(1,"a",4),Ma("click",function(){return t.$implicit.active=!0}),Sa(2,"span",5),ss(3),Ia(),wa(4,lf,2,0,"span",6),Ia(),Ia()}if(2&e){var r=t.$implicit;Qa("active",r.active)("disabled",r.disabled),_a("ngClass",Mu(15,df,r.customClass||"")),Hi(1),Qa("active",r.active)("disabled",r.disabled),ya("aria-controls",r.id?r.id:"")("aria-selected",!!r.active)("id",r.id?r.id+"-link":""),Hi(1),_a("ngTransclude",r.headingRef),Hi(1),us(r.heading),Hi(1),_a("ngIf",r.removable)}}var ff=["*"],pf=function(){var e=function(){function e(t){g(this,e),this.viewRef=t}return m(e,[{key:"ngTransclude",set:function(e){this._ngTransclude=e,e&&this.viewRef.createEmbeddedView(e)},get:function(){return this._ngTransclude}}]),e}();return e.\u0275fac=function(t){return new(t||e)(ka(gu))},e.\u0275dir=ht({type:e,selectors:[["","ngTransclude",""]],inputs:{ngTransclude:"ngTransclude"}}),e}(),vf=function(){var e=function e(){g(this,e),this.type="tabs",this.ariaLabel="Tabs"};return e.\u0275prov=Ae({token:e,factory:e.\u0275fac=function(t){return new(t||e)}}),e}(),mf=function(){var e=function(){function e(t,n,r){g(this,e),this.renderer=n,this.elementRef=r,this.clazz=!0,this.tabs=[],this.classMap={},Object.assign(this,t)}return m(e,[{key:"ngOnDestroy",value:function(){this.isDestroyed=!0}},{key:"addTab",value:function(e){this.tabs.push(e),e.active=1===this.tabs.length&&void 0===e.active}},{key:"removeTab",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{reselect:!0,emit:!0},n=this.tabs.indexOf(e);if(-1!==n&&!this.isDestroyed){if(t.reselect&&e.active&&this.hasAvailableTabs(n)){var r=this.getClosestTabIndex(n);this.tabs[r].active=!0}t.emit&&e.removed.emit(e),this.tabs.splice(n,1),e.elementRef.nativeElement.parentNode&&this.renderer.removeChild(e.elementRef.nativeElement.parentNode,e.elementRef.nativeElement)}}},{key:"keyNavActions",value:function(e,t){var n=Array.from(this.elementRef.nativeElement.querySelectorAll(".nav-link"));if(13===e.keyCode||"Enter"===e.key||32===e.keyCode||"Space"===e.key)return e.preventDefault(),void n[t%n.length].click();if(39!==e.keyCode&&"RightArrow"!==e.key)if(37!==e.keyCode&&"LeftArrow"!==e.key)if(36!==e.keyCode&&"Home"!==e.key)if(35!==e.keyCode&&"End"!==e.key){if((46===e.keyCode||"Delete"===e.key)&&this.tabs[t].removable){if(this.removeTab(this.tabs[t]),n[t+1])return void n[(t+1)%n.length].focus();n[n.length-1]&&n[0].focus()}}else{var r;e.preventDefault();var i=1,o=t;do{o-i<0?(r=n[o=n.length-1],i=0):r=n[o-i],i++}while(r.classList.contains("disabled"));r.focus()}else{var a;e.preventDefault();var s=0;do{a=n[s%n.length],s++}while(a.classList.contains("disabled"));a.focus()}else{var u,c=1,l=t;do{l-c<0?(u=n[l=n.length-1],c=0):u=n[l-c],c++}while(u.classList.contains("disabled"));u.focus()}else{var d,h=1;do{d=n[(t+h)%n.length],h++}while(d.classList.contains("disabled"));d.focus()}}},{key:"getClosestTabIndex",value:function(e){var t=this.tabs.length;if(!t)return-1;for(var n=1;n<=t;n+=1){var r=e-n,i=e+n;if(this.tabs[r]&&!this.tabs[r].disabled)return r;if(this.tabs[i]&&!this.tabs[i].disabled)return i}return-1}},{key:"hasAvailableTabs",value:function(e){var t=this.tabs.length;if(!t)return!1;for(var n=0;n<t;n+=1)if(!this.tabs[n].disabled&&n!==e)return!0;return!1}},{key:"setClassMap",value:function(){this.classMap=c({"nav-stacked":this.vertical,"flex-column":this.vertical,"nav-justified":this.justified},"nav-".concat(this.type),!0)}},{key:"vertical",get:function(){return this._vertical},set:function(e){this._vertical=e,this.setClassMap()}},{key:"justified",get:function(){return this._justified},set:function(e){this._justified=e,this.setClassMap()}},{key:"type",get:function(){return this._type},set:function(e){this._type=e,this.setClassMap()}}]),e}();return e.\u0275fac=function(t){return new(t||e)(ka(vf),ka(zs),ka(Ns))},e.\u0275cmp=at({type:e,selectors:[["tabset"]],hostVars:2,hostBindings:function(e,t){2&e&&Qa("tab-container",t.clazz)},inputs:{vertical:"vertical",justified:"justified",type:"type"},ngContentSelectors:ff,decls:4,vars:3,consts:[["role","tablist",1,"nav",3,"ngClass","click"],[3,"ngClass","active","disabled","keydown",4,"ngFor","ngForOf"],[1,"tab-content"],[3,"ngClass","keydown"],["href","javascript:void(0);","role","tab",1,"nav-link",3,"click"],[3,"ngTransclude"],["class","bs-remove-tab",3,"click",4,"ngIf"],[1,"bs-remove-tab",3,"click"]],template:function(e,t){1&e&&(za(),Sa(0,"ul",0),Ma("click",function(e){return e.preventDefault()}),wa(1,hf,5,17,"li",1),Ia(),Sa(2,"div",2),La(3),Ia()),2&e&&(_a("ngClass",t.classMap),ya("aria-label",t.ariaLabel),Hi(1),_a("ngForOf",t.tabs))},directives:[Il,Al,pf,Ol],styles:["[_nghost-%COMP%]   .nav-tabs[_ngcontent-%COMP%]   .nav-item.disabled[_ngcontent-%COMP%]   a.disabled[_ngcontent-%COMP%]{cursor:default}"]}),e}(),gf=function(){var e=function(){function e(t,n,r){g(this,e),this.elementRef=n,this.renderer=r,this.selectTab=new Nu,this.deselect=new Nu,this.removed=new Nu,this.addClass=!0,this.role="tabpanel",this.tabset=t,this.tabset.addTab(this)}return m(e,[{key:"ngOnInit",value:function(){this.removable=this.removable}},{key:"ngOnDestroy",value:function(){this.tabset.removeTab(this,{reselect:!1,emit:!1})}},{key:"customClass",get:function(){return this._customClass},set:function(e){var t=this;this.customClass&&this.customClass.split(" ").forEach(function(e){t.renderer.removeClass(t.elementRef.nativeElement,e)}),this._customClass=e?e.trim():null,this.customClass&&this.customClass.split(" ").forEach(function(e){t.renderer.addClass(t.elementRef.nativeElement,e)})}},{key:"active",get:function(){return this._active},set:function(e){var t=this;this._active!==e&&(this.disabled&&e||!e?this._active&&!e&&(this.deselect.emit(this),this._active=e):(this._active=e,this.selectTab.emit(this),this.tabset.tabs.forEach(function(e){e!==t&&(e.active=!1)})))}},{key:"ariaLabelledby",get:function(){return this.id?"".concat(this.id,"-link"):""}}]),e}();return e.\u0275fac=function(t){return new(t||e)(ka(mf),ka(Ns),ka(zs))},e.\u0275dir=ht({type:e,selectors:[["tab"],["","tab",""]],hostVars:7,hostBindings:function(e,t){2&e&&(ya("role",t.role)("aria-labelledby",t.ariaLabelledby)("id",t.id),Qa("tab-pane",t.addClass)("active",t.active))},inputs:{customClass:"customClass",active:"active",removable:"removable",heading:"heading",id:"id",disabled:"disabled"},outputs:{selectTab:"selectTab",deselect:"deselect",removed:"removed"}}),e}(),yf=function(){var e=function(){function e(){g(this,e)}return m(e,null,[{key:"forRoot",value:function(){return{ngModule:e,providers:[vf]}}}]),e}();return e.\u0275mod=lt({type:e}),e.\u0275inj=Ee({factory:function(t){return new(t||e)},imports:[[zl]]}),e}(),bf=function(){function e(){}return e.\u0275mod=lt({type:e}),e.\u0275inj=Ee({factory:function(t){return new(t||e)},providers:[],imports:[[zl]]}),e}(),wf=function(e,t){return(wf=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)};function xf(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function n(){this.constructor=e}wf(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}var kf=function(){return(kf=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)};function _f(e){var t="function"==typeof Symbol&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}function Cf(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,i,o=n.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(r=o.next()).done;)a.push(r.value)}catch(s){i={error:s}}finally{try{r&&!r.done&&(n=o.return)&&n.call(o)}finally{if(i)throw i.error}}return a}function Sf(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(Cf(arguments[t]));return e}var If,Tf,Af=function(){function e(e,t){this.id=0,void 0!==e&&(this.value=e),this.options=t||{},this.subscriptions=new Map}return e.prototype.set=function(e){var t,n;if(this.value!==e||this.options.emitEqual){this.value=e;try{for(var r=_f(this.subscriptions),i=r.next();!i.done&&(Cf(i.value,2)[1].emit(e),this.value===e);i=r.next());}catch(o){t={error:o}}finally{try{i&&!i.done&&(n=r.return)&&n.call(r)}finally{if(t)throw t.error}}}},e.prototype.get=function(){return this.value},e.prototype.on=function(e){var t=this,n=this.id++,r={emit:e,off:function(){r.emit=function(){return null},t.subscriptions.delete(n)}};return this.subscriptions.set(n,r),this.options.emitOnSubscribe&&r.emit(this.value),function(){return r.off()}},e.prototype.once=function(e){var t=this.on(function(n){t(),e(n)});return t},e.prototype.dispose=function(){this.subscriptions.forEach(function(e){return e.off()})},e}();!function(e){e.id="id",e.mock="mock",e.version="version",e.init="init",e.init$="init$",e.packageInfo="packageInfo",e.itemsCount="itemsCount",e.bufferInfo="bufferInfo",e.isLoading="isLoading",e.isLoading$="isLoading$",e.loopPending="loopPending",e.loopPending$="loopPending$",e.firstVisible="firstVisible",e.firstVisible$="firstVisible$",e.lastVisible="lastVisible",e.lastVisible$="lastVisible$",e.bof="bof",e.bof$="bof$",e.eof="eof",e.eof$="eof$",e.reset="reset",e.reload="reload",e.append="append",e.prepend="prepend",e.check="check",e.remove="remove",e.clip="clip",e.insert="insert",e.replace="replace",e.fix="fix",e.relax="relax",e.showLog="showLog"}(If||(If={})),function(e){e[e.Scalar=0]="Scalar",e[e.Reactive=1]="Reactive",e[e.WorkflowRunner=2]="WorkflowRunner",e[e.Function=3]="Function"}(Tf||(Tf={}));var Ef,Of=If,Mf=Tf,Df=function(){return null},Rf={immediate:!0,success:!0,details:"Adapter is not initialized"},Pf=function(){return Promise.resolve(Rf)},Vf={core:{name:"",version:""},consumer:{name:"",version:""}},Nf={firstIndex:NaN,lastIndex:NaN,minIndex:NaN,maxIndex:NaN,absMinIndex:-1/0,absMaxIndex:1/0},jf={data:{},element:{}},zf=function(){return[{type:Mf.Scalar,name:Of.id,value:0,permanent:!0},{type:Mf.Scalar,name:Of.mock,value:!0,permanent:!0},{type:Mf.Scalar,name:Of.version,value:"",permanent:!0},{type:Mf.Scalar,name:Of.init,value:!1,reactive:Of.init$},{type:Mf.Scalar,name:Of.packageInfo,value:Vf,onDemand:!0},{type:Mf.Scalar,name:Of.itemsCount,value:0,onDemand:!0},{type:Mf.Scalar,name:Of.bufferInfo,value:Nf,onDemand:!0},{type:Mf.Scalar,name:Of.isLoading,value:!1,reactive:Of.isLoading$},{type:Mf.Scalar,name:Of.loopPending,value:!1,reactive:Of.loopPending$},{type:Mf.Scalar,name:Of.firstVisible,value:jf,reactive:Of.firstVisible$,wanted:!0},{type:Mf.Scalar,name:Of.lastVisible,value:jf,reactive:Of.lastVisible$,wanted:!0},{type:Mf.Scalar,name:Of.bof,value:!1,reactive:Of.bof$},{type:Mf.Scalar,name:Of.eof,value:!1,reactive:Of.eof$},{type:Mf.WorkflowRunner,name:Of.reset,value:Pf},{type:Mf.WorkflowRunner,name:Of.reload,value:Pf},{type:Mf.WorkflowRunner,name:Of.append,value:Pf},{type:Mf.WorkflowRunner,name:Of.prepend,value:Pf},{type:Mf.WorkflowRunner,name:Of.check,value:Pf},{type:Mf.WorkflowRunner,name:Of.remove,value:Pf},{type:Mf.WorkflowRunner,name:Of.clip,value:Pf},{type:Mf.WorkflowRunner,name:Of.insert,value:Pf},{type:Mf.WorkflowRunner,name:Of.replace,value:Pf},{type:Mf.WorkflowRunner,name:Of.fix,value:Pf},{type:Mf.Function,name:Of.relax,value:Df},{type:Mf.Function,name:Of.showLog,value:Df},{type:Mf.Reactive,name:Of.init$,value:new Af},{type:Mf.Reactive,name:Of.isLoading$,value:new Af},{type:Mf.Reactive,name:Of.loopPending$,value:new Af},{type:Mf.Reactive,name:Of.firstVisible$,value:new Af(jf,{emitOnSubscribe:!0})},{type:Mf.Reactive,name:Of.lastVisible$,value:new Af(jf,{emitOnSubscribe:!0})},{type:Mf.Reactive,name:Of.bof$,value:new Af},{type:Mf.Reactive,name:Of.eof$,value:new Af}]},Lf={name:"vscroll",version:"1.0.0-rc.6"},Ff=0,Uf=function(e){var t=this,n=e.mock,r=e.reactive,i=++Ff,o={configurable:!n};Object.defineProperty(this,If.id,kf({get:function(){return i}},o)),Object.defineProperty(this,If.mock,kf({get:function(){return n}},o)),Object.defineProperty(this,If.version,kf({get:function(){return Lf.version}},o)),zf().filter(function(e){return!e.permanent}).forEach(function(e){var n=e.name,i=e.value;if(r&&e.type===Tf.Reactive){t.reactiveConfiguredProps=t.reactiveConfiguredProps||{};var a=r[n];a&&(t.reactiveConfiguredProps[n]=kf(kf({},a),{default:i}),i=a.source)}Object.defineProperty(t,n,kf({get:function(){return i}},o))})},Bf=function(e,t){this.get=e.get,e.settings&&(this.settings=e.settings),e.devSettings&&(this.devSettings=e.devSettings);var n=new Uf(t||{mock:!1});this.adapter=n},Hf=function(e){return function(t){function n(n){var r="function"==typeof e?e():void 0;return t.call(this,n,r)||this}return xf(n,t),n}(Bf)},$f=Hf();!function(e){e.number="must be a number",e.integer="must be an integer",e.integerUnlimited="must be an integer or infinity",e.moreOrEqual="must be a number greater than (or equal to) {arg1}",e.itemList="must be an array of items {arg1}",e.boolean="must be a boolean",e.object="must be an object",e.element="must be an html element",e.function="must be a function",e.funcOfxArguments="must have {arg1} argument(s)",e.funcOfxAndMoreArguments="must have at least {arg1} argument(s)",e.funcOfXToYArguments="must have {arg1} to {arg2} arguments",e.oneOfCan="can be present as only one item of {arg1} list",e.oneOfMust="must be present as only one item of {arg1} list",e.or="must satisfy at least 1 validator from {arg1} list"}(Ef||(Ef={}));var qf,Wf,Gf=function(e,t){return(t||[""]).reduce(function(e,t,n){return e.replace("{arg"+(n+1)+"}",t)},e)},Xf=function(e){return"number"==typeof e||"string"==typeof e&&""!==e?Number(e):NaN},Zf=function(e){var t=Xf(e),n=[];return Number.isNaN(t)&&n.push(Ef.number),{value:t,isSet:!0,isValid:!n.length,errors:n}},Qf=function(e,t){return function(n){var r=Zf(n);if(!r.isValid)return r;var i=r.value,o=[];return i<e&&(t?i=e:o.push(Gf(Ef.moreOrEqual,[String(e)]))),{value:i,isSet:!0,isValid:!o.length,errors:o}}},Kf=function(e){var t=[];return"function"!=typeof e&&t.push(Ef.function),{value:e,isSet:!0,isValid:!t.length,errors:t}},Yf=function(e,t){return function(n){var r=Kf(n);if(!r.isValid)return r;var i=[];return((n=r.value).length<e||n.length>t)&&i.push(Gf(Ef.funcOfXToYArguments,[String(e),String(t)])),{value:n,isSet:!0,isValid:!i.length,errors:i}}},Jf=function(e,t){return function(n,r){var i=[],o=void 0!==n,a=!o,s=t?Ef.oneOfMust:Ef.oneOfCan;if(Array.isArray(e)&&e.length){for(var u=e.length-1;u>=0;u--){var c=e[u];if("string"!=typeof c){i.push(Gf(s,[e.join('", "')])+" (non-string token)");break}var l=r&&Object.prototype.hasOwnProperty.call(r,c);if(o&&l){i.push(Gf(s,[e.join('", "')])+" ("+c+" is present)");break}a&&l&&(a=!1)}t&&a&&i.push(Gf(s,[e.join('", "')]))}else i.push(Gf(s,["undefined"]));return{value:n,isSet:o,isValid:!i.length,errors:i}}},ep={NUMBER:{type:Ef.number,method:Zf},INTEGER:{type:Ef.integer,method:function(e){var t=[];e=Xf(e);var n=parseInt(String(e),10);return e!==n&&t.push(Ef.integer),{value:n,isSet:!0,isValid:!t.length,errors:t}}},INTEGER_UNLIMITED:{type:Ef.integerUnlimited,method:function(e){var t,n=[];return(e=Xf(e))!==(t=Number.isFinite(e)?parseInt(String(e),10):e)&&n.push(Ef.integerUnlimited),{value:t,isSet:!0,isValid:!n.length,errors:n}}},MORE_OR_EQUAL:function(e,t){return{type:Ef.moreOrEqual,method:Qf(e,t)}},BOOLEAN:{type:Ef.boolean,method:function(e){var t=[],n=e;return"true"===e?n=!0:"false"===e&&(n=!1),"boolean"!=typeof n&&t.push(Ef.boolean),{value:n,isSet:!0,isValid:!t.length,errors:t}}},OBJECT:{type:Ef.object,method:function(e){var t=[];return"[object Object]"!==Object.prototype.toString.call(e)&&t.push(Ef.object),{value:e,isSet:!0,isValid:!t.length,errors:t}}},ITEM_LIST:{type:Ef.itemList,method:function(e){var t=e,n=[];if(Array.isArray(e))if(e.length){if(e.length>1){var r=typeof e[0];e.some(function(e){return typeof e!==r})&&n.push(Gf(Ef.itemList,["of items of the same type"]))}}else n.push(Gf(Ef.itemList,["with at least 1 item"]));else n.push(Ef.itemList),t=[];return{value:t,isSet:!0,isValid:!n.length,errors:n}}},ELEMENT:{type:Ef.element,method:function(e){var t=[];return e instanceof Element||e instanceof HTMLDocument||t.push(Ef.element),{value:e,isSet:!0,isValid:!t.length,errors:t}}},FUNC:{type:Ef.function,method:Kf},FUNC_WITH_X_ARGUMENTS:function(e){return{type:Ef.funcOfxArguments,method:(t=e,function(e){var n=Kf(e);if(!n.isValid)return n;var r=[];return(e=n.value).length!==t&&r.push(Gf(Ef.funcOfxArguments,[String(t)])),{value:e,isSet:!0,isValid:!r.length,errors:r}})};var t},FUNC_WITH_X_AND_MORE_ARGUMENTS:function(e){return{type:Ef.funcOfxAndMoreArguments,method:(t=e,function(e){var n=Kf(e);if(!n.isValid)return n;var r=[];return(e=n.value).length<t&&r.push(Gf(Ef.funcOfxArguments,[String(t)])),{value:e,isSet:!0,isValid:!r.length,errors:r}})};var t},FUNC_WITH_X_TO_Y_ARGUMENTS:function(e,t){return{type:Ef.funcOfXToYArguments,method:Yf(e,t)}},ONE_OF_CAN:function(e){return{type:Ef.oneOfCan,method:Jf(e,!1)}},ONE_OF_MUST:function(e){return{type:Ef.oneOfMust,method:Jf(e,!0)}},OR:function(e){return{type:Ef.or,method:(t=e,function(e){var n=[];return t.every(function(t){return!t.method(e).isValid})&&n.push(t.map(function(e){return e.type}).join(" OR ")),{value:e,isSet:!0,isValid:!n.length,errors:n}})};var t}},tp=function(){function e(e){this.params={},this.contextErrors=[],this.errors=[],this.isValid=!0,this.setContext(e)}return e.prototype.setContext=function(e){e&&"[object Object]"===Object.prototype.toString.call(e)?this.isValidContext=!0:(this.setCommonError("context is not an object"),this.isValidContext=!1),this.context=e},e.prototype.setValidity=function(){var e=this;this.errors=Object.keys(this.params).reduce(function(t,n){return Sf(t,e.params[n].errors)},[]),this.isValid=!this.errors.length},e.prototype.setCommonError=function(e){this.contextErrors.push(e),this.errors.push(e),this.isValid=!1},e.prototype.setParam=function(e,t){t.isValid||(t.errors=t.isSet?t.errors.map(function(t){return'"'+e+'" '+t}):['"'+e+'" must be set']),this.params[e]=t,this.setValidity()},e.prototype.showErrors=function(){return this.errors.length?"validation failed: "+this.errors.join(", "):""},e}(),np=function(e,t,n){var r=e.errors,i=t.method(e.value,n),o=Sf(r,i.errors);return{value:i.value,isSet:i.isSet,isValid:!o.length,errors:o}},rp=function(e,t){var n=void 0===e,r=!t.mandatory&&void 0!==t.defaultValue;return{value:n?r?t.defaultValue:void 0:e,isSet:!n||r,isValid:!n||!t.mandatory,errors:[]}},ip=function(e,t,n){var r,i,o=rp(e[t],n);if(o.isSet)try{for(var a=_f(Object.values(n.validators)),s=a.next();!s.done;s=a.next()){var u=np(o,s.value,e);if(!u.isValid&&void 0!==n.defaultValue)return{value:n.defaultValue,isSet:!0,isValid:!0,errors:[]};Object.assign(o,u)}}catch(l){r={error:l}}finally{try{s&&!s.done&&(i=a.return)&&i.call(a)}finally{if(r)throw r.error}}else{var c=n.validators.find(function(e){return e.type===Ef.oneOfMust});if(c)return np(o,c,e)}return o},op=function(e,t){var n=new tp(e);return Object.entries(t).forEach(function(e){var t=Cf(e,2),r=t[0],i=t[1];return n.setParam(r,n.isValidContext?ip(n.context,r,i):rp(void 0,i))}),n},ap=ep.OBJECT,sp=ep.FUNC_WITH_X_AND_MORE_ARGUMENTS;!function(e){e.get="get",e.settings="settings",e.devSettings="devSettings"}(Wf||(Wf={}));var up,cp,lp,dp,hp,fp,pp=((qf={})[Wf.get]={validators:[sp(2)],mandatory:!0},qf[Wf.settings]={validators:[ap]},qf[Wf.devSettings]={validators:[ap]},qf),vp=ep.NUMBER,mp=ep.INTEGER,gp=ep.INTEGER_UNLIMITED,yp=ep.MORE_OR_EQUAL,bp=ep.BOOLEAN,wp=ep.ELEMENT,xp=ep.FUNC,kp=ep.OR;(hp=dp||(dp={})).adapter="adapter",hp.startIndex="startIndex",hp.minIndex="minIndex",hp.maxIndex="maxIndex",hp.itemSize="itemSize",hp.bufferSize="bufferSize",hp.padding="padding",hp.infinite="infinite",hp.horizontal="horizontal",hp.windowViewport="windowViewport",hp.viewportElement="viewportElement",hp.inverse="inverse",hp.onBeforeClip="onBeforeClip",function(e){e.debug="debug",e.immediateLog="immediateLog",e.logProcessRun="logProcessRun",e.logTime="logTime",e.throttle="throttle",e.initDelay="initDelay",e.initWindowDelay="initWindowDelay",e.cacheData="cacheData",e.changeOverflow="changeOverflow",e.dismissOverflowAnchor="dismissOverflowAnchor"}(fp||(fp={}));var _p,Cp,Sp,Ip,Tp,Ap,Ep,Op,Mp,Dp,Rp,Pp,Vp,Np=((up={})[dp.itemSize]=1,up[dp.bufferSize]=1,up[dp.padding]=.01,up[fp.throttle]=0,up[fp.initDelay]=0,up[fp.initWindowDelay]=0,up),jp=((cp={})[dp.adapter]={validators:[bp],defaultValue:!1},cp[dp.startIndex]={validators:[mp],defaultValue:1},cp[dp.minIndex]={validators:[gp],defaultValue:-1/0},cp[dp.maxIndex]={validators:[gp],defaultValue:1/0},cp[dp.itemSize]={validators:[mp,yp(Np[dp.itemSize],!0)],defaultValue:NaN},cp[dp.bufferSize]={validators:[mp,yp(Np[dp.bufferSize],!0)],defaultValue:5},cp[dp.padding]={validators:[vp,yp(Np[dp.padding],!0)],defaultValue:.5},cp[dp.infinite]={validators:[bp],defaultValue:!1},cp[dp.horizontal]={validators:[bp],defaultValue:!1},cp[dp.windowViewport]={validators:[bp],defaultValue:!1},cp[dp.viewportElement]={validators:[kp([wp,xp])],defaultValue:null},cp[dp.inverse]={validators:[bp],defaultValue:!1},cp[dp.onBeforeClip]={validators:[xp],defaultValue:null},cp),zp=((lp={})[fp.debug]={validators:[bp],defaultValue:!1},lp[fp.immediateLog]={validators:[bp],defaultValue:!0},lp[fp.logProcessRun]={validators:[bp],defaultValue:!1},lp[fp.logTime]={validators:[bp],defaultValue:!1},lp[fp.throttle]={validators:[mp,yp(Np[fp.throttle],!0)],defaultValue:40},lp[fp.initDelay]={validators:[mp,yp(Np[fp.initDelay],!0)],defaultValue:1},lp[fp.initWindowDelay]={validators:[mp,yp(Np[fp.initWindowDelay],!0)],defaultValue:40},lp[fp.cacheData]={validators:[bp],defaultValue:!1},lp[fp.changeOverflow]={validators:[bp],defaultValue:!1},lp[fp.dismissOverflowAnchor]={validators:[bp],defaultValue:!0},lp);!function(e){e.init="init",e.scroll="scroll",e.start="start",e.preFetch="preFetch",e.fetch="fetch",e.postFetch="postFetch",e.render="render",e.preClip="preClip",e.clip="clip",e.adjust="adjust",e.end="end"}(_p||(_p={})),function(e){e.reset="adapter.reset",e.reload="adapter.reload",e.append="adapter.append",e.prepend="adapter.prepend",e.check="adapter.check",e.remove="adapter.remove",e.replace="adapter.replace",e.clip="adapter.clip",e.insert="adapter.insert",e.fix="adapter.fix"}(Cp||(Cp={})),function(e){e.start="start",e.next="next",e.done="done",e.error="error"}(Sp||(Sp={}));var Lp,Fp=ep.INTEGER,Up=ep.INTEGER_UNLIMITED,Bp=ep.BOOLEAN,Hp=ep.OBJECT,$p=ep.ITEM_LIST,qp=ep.FUNC_WITH_X_ARGUMENTS,Wp=ep.FUNC_WITH_X_TO_Y_ARGUMENTS,Gp=ep.ONE_OF_MUST,Xp=ep.ONE_OF_CAN,Zp=ep.OR;Lp||(Lp={});var Qp,Kp=((Ip={})[Wf.get]={validators:[(0,ep.FUNC_WITH_X_AND_MORE_ARGUMENTS)(2)]},Ip[Wf.settings]={validators:[Hp]},Ip[Wf.devSettings]={validators:[Hp]},Ip);!function(e){e.reloadIndex="reloadIndex"}(Qp||(Qp={}));var Yp,Jp=((Tp={})[Qp.reloadIndex]={validators:[Fp]},Tp);!function(e){e.items="items",e.bof="bof",e.eof="eof"}(Yp||(Yp={}));var ev,tv=((Ap={})[Yp.items]={validators:[$p],mandatory:!0},Ap[Yp.bof]={validators:[Bp,Xp([Yp.eof])]},Ap[Yp.eof]={validators:[Bp,Xp([Yp.bof])]},Ap);!function(e){e.predicate="predicate",e.indexes="indexes",e.increase="increase"}(ev||(ev={}));var nv,rv=((Ep={})[ev.predicate]={validators:[qp(1),Gp([ev.indexes])]},Ep[ev.indexes]={validators:[$p,Gp([ev.predicate])]},Ep[ev.increase]={validators:[Bp],defaultValue:!1},Ep);!function(e){e.backwardOnly="backwardOnly",e.forwardOnly="forwardOnly"}(nv||(nv={}));var iv,ov=((Op={})[nv.backwardOnly]={validators:[Bp,Xp([nv.forwardOnly])],defaultValue:!1},Op[nv.forwardOnly]={validators:[Bp,Xp([nv.backwardOnly])],defaultValue:!1},Op);!function(e){e.items="items",e.before="before",e.after="after",e.decrease="decrease"}(iv||(iv={}));var av,sv=((Mp={})[iv.items]={validators:[$p],mandatory:!0},Mp[iv.before]={validators:[qp(1),Gp([iv.after])]},Mp[iv.after]={validators:[qp(1),Gp([iv.before])]},Mp[iv.decrease]={validators:[Bp],defaultValue:!1},Mp);!function(e){e.items="items",e.predicate="predicate",e.fixRight="fixRight"}(av||(av={}));var uv,cv=((Dp={})[iv.items]={validators:[$p],mandatory:!0},Dp[av.predicate]={validators:[qp(1)],mandatory:!0},Dp[av.fixRight]={validators:[Bp],defaultValue:!1},Dp);!function(e){e.scrollPosition="scrollPosition",e.minIndex="minIndex",e.maxIndex="maxIndex",e.updater="updater",e.scrollToItem="scrollToItem",e.scrollToItemOpt="scrollToItemOpt"}(uv||(uv={}));var lv,dv=((Rp={})[uv.scrollPosition]={validators:[Up]},Rp[uv.minIndex]={validators:[Up]},Rp[uv.maxIndex]={validators:[Up]},Rp[uv.updater]={validators:[Wp(1,2)]},Rp[uv.scrollToItem]={validators:[qp(1)]},Rp[uv.scrollToItemOpt]={validators:[Zp([Bp,Hp])]},Rp),hv=((Pp={})[Cp.reset]=Wf,Pp[Cp.reload]=Qp,Pp[Cp.append]=Yp,Pp[Cp.prepend]=Yp,Pp[Cp.check]=Lp,Pp[Cp.remove]=ev,Pp[Cp.clip]=nv,Pp[Cp.insert]=iv,Pp[Cp.replace]=av,Pp[Cp.fix]=uv,Pp),fv=((Vp={})[Cp.reset]=Kp,Vp[Cp.reload]=Jp,Vp[Cp.append]=tv,Vp[Cp.prepend]=tv,Vp[Cp.check]={},Vp[Cp.remove]=rv,Vp[Cp.clip]=ov,Vp[Cp.insert]=sv,Vp[Cp.replace]=cv,Vp[Cp.fix]=dv,Vp),pv=function(){function e(e,t,n){this.parseInput(e,jp),this.parseInput(t,zp),this.instanceIndex=n,this.initializeDelay=this.getInitializeDelay(),this.viewport=this.getViewport()}return e.prototype.parseInput=function(e,t){var n=this,r=op(e,t);if(!r.isValid)throw new Error("Invalid settings");Object.entries(r.params).forEach(function(e){var t,r=Cf(e,2);return Object.assign(n,((t={})[r[0]]=r[1].value,t))})},e.prototype.getInitializeDelay=function(){var e=0;return this.windowViewport&&this.initWindowDelay&&!("scrollRestoration"in history)&&(e=this.initWindowDelay),this.initDelay>0&&(e=Math.max(e,this.initDelay)),e},e.prototype.getViewport=function(){if("function"!=typeof this.viewportElement)return this.viewportElement;var e=this.viewportElement(),t=ip({value:e},"value",{validators:[ep.ELEMENT]});return t.isValid?t.value:null},e}(),vv=function(e){var t;return(t=function(){}).process=e,t},mv=function(e){var t;return(t=function(t){function n(){return null!==t&&t.apply(this,arguments)||this}return xf(n,t),n.parseInput=function(t,n,r){void 0===r&&(r=!1);var i={data:op(n,fv[e])};return i.data.isValid?i.params=Object.entries(i.data.params).reduce(function(e,t){var n,r=Cf(t,2),i=r[0],o=r[1].value;return kf(kf({},e),((n={})[i]=o,n))},{}):(t.logger.log(function(){return i.data.showErrors()}),r||t.workflow.call({process:e,status:Sp.error,payload:{error:'Wrong argument of the "'+e+'" method call'}})),i},n}(vv(e))).process=e,t},gv=[_p.init,Cp.reset,Cp.reload],yv=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return xf(t,e),t.run=function(e,n){var r=e.state.cycle,i=e.workflow,o=gv.includes(n);e.logger.logCycle(!0),r.start(o,n),i.call({process:t.process,status:Sp.next})},t}(vv(_p.init));!function(e){e.forward="forward",e.backward="backward"}(lv||(lv={}));var bv=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return xf(t,e),t.run=function(e,n){var r=e.workflow,i=e.viewport.scrollPosition;t.onSynthetic(e,i)||t.onThrottle(e,i,function(){return t.onScroll(e,r)})},t.onSynthetic=function(e,t){var n=e.state.scrollState,r=n.syntheticPosition;if(null!==r){if(n.syntheticFulfill&&(n.syntheticPosition=null),!n.syntheticFulfill||r===t)return e.logger.log(function(){return["skipping scroll",t,"["+(n.syntheticFulfill?"":"pre-")+"synthetic]"]}),!0;e.logger.log(function(){return["synthetic scroll has been fulfilled:",t,t<r?"<":">",r]})}return!1},t.onThrottle=function(e,n,r){var i=e.state.scrollState,o=e.settings.throttle,a=e.logger;i.current=t.getScrollEvent(n,i.previous);var s=i.current,u=s.direction,c=s.time,l=i.previous?c-i.previous.time:1/0,d=o-l,h=isFinite(d)&&d>0,f=!!i.scrollTimer;if(a.log(function(){return[u===lv.backward?"\u2934":"\u2935",n,h?l+"ms":"0ms",h?f?"delayed":"/ "+d+"ms delay":""]}),!h)return i.scrollTimer&&(clearTimeout(i.scrollTimer),i.scrollTimer=null),void r();f||(i.scrollTimer=setTimeout(function(){a.log(function(){var r=t.getScrollEvent(e.viewport.scrollPosition,i.current);return[r.direction===lv.backward?"\u2934":"\u2935",r.position,r.time-c+"ms","triggered by timer set on",n]}),i.scrollTimer=null,r()},d))},t.getScrollEvent=function(e,t){var n=Number(new Date),r=lv.forward;return t&&(e===t.position?r=t.direction:e<t.position&&(r=lv.backward)),{position:e,direction:r,time:n}},t.onScroll=function(e,n){var r=e.state,i=r.scrollState,o=r.cycle;i.previous=kf({},i.current),i.current=null,o.busy.get()?e.logger.log(function(){return["skipping scroll",i.previous.position,"[pending]"]}):n.call({process:t.process,status:Sp.next})},t}(vv(_p.scroll)),wv=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return xf(t,e),t.run=function(e,n){var r=e.datasource,i=e.buffer,o=e.viewport.paddings,a=e.state.cycle;if(n){var s=t.parseInput(e,n).data;if(!s.isValid)return;var u=n instanceof $f;Object.keys(fv[t.process]).forEach(function(e){var t=s.params[e];(t.isSet||u&&r[e])&&(r[e]=t.value)})}i.reset(!0),o.backward.reset(),o.forward.reset();var c={datasource:r};a.busy.get()&&(c.finalize=!0,a.interrupter=t.process),e.workflow.call({process:t.process,status:Sp.next,payload:c})},t}(mv(Cp.reset)),xv=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return xf(t,e),t.run=function(e,n){var r=e.viewport,i=e.state,o=e.buffer,a=t.parseInput(e,{reloadIndex:n},!0).params;o.reset(!0,a?a.reloadIndex:void 0),r.reset(o.startIndex);var s={};i.cycle.busy.get()&&(i.scrollState.cleanupTimers(),s.finalize=!0,i.cycle.interrupter=t.process),e.workflow.call({process:t.process,status:Sp.next,payload:s})},t}(mv(Cp.reload)),kv=function(){function e(e,t,n){this.container={$index:e,data:t},this.nodeId=String(e),this.routines=n,this.invisible=!0}return Object.defineProperty(e.prototype,"$index",{get:function(){return this.container.$index},set:function(e){this.container.$index=e},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"data",{get:function(){return this.container.data},set:function(e){this.container.data=e},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"element",{get:function(){return this.container.element},set:function(e){this.container.element=e},enumerable:!1,configurable:!0}),e.prototype.setSize=function(){this.size=this.routines.getSize(this.element)},e.prototype.hide=function(){this.element&&this.routines.hideElement(this.element)},e.prototype.scrollTo=function(e){this.element&&this.routines.scrollTo(this.element,e)},e.prototype.updateIndex=function(e){this.$index=e,this.nodeId=String(e)},e.prototype.get=function(){return this.container},e}(),_v=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return xf(t,e),t.run=function(e,n){var r=n.process,i=t.parseInput(e,n.options).params;if(i){var o=i.items,a=r!==Cp.append,s=!!(a?i.bof:i.eof);if(a&&s&&!e.buffer.bof.get()||!a&&s&&!e.buffer.eof.get())return t.doVirtualize(e,o,a),void e.workflow.call({process:t.process,status:Sp.done});t.simulateFetch(e,o,s,a),e.workflow.call({process:t.process,status:Sp.next})}},t.doVirtualize=function(e,t,n){var r=e.buffer,i=e.viewport.paddings,o=n?"absMinIndex":"absMaxIndex";if(isFinite(r[o])){var a=t.length*r.averageSize,s=n?i.backward:i.forward;r[o]+=(n?-1:1)*t.length,s.size+=a,n&&(e.viewport.scrollPosition+=a),e.logger.log(function(){return"buffer."+[o]+" value is set to "+r[o]}),e.logger.stat("after virtual "+(n?"prepend":"append"))}},t.simulateFetch=function(e,t,n,r){for(var i=e.buffer,o=e.state,a=e.state.fetch,s=r?"absMinIndex":"absMaxIndex",u=i.getIndexToAdd(n,r),c=i[s],l=[],d=0;d<t.length;d++){var h=new kv(u,t[d],e.routines);isFinite(c)&&(r&&u<c||!r&&u>c)&&(c+=r?-1:1),(r?Array.prototype.unshift:Array.prototype.push).apply(l,[h]),u+=r?-1:1}return c!==i[s]&&(i[s]=c,e.logger.log(function(){return"buffer."+s+" value is set to "+i[s]})),(r?a.prepend:a.append).call(a,l),(r?i.prepend:i.append).call(i,l),a.first.indexBuffer=isNaN(i.firstIndex)?u:i.firstIndex,a.last.indexBuffer=isNaN(i.lastIndex)?u:i.lastIndex,o.clip.noClip=!0,!0},t}(mv(Cp.append)),Cv=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return xf(t,e),t.run=function(e){var n=e.workflow,r=e.buffer,i=e.state.fetch,o=e.viewport,a=1/0,s=-1/0;if(r.items.forEach(function(e){var t=e.size;e.setSize(),e.size!==t&&(r.cacheItem(e),a=Math.min(a,e.$index),s=Math.max(s,e.$index))}),Number.isFinite(a)){e.state.clip.noClip=!0,i.first.indexBuffer=r.firstIndex,i.last.indexBuffer=r.lastIndex;var u=o.getEdgeVisibleItem(r.items,lv.backward),c=u.item,l=u.diff;i.firstVisibleIndex=c?c.get().$index:NaN,isNaN(i.firstVisibleIndex)||(i.firstVisibleItemDelta=-r.getSizeByIndex(i.firstVisibleIndex)+l),i.replace(r.items.filter(function(e){return e.$index>=a&&e.$index<=s}))}e.logger.stat("check"),n.call({process:t.process,status:Number.isFinite(a)?Sp.next:Sp.done})},t}(mv(Cp.check)),Sv=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return xf(t,e),t.run=function(e,n){var r=t.parseInput(e,n).params;if(r){var i=t.doRemove(e,r);e.workflow.call({process:t.process,status:i?Sp.next:Sp.done})}},t.doRemove=function(e,n,r){void 0===r&&(r=!1);var i=t.removeBufferedItems(e,n),o=t.removeVirtualItems(e,n,r);if(i||o){var a=e.state.clip;a.simulate=!0,a.increase=!!n.increase,i?a.doClip=!0:a.virtual.only=!0}return i||o},t.removeBufferedItems=function(e,n){var r=n.predicate,i=n.indexes,o=!1;return r&&(o=t.runPredicateOverBuffer(e,r)),i&&(o=t.runPredicateOverBuffer(e,function(e){return i.indexOf(e.$index)>=0})),o},t.runPredicateOverBuffer=function(e,t){for(var n=e.viewport,r=e.buffer.items,i=!1,o=NaN,a=0;a<r.length;a++){var s=r[a];if(t(s.get())){if(s.toRemove=!0,isNaN(o)){var u=n.getEdgeVisibleItem(r,lv.backward);o=u.item?u.item.get().$index:NaN}s.removeDirection=!isNaN(o)&&s.$index<o?lv.backward:lv.forward,i=!0}else if(!0===i)break}return i},t.removeVirtualItems=function(e,t,n){var r=t.indexes;if(!r)return!1;for(var i=NaN,o=e.state.clip,a=e.buffer,s=a.finiteAbsMinIndex,u=a.firstIndex,c=a.finiteAbsMaxIndex,l=a.lastIndex,d=0,h=r.length;d<h;d++){var f=null,p=r[d];if(p>=s&&!isNaN(u)&&p<u&&(f=lv.backward),p<=c&&!isNaN(l)&&p>l&&(f=lv.forward),null!==f){if(n&&!isNaN(i)&&Math.abs(i-p)>1)break;o.virtual[f].push(p),i=p}}return!isNaN(i)},t}(mv(Cp.remove)),Iv=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return xf(t,e),t.run=function(e,n){var r=t.parseInput(e,n).params;e.state.clip.forceForward=!(r&&r.backwardOnly),e.state.clip.forceBackward=!(r&&r.forwardOnly),e.workflow.call({process:t.process,status:Sp.next})},t}(mv(Cp.clip)),Tv=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return xf(t,e),t.run=function(e,n){var r=t.parseInput(e,n).params;if(r){var i=t.doInsert(e,r);e.workflow.call({process:t.process,status:i?Sp.next:Sp.done})}},t.doInsert=function(e,n){var r=n.before,i=n.items,o=n.decrease,a=r||n.after,s=e.buffer.items.find(function(e){return a(e.get())});return!!s&&t.simulateFetch(e,s,i,!!r,!!o)},t.simulateFetch=function(e,t,n,r,i){var o=e.buffer,a=e.routines,s=e.state,u=s.fetch,c=s.clip,l=i?o.absMinIndex:o.absMaxIndex,d=r?0:1,h=n.length,f=n.map(function(e,n){return new kv(t.$index+n+d-(i?h:0),e,a)});return o.insertItems(f,t,d,!i),e.logger.log(function(){var e=i?o.absMinIndex:o.absMaxIndex;return"buffer."+(i?"absMinIndex":"absMaxIndex")+" value "+(l!==e?"has been changed from "+l+" to "+e:"has not been changed")}),u.insert(f),u.first.indexBuffer=o.firstIndex,u.last.indexBuffer=o.lastIndex,c.noClip=!0,!0},t}(mv(Cp.insert)),Av=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return xf(t,e),t.run=function(e,n){var r=t.parseInput(e,n).params;if(r)return t.doRemove(e,r)?t.doInsert(e,r)?void e.workflow.call({process:t.process,status:Sp.next}):e.workflow.call({process:t.process,status:Sp.done}):(e.logger.log(function(){return"no items to replace (not found)"}),e.workflow.call({process:t.process,status:Sp.done}))},t.doRemove=function(e,t){return Sv.doRemove(e,{predicate:t.predicate,increase:t.fixRight},!0)},t.doInsert=function(e,t){return Tv.doInsert(e,{items:t.items,after:t.predicate,decrease:t.fixRight})},t}(mv(Cp.replace)),Ev=hv[Cp.fix],Ov=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return xf(t,e),t.run=function(e,n){var r=e.workflow,i=t.parseInput(e,n),o=i.data;i.params&&(Object.entries(o.params).forEach(function(n){var r=Cf(n,2),i=r[1];i.isSet&&i.isValid&&t.runByType(e,r[0],i.value,o)}),r.call({process:t.process,status:Sp.done}))},t.runByType=function(e,n,r,i){switch(n){case Ev.scrollPosition:return t.setScrollPosition(e,r);case Ev.minIndex:return t.setMinIndex(e,r);case Ev.maxIndex:return t.setMaxIndex(e,r);case Ev.updater:return t.updateItems(e,r);case Ev.scrollToItem:if(i.params){var o=i.params[Ev.scrollToItemOpt];return t.scrollToItem(e,r,o?o.value:void 0)}return;case Ev.scrollToItemOpt:return}},t.setScrollPosition=function(e,t){var n=e.viewport,r=t;t===-1/0?r=0:t===1/0&&(r=n.getScrollableSize()),n.setPosition(r)},t.setMinIndex=function(e,t){var n=e.buffer;e.settings.minIndex=t,n.absMinIndex=t},t.setMaxIndex=function(e,t){var n=e.buffer;e.settings.maxIndex=t,n.absMaxIndex=t},t.updateItems=function(e,t){var n=e.buffer,r=!1,i=function(){return r=!0};n.items.forEach(function(e){return t(e.get(),i)}),r&&(n.logger.log(function(){return"update Buffer.items reference"}),n.items=Sf(n.items))},t.scrollToItem=function(e,t,n){var r=e.buffer.items.find(function(e){return t(e.get())});r?r.scrollTo(n):e.logger.log(function(){return"scrollToItem cancelled, item not found"})},t}(mv(Cp.fix)),Mv=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return xf(t,e),t.run=function(e){var n=e.state;n.startInnerLoop(),e.workflow.call({process:t.process,status:Sp.next,payload:kf({},n.cycle.innerLoop.first?{process:n.cycle.initiator}:{})})},t}(vv(_p.start)),Dv=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return xf(t,e),t.run=function(e){var n=e.workflow,r=e.state,i=r.cycle;r.fetch.minIndex=e.buffer.minIndex,t.setPositionsAndIndexes(e),t.skipBufferedItems(e),e.settings.infinite&&t.checkBufferGaps(e),t.checkFetchPackSize(e),t.setFetchDirection(e),n.call({process:t.process,status:t.getStatus(e),payload:{process:i.initiator}})},t.setPositionsAndIndexes=function(e){t.setPositions(e),t.setFirstIndex(e),t.setLastIndex(e),e.logger.fetch()},t.setPositions=function(e){var n=e.state.fetch.positions,r=e.viewport,i=r.getBufferPadding();n.before=r.scrollPosition,n.startDelta=t.getStartDelta(e),n.relative=n.before-n.startDelta,n.start=n.relative-i,n.end=n.relative+r.getSize()+i},t.getStartDelta=function(e){var t=e.buffer,n=e.viewport.offset,r=0;if(n&&(r+=n),!t.hasItemSize)return r;for(var i=t.finiteAbsMinIndex;i<t.startIndex;i++)r+=t.getSizeByIndex(i);return e.logger.log(function(){return Sf(["start delta is "+r],n?[" (+"+n+" offset)"]:[])}),r},t.setFirstIndex=function(e){var t=e.state,n=e.buffer,r=t.fetch,i=r.positions.start,o=r.first,a=n.startIndex,s=0;if(t.cycle.innerLoop.isInitial)e.logger.log("skipping fetch backward direction [initial loop]");else if(n.hasItemSize)for(var u=s,c=a;;){if(i>=0){var l=n.getSizeByIndex(c);if(u+l-i>0){a=c,s=u;break}if(u+=l,++c<n.absMinIndex)break}if(i<0){if(--c<n.absMinIndex)break;if(a=c,s=u-=n.getSizeByIndex(c),u-i<=0)break}}else e.logger.log("skipping fetch backward direction [no item size]");o.index=o.indexBuffer=Math.max(a,n.absMinIndex),o.position=s},t.setLastIndex=function(e){var t,n=e.state,r=n.fetch,i=n.cycle,o=e.buffer,a=e.settings,s=r.positions,u=s.relative,c=s.end,l=r.first,d=r.last;if(o.hasItemSize){var h=l.indexBuffer,f=l.position;for(t=h;;){t=h;var p=o.getSizeByIndex(h);if(f+=p,isNaN(r.firstVisibleIndex)&&f>u&&(r.firstVisibleIndex=h,i.innerLoop.isInitial||(r.firstVisibleItemDelta=f-p-u)),f>=c)break;if(h++>o.absMaxIndex)break}}else t=o.startIndex+a.bufferSize-1,e.logger.log("forcing fetch forward direction [no item size]");d.index=d.indexBuffer=Math.min(t,o.absMaxIndex)},t.skipBufferedItems=function(e){var t=e.buffer;if(t.size){for(var n=e.state.fetch,r=n.first.index,i=n.last.index,o=[[]],a=0,s=r;s<=i;s++)t.get(s)?o[a].length&&(o[++a]=[]):o[a].push(s);var u=o[0];o[0].length&&o[1]&&o[1].length&&(n.hasAnotherPack=!0,o[1].length>=o[0].length&&(u=o[1])),n.first.index=Math.max(u[0],t.absMinIndex),n.last.index=Math.min(u[u.length-1],t.absMaxIndex),n.first.index===r&&n.last.index===i||e.logger.fetch("after Buffer flushing")}},t.checkBufferGaps=function(e){var t=e.buffer,n=e.state.fetch;if(t.size){var r=n.first.index,i=t.lastIndex;r>i&&(n.first.index=n.first.indexBuffer=i+1);var o=t.firstIndex,a=n.last.index;a<o&&(n.last.index=n.last.indexBuffer=o-1),n.first.index===r&&n.last.index===a||e.logger.fetch("after Buffer filling (no clip case)")}},t.checkFetchPackSize=function(e){var n=e.buffer,r=e.state.fetch;if(r.shouldFetch){var i=r.first.index,o=r.last.index,a=e.settings.bufferSize-(o-i+1);if(!(a<=0)){if(!n.size||o>n.items[0].$index){var s=Math.min(o+a,n.absMaxIndex);s>o&&(r.last.index=r.last.indexBuffer=s)}else{var u=Math.max(i-a,n.absMinIndex);u<i&&(r.first.index=r.first.indexBuffer=u)}r.first.index===i&&r.last.index===o||(e.logger.fetch("after bufferSize adjustment"),t.skipBufferedItems(e))}}},t.setFetchDirection=function(e){var t=e.buffer,n=e.state.fetch;if(n.last.index){var r=lv.forward;t.size&&(r=n.last.index<t.items[0].$index?lv.backward:lv.forward),n.direction=r,e.logger.log(function(){return'fetch direction is "'+r+'"'})}},t.getStatus=function(e){var t=e.state,n=t.fetch;return t.cycle.initiator===Cp.clip?(e.logger.log(function(){return'going to skip fetch due to "'+Cp.clip+'" process'}),Sp.next):n.shouldFetch?(e.logger.log(function(){return"going to fetch "+n.count+" items started from index "+n.index}),Sp.next):Sp.done},t}(vv(_p.preFetch)),Rv=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return xf(t,e),t.run=function(e){var n=e.workflow,r={success:function(r){e.logger.log(function(){return"resolved "+r.length+" items (index = "+e.state.fetch.index+", count = "+e.state.fetch.count+")"}),e.state.fetch.newItemsData=r,n.call({process:t.process,status:Sp.next})},fail:function(e){return n.call({process:t.process,status:Sp.error,payload:{error:e}})}},i=t.get(e);t.complete(e,r,i)},t.complete=function(e,t,n){if(Object.prototype.hasOwnProperty.call(n,"data")){var r=n.data;n.isError?t.fail(n.error):t.success(r||[])}else{var i=e.state,o=i.scrollState,a=i.fetch;null===o.positionBeforeAsync&&(o.positionBeforeAsync=e.viewport.scrollPosition),a.cancel=function(){t.success=function(){return null},t.fail=function(){return null}},n.then(function(e){return t.success(e)},function(e){return t.fail(e)})}},t.get=function(e){var t,n,r,i,o=e.state.fetch,a=function(e){r?r(e):t=e||null},s=function(e){i?i(e):n=e||null},u=(0,e.datasource.get)(o.index,o.count,a,s);if(u&&"object"==typeof u&&null!==u){if("function"==typeof u.then)return u;if("function"==typeof u.subscribe)var c=u.subscribe(a,s,function(){c&&"object"==typeof c&&"function"==typeof c.unsubscribe&&c.unsubscribe()})}return t||n?{data:n?null:t||[],error:n,isError:!!n}:new Promise(function(e,t){r=e,i=t})},t}(vv(_p.fetch)),Pv=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return xf(t,e),t.run=function(e){var n=e.workflow;t.setItems(e)?(t.setBufferLimits(e),n.call({process:t.process,status:e.state.fetch.hasNewItems?Sp.next:Sp.done})):n.call({process:t.process,status:Sp.error,payload:{error:"Can't set buffer items"}})},t.setBufferLimits=function(e){var t=e.buffer,n=e.state,r=n.fetch,i=n.fetch.items,o=n.cycle.innerLoop,a=r.first.index,s=r.last.index;if(i.length){var u=i.length-1;a<i[0].$index&&(t.absMinIndex=i[0].$index),s>i[u].$index&&(t.absMaxIndex=i[u].$index)}else(s<t.minIndex||o.isInitial)&&(t.absMinIndex=t.minIndex),(a>t.maxIndex||o.isInitial)&&(t.absMaxIndex=t.maxIndex)},t.setItems=function(e){var t=e.buffer,n=e.state,r=n.fetch,i=r.newItemsData;if(!i||!i.length)return!0;var o=r.index;return i.length<r.count&&(n.cycle.innerLoop.isInitial?o=t.startIndex:r.first.index<t.minIndex&&(o=t.minIndex-i.length)),r.items=i.map(function(t,n){return new kv(o+n,t,e.routines)}),r.isPrepend=!!t.items.length&&t.items[0].$index>r.items[r.items.length-1].$index,t.setItems(r.items)},t}(vv(_p.postFetch)),Vv=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return xf(t,e),t.run=function(e){var n=e.workflow,r=e.state,i=r.cycle,o=r.render,a=r.scrollState,s=e.viewport;e.logger.stat("before new items render"),null===a.positionBeforeAsync&&(a.positionBeforeAsync=s.scrollPosition),o.renderTimer=setTimeout(function(){o.renderTimer=null,t.processElements(e)?n.call({process:t.process,status:o.noSize?Sp.done:Sp.next,payload:{process:i.initiator}}):n.call({process:t.process,status:Sp.error,payload:{error:"Can't associate item with element"}})},0)},t.processElements=function(e){var n=e.state,r=n.fetch,i=n.render,o=e.viewport,a=e.buffer,s=e.logger;return i.positionBefore=o.scrollPosition,!(!r.isReplace&&(i.sizeBefore=o.getScrollableSize(),r.items.map(function(n){return t.processElement(e,n)}).some(function(e){return!e}))||(a.checkAverageSize(),i.sizeAfter=o.getScrollableSize(),s.stat("after new items render"),s.log(function(){return i.noSize?"viewport size has not been changed":void 0}),0))},t.processElement=function(e,t){var n=e.state.fetch,r=e.buffer,i=e.viewport.element.querySelector('[data-sid="'+t.nodeId+'"]');return!!i&&(t.element=i,t.element.style.left="",t.element.style.top="",t.element.style.position="",t.invisible=!1,t.setSize(),r.cacheItem(t),t.$index<n.minIndex&&(n.negativeSize+=t.size),!0)},t}(vv(_p.render)),Nv=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return xf(t,e),t.run=function(e){var n=e.workflow,r=e.viewport,i=e.state.scrollState;if(i.positionBeforeAdjust=r.scrollPosition,!t.setPaddings(e))return n.call({process:t.process,status:Sp.error,payload:{error:"Can't get visible item"}});i.positionAfterAdjust=r.scrollPosition;var o=t.calculatePosition(e);t.setPosition(e,o,function(){return n.call({process:t.process,status:Sp.done})})},t.setPaddings=function(e){var t=e.viewport,n=e.buffer,r=e.settings.inverse,i=n.getFirstVisibleItem(),o=n.getLastVisibleItem();if(!i||!o)return!1;var a,s=t.paddings,u=s.forward,c=s.backward,l=0,d=0;for(a=n.finiteAbsMinIndex;a<i.$index;a++)l+=n.getSizeByIndex(a);for(a=o.$index+1;a<=n.finiteAbsMaxIndex;a++)d+=n.getSizeByIndex(a);var h=t.getScrollableSize()-u.size-c.size,f=t.getSize()-(l+h+d);return f>0&&(r?l+=f:d+=f,e.logger.log(function(){return r?"backward":"forward padding will be increased by "+f+" to fill the viewport"})),c.size=l,u.size=d,e.logger.stat("after paddings adjustments"),!0},t.calculatePosition=function(e){var t=e.viewport,n=e.buffer,r=e.state,i=r.fetch,o=r.render,a=r.scrollState,s=t.paddings.backward.size;if(isNaN(i.firstVisibleIndex)||isNaN(n.firstIndex))i.isPrepend&&i.negativeSize&&(s+=i.negativeSize);else{for(var u=n.firstIndex;u<i.firstVisibleIndex;u++)s+=n.getSizeByIndex(u);i.firstVisibleItemDelta&&(s-=i.firstVisibleItemDelta)}if(null!==a.positionBeforeAsync){var c=o.positionBefore-a.positionBeforeAsync;0!==c&&(e.logger.log("shift position due to fetch-render difference ("+c+")"),s+=c)}return t.offset>0&&(s||i.positions.before)&&(s+=t.offset),Math.round(s)},t.setPosition=function(e,t,n){var r=e.state.scrollState,i=e.viewport;if(!r.hasPositionChanged(t))return n();r.syntheticPosition=t,r.syntheticFulfill=!1,r.animationFrameId=requestAnimationFrame(function(){var o=r.positionAfterAdjust-i.scrollPosition,a="";o>0&&(r.syntheticPosition=t-=o,a=" (-"+o+")"),r.syntheticFulfill=!0,i.scrollPosition=t,e.logger.stat("after scroll adjustment"+a),n()})},t}(vv(_p.adjust)),jv=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return xf(t,e),t.run=function(e){t.prepareClip(e),e.workflow.call({process:t.process,status:Sp.next,payload:{doClip:e.state.clip.doClip}})},t.prepareClip=function(e){var n=e.state,r=n.fetch,i=n.clip;if(!t.shouldNotClip(e)){var o=r.first.indexBuffer,a=r.last.indexBuffer;e.logger.log(function(){return"looking for "+(r.direction?"anti-"+r.direction+" ":"")+"items that are out of ["+o+".."+a+"] range"}),t.isBackward(e,o)&&t.prepareClipByDirection(e,lv.backward,o),t.isForward(e,a)&&t.prepareClipByDirection(e,lv.forward,a),i.doClip||e.logger.log("skipping clip [no items to clip]")}},t.shouldNotClip=function(e){var t=e.buffer,n=e.state;return e.settings.infinite?(e.logger.log("skipping clip [infinite mode]"),!0):t.size?!!n.cycle.isInitial&&(e.logger.log("skipping clip [initial cycle]"),!0):(e.logger.log("skipping clip [empty buffer]"),!0)},t.isBackward=function(e,t){var n=e.state,r=n.clip;return r.force?r.forceBackward:n.fetch.direction!==lv.backward&&t-1>=e.buffer.absMinIndex},t.isForward=function(e,t){var n=e.state,r=n.clip;return r.force?r.forceForward:n.fetch.direction!==lv.forward&&t+1<=e.buffer.absMaxIndex},t.prepareClipByDirection=function(e,t,n){var r=t===lv.forward;e.buffer.items.forEach(function(i){(!r&&i.$index<n||r&&i.$index>n)&&(i.toRemove=!0,i.removeDirection=t,e.state.clip.doClip=!0)})},t}(vv(_p.preClip)),zv=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return xf(t,e),t.run=function(e){var n=e.workflow,r=e.state;t.doClip(e),n.call({process:t.process,status:Sp.next,payload:{process:r.cycle.initiator}})},t.doClip=function(e){var n=e.viewport,r=e.logger,i=e.state.clip,o=n.scrollPosition;r.stat("before clip ("+ ++i.callCount+")"),i.virtual.only||t.onBuffered(e),i.virtual.has&&t.onVirtual(e),n.scrollPosition=o,r.stat("after clip")},t.onBuffered=function(e){var t=e.buffer,n=e.viewport.paddings,r=e.logger,i=e.state.clip,o={backward:0,forward:0},a=i.simulate&&!i.force,s=t.items.filter(function(e){return!!e.toRemove&&(e.hide(),o[e.removeDirection]+=e.size,a||(n.byDirection(e.removeDirection).size+=e.size),!0)});e.settings.onBeforeClip&&s.length&&e.settings.onBeforeClip(s.map(function(e){return e.get()}));var u=s.map(function(e){return e.$index});a?t.removeItems(u,!i.increase,!1):t.items=t.items.filter(function(e){return!e.toRemove}),r.log(function(){return u.length?["clipped "+u.length+" item(s) from Buffer"+(a?" (via adapter), -"+(o.backward+o.forward)+"px":(o.backward?", +"+o.backward+" fwd px":"")+(o.forward?", +"+o.forward+" bwd px":""))+", range: ["+u[0]+".."+u[u.length-1]+"]"]:"clipped 0 items from Buffer"})},t.onVirtual=function(e){var t=e.buffer,n=e.viewport.paddings,r=e.logger,i=e.state.clip,o={backward:0,forward:0},a=i.virtual.all;[lv.backward,lv.forward].forEach(function(e){o[e]=i.virtual[e].reduce(function(e,n){return e+t.getSizeByIndex(n)},0),n[e].size-=o[e]}),t.removeItems(a,!i.increase,!0),r.log(function(){return["clipped "+a.length+" virtual item(s)"+(o.backward?", +"+o.backward+" fwd px":"")+(o.forward?", +"+o.forward+" bwd px":"")+", ["+a.join(" ")+"]"]})},t}(vv(_p.clip)),Lv=function(e){return!!e.call.interrupted},Fv=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return xf(t,e),t.run=function(e,n){var r=(void 0===n?{}:n).error,i=e.workflow,o=e.state.cycle.interrupter;if(r||o||t.calculateParams(e,i),Lv(i))i.call({process:t.process,status:Sp.done});else{var a=t.finalizeInnerLoop(e,r);i.call({process:t.process,status:a?Sp.next:Sp.done,payload:kf({},o?{process:o}:{})})}},t.calculateParams=function(e,t){var n,r=e.adapter,i=e.viewport,o=e.buffer.items;r.wanted.firstVisible&&((n=i.getEdgeVisibleItem(o,lv.backward).item)&&n.element===r.firstVisible.element||(r.firstVisible=n?n.get():jf)),r.wanted.lastVisible&&!Lv(t)&&((n=i.getEdgeVisibleItem(o,lv.forward).item)&&n.element===r.lastVisible.element||(r.lastVisible=n?n.get():jf))},t.finalizeInnerLoop=function(e,n){var r=e.state,i=e.state,o=i.cycle,a=i.clip,s=i.fetch,u=!!o.interrupter||!n&&t.getNext(e);return o.innerLoop.isInitial=!1,s.stopSimulate(),a.noClip=e.settings.infinite||u&&a.simulate,a.forceReset(),r.endInnerLoop(),u},t.getNext=function(e){var t=e.state,n=t.fetch,r=t.render;return!(!t.clip.simulate&&(!n.simulate||!n.isReplace)&&(!n.simulate||r.noSize)&&(n.simulate||!(n.hasNewItems&&!r.noSize||n.hasAnotherPack)))},t}(vv(_p.end)),Uv=function(){function e(e,t){var n=this;this.logs=[],this.logAdapterMethod=function(e,t,r){if(n.debug){var i=(void 0===t?[]:Array.isArray(t)?t:[t]).map(function(e){return"function"==typeof e?"func":"object"==typeof e&&e?Array.isArray(e)?"[of "+e.length+"]":"{ "+Object.keys(e).join(", ")+" }":e}).join(", ");n.log("adapter: "+e+"("+(i||"")+")"+(r||""))}};var r=e.settings;this.debug=r.debug,this.immediateLog=r.immediateLog,this.logTime=r.logTime,this.getTime=function(){return e.state&&" // time: "+e.state.time},this.getStat=function(){var t=e.buffer,n=e.viewport,r=t.getFirstVisibleItem(),i=t.getLastVisibleItem();return"pos: "+n.scrollPosition+", size: "+n.getScrollableSize()+", bwd_p: "+n.paddings.backward.size+", fwd_p: "+n.paddings.forward.size+", aver: "+(t.hasItemSize?t.averageSize:"no")+", items: "+t.getVisibleItemsCount()+", range: "+(r&&i?"["+r.$index+".."+i.$index+"]":"no")},this.getFetchRange=function(){var t=e.state.fetch,n=t.first.index,r=t.last.index;return Number.isNaN(n)||Number.isNaN(r)?"no":"["+n+".."+r+"]"},this.getLoopId=function(){return e.state.cycle.loopId},this.getLoopIdNext=function(){return e.state.cycle.loopIdNext},this.getWorkflowCycleData=function(){return r.instanceIndex+"-"+e.state.cycle.count},this.getScrollPosition=function(t){return e.routines.getScrollPosition(t)},this.log(function(){return"uiScroll Workflow has been started, core: "+t.core.name+" v"+t.core.version+" (instance "+r.instanceIndex+"), consumer: "+t.consumer.name+" v"+t.consumer.version})}return e.prototype.object=function(e,t,n){this.log(function(){return[e,n?JSON.stringify(t,function(e,t){return Number.isNaN(t)?"NaN":t===1/0?"Infinity":t===-1/0?"-Infinity":t instanceof Element?"HTMLElement":t instanceof HTMLDocument?"HTMLDocument":"function"==typeof t?"Function":t}).replace(/"/g,"").replace(/(\{|:|,)/g,"$1 ").replace(/(\})/g," $1"):t]})},e.prototype.stat=function(e){var t=this;if(this.debug){var n=["color: #888; border: dashed #888 0; border-bottom-width: 0px","color: #000; border-width: 0"];this.log(function(){return Sf(["%cstat"+(e?" "+e:"")+",%c "+t.getStat()],n)})}},e.prototype.fetch=function(e){var t=this;if(this.debug){var n="fetch interval"+(e?" "+e:""),r=["color: #888","color: #000"];this.log(function(){return Sf(["%c"+n+": %c"+t.getFetchRange()],r)})}},e.prototype.prepareForLog=function(e){return e instanceof Event&&e.target?this.getScrollPosition(e.target):e},e.prototype.logProcess=function(e){if(this.debug){var t=e.process,n=e.status,r=e.payload,i=[];if(t===_p.init&&n===Sp.next)i.push("%c---=== loop "+this.getLoopIdNext()+" start");else if(t===_p.end){i.push("%c---=== loop "+this.getLoopId()+" done");var o=r&&r.process;n===Sp.next&&o!==Cp.reset&&o!==Cp.reload&&(i[0]+=", loop "+this.getLoopIdNext()+" start")}i.length&&this.log(function(){return Sf(i,["color: #006600;"])})}},e.prototype.logCycle=function(e){void 0===e&&(e=!0);var t=this.getWorkflowCycleData(),n="color: #0000aa; border: solid #555 1px; border-width: "+(e?"1px 0 0 1px":"0 0 1px 1px")+"; margin-left: -2px";this.log(function(){return["%c   ~~~ WF Cycle "+t+" "+(e?"STARTED":"FINALIZED")+" ~~~  ",n]})},e.prototype.logError=function(e){var t=this;if(this.debug){var n=["color: #a00;","color: #000"];this.log(function(){return Sf(["error:%c"+(e?" "+e:"")+"%c (loop "+t.getLoopIdNext()+")"],n)})}},e.prototype.log=function(){for(var e=this,t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];if(this.debug){if("function"==typeof t[0]&&(t=t[0](),Array.isArray(t)||(t=[t])),t.every(function(e){return void 0===e}))return;this.logTime&&(t=Sf(t,[this.getTime()])),t=t.map(function(t){return e.prepareForLog(t)}),this.immediateLog?console.log.apply(this,t):this.logs.push(t)}},e.prototype.logForce=function(){for(var e=this,t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];this.debug&&(!this.immediateLog&&this.logs.length&&(this.logs.forEach(function(t){return console.log.apply(e,t)}),this.logs=[]),t.length&&console.log.apply(this,t))},e}(),Bv=function(){function e(e){this.horizontal=e.horizontal,this.window=e.windowViewport}return e.prototype.checkElement=function(e){if(!e)throw new Error("HTML element is not defined")},e.prototype.getScrollPosition=function(e){return this.window?window.pageYOffset:(this.checkElement(e),e[this.horizontal?"scrollLeft":"scrollTop"])},e.prototype.setScrollPosition=function(e,t){t=Math.max(0,t),this.window?this.horizontal?window.scrollTo(t,window.scrollY):window.scrollTo(window.scrollX,t):(this.checkElement(e),e[this.horizontal?"scrollLeft":"scrollTop"]=t)},e.prototype.getParams=function(e,t){return this.checkElement(e),this.window&&t?{height:e.clientHeight,width:e.clientWidth,top:e.clientTop,bottom:e.clientTop+e.clientHeight,left:e.clientLeft,right:e.clientLeft+e.clientWidth}:e.getBoundingClientRect()},e.prototype.getSize=function(e,t){return this.getParams(e,t)[this.horizontal?"width":"height"]},e.prototype.getSizeStyle=function(e){return this.checkElement(e),parseInt(e.style[this.horizontal?"width":"height"],10)||0},e.prototype.setSizeStyle=function(e,t){this.checkElement(e),t=Math.max(0,Math.round(t)),e.style[this.horizontal?"width":"height"]=t+"px"},e.prototype.getEdge=function(e,t,n){return this.getParams(e,n)[t===lv.forward?this.horizontal?"right":"bottom":this.horizontal?"left":"top"]},e.prototype.getEdge2=function(e,t,n,r){return e.offsetTop-(n?n.scrollTop:0)+(t===(r?lv.backward:lv.forward)?this.getSize(e):0)},e.prototype.hideElement=function(e){this.checkElement(e),e.style.display="none"},e.prototype.getOffset=function(e){return this.checkElement(e),(this.horizontal?e.offsetLeft:e.offsetTop)||0},e.prototype.scrollTo=function(e,t){this.checkElement(e),e.scrollIntoView(t)},e}(),Hv=function(){function e(e,t,n){this.element=e.querySelector("[data-padding-"+t+"]"),this.direction=t,this.routines=n}return e.prototype.reset=function(e){this.size=e||0},Object.defineProperty(e.prototype,"size",{get:function(){return this.routines.getSizeStyle(this.element)},set:function(e){this.routines.setSizeStyle(this.element,e)},enumerable:!1,configurable:!0}),e}(),$v=function(){function e(e,t,n){this.settings=n,this.forward=new Hv(e,lv.forward,t),this.backward=new Hv(e,lv.backward,t)}return e.prototype.byDirection=function(e,t){return e===lv.backward?t?this.forward:this.backward:t?this.backward:this.forward},e.prototype.reset=function(e,t,n){var r,i=this.getPositiveSize(t,e,n),o=this.getNegativeSize(t);this.settings.inverse?(this.forward.reset(o),this.backward.reset(i),(r=e-this.backward.size-n)>0&&(this.backward.size+=r,this.forward.size-=r)):(this.forward.reset(i),this.backward.reset(o),(r=e-this.forward.size-n)>0&&(this.backward.size-=r,this.forward.size+=r))},e.prototype.getPositiveSize=function(e,t,n){var r=this.settings,i=t;return isFinite(r.maxIndex)&&(i=(r.maxIndex-e+1)*r.itemSize),n&&(i=Math.max(i-n,0)),i},e.prototype.getNegativeSize=function(e){var t=this.settings,n=0;return isFinite(t.minIndex)&&(n=(e-t.minIndex)*t.itemSize),n},e}(),qv=function(){function e(e,t,n,r,i){this.element=e,this.settings=t,this.routines=n,this.state=r,this.logger=i,this.disabled=!1,t.windowViewport?(this.hostElement=document.documentElement,this.scrollEventReceiver=window):(this.hostElement=t.viewport||this.element.parentElement,this.scrollEventReceiver=this.hostElement),this.paddings=new $v(this.element,this.routines,t),t.windowViewport&&"scrollRestoration"in history&&(history.scrollRestoration="manual"),t.dismissOverflowAnchor&&(this.hostElement.style.overflowAnchor="none")}return e.prototype.reset=function(e){this.setOffset(),this.paddings.reset(this.getSize(),e,this.offset),this.scrollPosition=this.paddings.backward.size||0,this.state.scrollState.reset()},e.prototype.setPosition=function(e){if(this.scrollPosition===e)return this.logger.log(function(){return["setting scroll position at",e,"[cancelled]"]}),e;this.routines.setScrollPosition(this.hostElement,e);var t=this.scrollPosition;return this.logger.log(function(){return Sf(["setting scroll position at",t],t!==e?["("+e+")"]:[])}),t},Object.defineProperty(e.prototype,"scrollPosition",{get:function(){return this.routines.getScrollPosition(this.hostElement)},set:function(e){this.setPosition(e)},enumerable:!1,configurable:!0}),e.prototype.disableScrollForOneLoop=function(){var e=this;if(!this.disabled){var t=this.hostElement.style;if("hidden"!==t.overflowY){this.disabled=!0;var n=t.overflowY;setTimeout(function(){e.disabled=!1,t.overflowY=n}),t.overflowY="hidden"}}},e.prototype.getSize=function(){return this.routines.getSize(this.hostElement,!0)},e.prototype.getScrollableSize=function(){return this.routines.getSize(this.element)},e.prototype.getBufferPadding=function(){return this.getSize()*this.settings.padding},e.prototype.getEdge=function(e){return this.routines.getEdge(this.hostElement,e,!0)},e.prototype.setOffset=function(){this.offset=this.routines.getOffset(this.element),this.settings.windowViewport||(this.offset-=this.routines.getOffset(this.hostElement))},e.prototype.getEdgeVisibleItem=function(e,t){for(var n,r=t===lv.backward,i=r?lv.forward:lv.backward,o=this.getEdge(t),a=0,s=r?0:e.length-1;r?s<=e.length-1:s>=0;s+=r?1:-1)if(a=this.routines.getEdge(e[s].element,i)-o,r&&a>0||!r&&a<0){n=e[s];break}return{item:n,diff:a}},e}(),Wv=function(){function e(e,t){this.$index=e.$index,this.nodeId=e.nodeId,this.data=t?e.data:null,this.size=e.size}return e.prototype.changeIndex=function(e){this.$index=e,this.nodeId=String(e)},e}(),Gv=function(){function e(){this.reset()}return e.prototype.reset=function(){this.newItems=[],this.oldItems=[]},e}(),Xv=function(){function e(e,t,n){this.averageSizeFloat=e,this.averageSize=e,this.itemSize=e,this.saveData=t,this.items=new Map,this.recalculateAverage=new Gv,this.reset(),this.logger=n}return e.prototype.reset=function(){this.minIndex=1/0,this.maxIndex=-1/0,this.items.clear(),this.averageSizeFloat=this.itemSize,this.averageSize=this.itemSize,this.recalculateAverage.reset()},e.prototype.recalculateAverageSize=function(){var e=this,t=this.recalculateAverage,n=t.oldItems.length,r=t.newItems.length;if(!n&&!r)return!1;if(n){var i=this.recalculateAverage.oldItems.reduce(function(e,t){return e+t.size},0),o=this.recalculateAverage.oldItems.reduce(function(e,t){return e+t.newSize},0);this.averageSizeFloat=(this.averageSizeFloat||0)-(i-o)/(this.items.size-r)}return r&&(o=this.recalculateAverage.newItems.reduce(function(e,t){return e+t.size},0),this.averageSizeFloat=((this.items.size-r)*(this.averageSizeFloat||0)+o)/this.items.size),this.averageSize=Math.round(this.averageSizeFloat),this.recalculateAverage.reset(),this.logger.log(function(){return"average size has been updated: "+e.averageSize}),!0},e.prototype.add=function(e){var t=this.get(e.$index);return t?(t.data=e.data,t.size!==e.size&&(this.recalculateAverage.oldItems.push({$index:e.$index,size:t.size,newSize:e.size}),t.size=e.size)):(t=new Wv(e,this.saveData),this.items.set(e.$index,t),this.averageSize!==t.size&&this.recalculateAverage.newItems.push({$index:e.$index,size:t.size})),e.$index<this.minIndex&&(this.minIndex=e.$index),e.$index>this.maxIndex&&(this.maxIndex=e.$index),t},e.prototype.getItemSize=function(e){var t=this.get(e);return t?t.size:0},e.prototype.get=function(e){return this.items.get(e)},Object.defineProperty(e.prototype,"size",{get:function(){return this.items.size},enumerable:!1,configurable:!0}),e.prototype.removeItems=function(e,t){var n=new Map,r=1/0,i=-1/0;this.items.forEach(function(o){if(!e.some(function(e){return e===o.$index})){var a=e.reduce(t?function(e,t){return e-(o.$index>t?1:0)}:function(e,t){return e+(o.$index<t?1:0)},0);o.changeIndex(o.$index+a),n.set(o.$index,o),r=o.$index<r?o.$index:r,i=o.$index>i?o.$index:i}}),this.items=n,this.minIndex=r,this.maxIndex=i},e.prototype.insertItems=function(e,t,n){var r=this,i=new Map;this.items.forEach(function(o){var a=o.$index;a<e?(n||o.changeIndex(a-t),i.set(o.$index,o)):(n&&o.changeIndex(a+t),i.set(o.$index,o)),o.$index<r.minIndex&&(r.minIndex=o.$index),o.$index>r.maxIndex&&(r.maxIndex=o.$index)}),this.items=i},e}(),Zv=function(){function e(e,t,n){this.logger=n,this.changeItems=t,this.bof=new Af(!1),this.eof=new Af(!1),this.cache=new Xv(e.itemSize,e.cacheData,n),this.startIndexUser=e.startIndex,this.minIndexUser=e.minIndex,this.maxIndexUser=e.maxIndex,this.reset()}return e.prototype.dispose=function(){this.bof.dispose(),this.eof.dispose()},e.prototype.reset=function(e,t){e&&this.items.forEach(function(e){return e.hide()}),this.pristine=!0,this.items=[],this.cache.reset(),this.absMinIndex=this.minIndexUser,this.absMaxIndex=this.maxIndexUser,this.setCurrentStartIndex(t),this.bof.set(!1),this.eof.set(!1),this.pristine=!1},e.prototype.setCurrentStartIndex=function(e){var t=this.minIndexUser,n=this.maxIndexUser,r=this.startIndexUser,i=Number(e);Number.isNaN(i)&&(this.logger.log(function(){return"fallback startIndex to settings.startIndex ("+r+")"}),i=r),i<t&&(this.logger.log(function(){return"setting startIndex to settings.minIndex ("+t+") because "+i+" < "+t}),i=t),i>n&&(this.logger.log(function(){return"setting startIndex to settings.maxIndex ("+n+") because "+i+" > "+n}),i=n),this.startIndex=i},Object.defineProperty(e.prototype,"items",{get:function(){return this._items},set:function(e){this._items=e,this.changeItems(e),this.pristine||(this.checkBOF(),this.checkEOF())},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"absMinIndex",{get:function(){return this._absMinIndex},set:function(e){this._absMinIndex!==e&&(this._absMinIndex=e),this.pristine||this.checkBOF()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"absMaxIndex",{get:function(){return this._absMaxIndex},set:function(e){this._absMaxIndex!==e&&(this._absMaxIndex=e),this.pristine||this.checkEOF()},enumerable:!1,configurable:!0}),e.prototype.checkBOF=function(){var e=this.items.length?this.items[0].$index===this.absMinIndex:isFinite(this.absMinIndex);this.bof.set(e)},e.prototype.checkEOF=function(){var e=this.items.length?this.items[this.items.length-1].$index===this.absMaxIndex:isFinite(this.absMaxIndex);this.eof.set(e)},Object.defineProperty(e.prototype,"size",{get:function(){return this._items.length},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"cacheSize",{get:function(){return this.cache.size},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"averageSize",{get:function(){return this.cache.averageSize},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"hasItemSize",{get:function(){return this.averageSize>0},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"minIndex",{get:function(){return isFinite(this.cache.minIndex)?this.cache.minIndex:this.startIndex},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"maxIndex",{get:function(){return isFinite(this.cache.maxIndex)?this.cache.maxIndex:this.startIndex},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"firstIndex",{get:function(){return this.items.length?this.items[0].$index:NaN},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"lastIndex",{get:function(){return this.items.length?this.items[this.items.length-1].$index:NaN},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"finiteAbsMinIndex",{get:function(){return isFinite(this.absMinIndex)?this.absMinIndex:this.minIndex},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"finiteAbsMaxIndex",{get:function(){return isFinite(this.absMaxIndex)?this.absMaxIndex:this.maxIndex},enumerable:!1,configurable:!0}),e.prototype.get=function(e){return this.items.find(function(t){return t.$index===e})},e.prototype.setItems=function(e){if(this.items.length)if(this.items[0].$index>e[e.length-1].$index)this.items=Sf(e,this.items);else{if(!(e[0].$index>this.items[this.items.length-1].$index))return!1;this.items=Sf(this.items,e)}else this.items=Sf(e);return!0},e.prototype.append=function(e){this.items=Sf(this.items,e)},e.prototype.prepend=function(e){this.items=Sf(e,this.items)},e.prototype.removeItems=function(e,t,n){void 0===n&&(n=!1);for(var r=[],i=n?e:[],o=this.items.length,a=function(o){var a=s.items[o];if(!n&&e.indexOf(a.$index)>=0)return i.push(a.$index),"continue";var u=i.reduce(function(e,n){return e+(t?a.$index>n?-1:0:a.$index<n?1:0)},0);a.updateIndex(a.$index+u),n||(t?r.push(a):r.unshift(a))},s=this,u=t?0:o-1;t?u<o:u>=0;t?u++:u--)a(u);t?this.absMaxIndex-=i.length:(this.absMinIndex+=i.length,this.startIndex+=i.length),n||(this.items=r),this.cache.removeItems(i,t)},e.prototype.insertItems=function(e,t,n,r){var i=e.length,o=this.items.indexOf(t)+n,a=this.items.slice(0,o),s=this.items.slice(o);r?s.forEach(function(e){return e.updateIndex(e.$index+i)}):a.forEach(function(e){return e.updateIndex(e.$index-i)});var u=Sf(a,e,s);r?this.absMaxIndex+=i:(this.absMinIndex-=i,this.startIndex-=i),this.items=u,this.cache.insertItems(t.$index+n,i,r)},e.prototype.cacheItem=function(e){this.cache.add(e)},e.prototype.getFirstVisibleItemIndex=function(){for(var e=this.items.length,t=0;t<e;t++)if(!this.items[t].invisible)return t;return-1},e.prototype.getLastVisibleItemIndex=function(){for(var e=this.items.length-1;e>=0;e--)if(!this.items[e].invisible)return e;return-1},e.prototype.getFirstVisibleItem=function(){var e=this.getFirstVisibleItemIndex();if(e>=0)return this.items[e]},e.prototype.getLastVisibleItem=function(){var e=this.getLastVisibleItemIndex();if(e>=0)return this.items[e]},e.prototype.getEdgeVisibleItem=function(e,t){return e===(t?lv.backward:lv.forward)?this.getLastVisibleItem():this.getFirstVisibleItem()},e.prototype.getVisibleItemsCount=function(){return this.items.reduce(function(e,t){return e+(t.invisible?0:1)},0)},e.prototype.getSizeByIndex=function(e){var t=this.cache.get(e);return t?t.size:this.averageSize},e.prototype.checkAverageSize=function(){return this.cache.recalculateAverageSize()},e.prototype.getIndexToAppend=function(e){return(e?this.absMaxIndex:this.size?this.items[this.size-1].$index:this.maxIndex)+(this.size?1:0)},e.prototype.getIndexToPrepend=function(e){return(e?this.absMinIndex:this.size?this.items[0].$index:this.minIndex)-(this.size?1:0)},e.prototype.getIndexToAdd=function(e,t){return t?this.getIndexToPrepend(e):this.getIndexToAppend(e)},e}(),Qv=function(){function e(e){this.total=e,this.isInitial=!1,this.busy=new Af(!1)}return Object.defineProperty(e.prototype,"first",{get:function(){return 0===this.count},enumerable:!1,configurable:!0}),e.prototype.done=function(){this.count++,this.total++,this.busy.set(!1)},e.prototype.start=function(){this.busy.set(!0)},e.prototype.dispose=function(){this.busy.dispose()},e}(),Kv=function(){function e(e,t){var n=t?t.count:1,r=t?t.innerLoop.count:0;this.instanceIndex=e,this.innerLoop=new Qv(r),this.interrupter=null,this.busy=new Af(!1),this.done(n)}return Object.defineProperty(e.prototype,"loopId",{get:function(){return this.instanceIndex+"-"+this.count+"-"+this.innerLoop.total},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"loopIdNext",{get:function(){return this.instanceIndex+"-"+this.count+"-"+(this.innerLoop.total+1)},enumerable:!1,configurable:!0}),e.prototype.done=function(e){this.count=e,this.isInitial=!1,this.busy.set(!1)},e.prototype.start=function(e,t){this.isInitial=e,this.initiator=t,this.innerLoop.isInitial=e,this.innerLoop.count=0,this.interrupter=null,this.busy.set(!0)},e.prototype.dispose=function(e){e&&this.busy.dispose(),this.innerLoop.dispose()},e}(),Yv=function(){function e(){this.reset()}return e.prototype.reset=function(){this.startDelta=0,this.before=0},e}(),Jv=function(){function e(){this.reset()}return e.prototype.reset=function(){this.index=NaN,this.indexBuffer=NaN,this.position=NaN},e}(),em=function(){function e(){this.reset()}return e.prototype.reset=function(){this.index=NaN,this.indexBuffer=NaN},e}(),tm=function(){function e(){this.callCount=0,this.positions=new Yv,this.first=new Jv,this.last=new em,this.reset()}return e.prototype.reset=function(){this._newItemsData=null,this.items=[],this.positions.reset(),this.first.reset(),this.last.reset(),this.hasAnotherPack=!1,this.firstVisibleIndex=NaN,this.firstVisibleItemDelta=NaN,this.negativeSize=0,this.direction=null,this.cancel=null,this.simulate=!1,this.isPrepend=!1,this.isReplace=!1},Object.defineProperty(e.prototype,"newItemsData",{get:function(){return this._newItemsData},set:function(e){this._newItemsData=e,e&&e.length&&this.callCount++},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"shouldFetch",{get:function(){return!!this.count},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"hasNewItems",{get:function(){return!(!this._newItemsData||!this._newItemsData.length)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"index",{get:function(){return this.first.index},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"count",{get:function(){return isNaN(this.first.index)||isNaN(this.last.index)?0:this.last.index-this.first.index+1},enumerable:!1,configurable:!0}),e.prototype.startSimulate=function(e){this.simulate=!0,this._newItemsData=e.map(function(e){return e.data}),this.items=e,this.hasAnotherPack=!1,this.negativeSize=0},e.prototype.stopSimulate=function(){this.simulate=!1,this.isPrepend=!1,this.isReplace=!1},e.prototype.append=function(e){this.startSimulate(e),this.last.index=e[e.length-1].$index,this.first.index=e[0].$index,this.direction=lv.forward},e.prototype.prepend=function(e){this.startSimulate(e),this.last.index=e[0].$index,this.first.index=e[e.length-1].$index,this.direction=lv.backward,this.isPrepend=!0},e.prototype.replace=function(e){this.startSimulate(e),this.last.index=e[0].$index,this.first.index=e[e.length-1].$index,this.isReplace=!0},e.prototype.insert=function(e){this.startSimulate(e),this.last.index=e[0].$index,this.first.index=e[e.length-1].$index},e}(),nm=function(){function e(){this.reset()}return Object.defineProperty(e.prototype,"all",{get:function(){return Sf(this[lv.backward],this[lv.forward])},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"has",{get:function(){return!!this[lv.backward].length||!!this[lv.forward].length},enumerable:!1,configurable:!0}),e.prototype.reset=function(){this[lv.backward]=[],this[lv.forward]=[],this.only=!1},e}(),rm=function(){function e(){this.infinite=!1,this.noClip=this.infinite,this.callCount=0,this.virtual=new nm,this.reset()}return Object.defineProperty(e.prototype,"force",{get:function(){return this.forceForward||this.forceBackward},enumerable:!1,configurable:!0}),e.prototype.reset=function(e){this.doClip=!1,e?this.simulate=!1:this.forceReset(),this.increase=!1,this.virtual.reset()},e.prototype.forceReset=function(){this.simulate=!1,this.forceForward=!1,this.forceBackward=!1},e}(),im=function(){function e(){this.reset()}return Object.defineProperty(e.prototype,"noSize",{get:function(){return this.sizeBefore===this.sizeAfter},enumerable:!1,configurable:!0}),e.prototype.reset=function(){this.sizeBefore=0,this.sizeAfter=0,this.positionBefore=0,this.renderTimer=null},e}(),om=function(){function e(){this.reset()}return e.prototype.reset=function(){this.previous=null,this.current=null,this.syntheticPosition=null,this.syntheticFulfill=!1,this.positionBeforeAsync=null,this.positionBeforeAdjust=null,this.positionAfterAdjust=null,this.cleanupTimers()},e.prototype.cleanupTimers=function(){this.scrollTimer&&(clearTimeout(this.scrollTimer),this.scrollTimer=null),this.animationFrameId&&(cancelAnimationFrame(this.animationFrameId),this.animationFrameId=0)},e.prototype.hasPositionChanged=function(e){var t=this.positionBeforeAdjust,n=this.positionAfterAdjust;return null===t||t!==e||null===n||n!==e},e}(),am=function(){function e(e,t,n){this.packageInfo=e,this.settings=t,this.initTime=Number(new Date),this.cycle=new Kv(this.settings.instanceIndex,n?n.cycle:void 0),this.fetch=new tm,this.clip=new rm,this.render=new im,this.scrollState=new om}return Object.defineProperty(e.prototype,"time",{get:function(){return Number(new Date)-this.initTime},enumerable:!1,configurable:!0}),e.prototype.endInnerLoop=function(){var e=this,t=e.fetch,n=e.render,r=e.cycle;t.cancel&&(t.cancel(),t.cancel=null),n.renderTimer&&(clearTimeout(n.renderTimer),n.renderTimer=null),r.innerLoop.done()},e.prototype.startInnerLoop=function(){var e=this,t=e.scrollState,n=e.fetch,r=e.render,i=e.clip;e.cycle.innerLoop.start(),t.positionBeforeAsync=null,n.simulate||n.reset(),i.simulate||i.reset(i.force),r.reset()},e.prototype.dispose=function(){this.cycle.dispose(),this.endInnerLoop(),this.scrollState.cleanupTimers()},e}(),sm=zf(),um=function(e,t){return"object"==typeof e&&null!==e&&Object.prototype.hasOwnProperty.call(e,t)},cm=function(e,t,n){var r=t;if(!um(t,"items")){var i=Array.isArray(t)?t:[t];r=e?{items:i,bof:n}:{items:i,eof:n}}return r},lm=function(){function e(e,t,n){var r=this;this.source={},this.box={},this.demand={},this.wanted={},this.getWorkflow=t,this.logger=n,this.relax$=null,this.relaxRun=null,this.reloadCounter=0;var i=e||null,o=i&&i.reactiveConfiguredProps||{},a=i?sm.map(function(e){return kf(kf({},e),{value:i[e.name]})}):zf();Object.entries(o).forEach(function(e){var t=Cf(e,2),n=t[0],r=t[1],i=a.find(function(e){return e.name===n});i&&r&&(i.value=r.default)}),a.filter(function(e){return e.type===Tf.Scalar&&e.permanent}).forEach(function(e){var t=e.value;return Object.defineProperty(r,e.name,{get:function(){return t}})}),a.filter(function(e){return e.type===Tf.Reactive}).forEach(function(e){var t=e.name;r.source[t]=e.value,Object.defineProperty(r,t,{get:function(){var e=sm.find(function(e){return e.wanted&&e.reactive===t});return e&&(r.wanted[e.name]=!0),r.source[t]}})}),a.filter(function(e){return e.type===Tf.Scalar&&!!e.reactive}).forEach(function(e){var t=e.name,n=e.value,i=e.reactive,a=e.wanted;a&&(r.wanted[t]=!1),r.box[t]=n,Object.defineProperty(r,t,{set:function(e){if(e!==r.box[t]){r.box[t]=e,r.source[i].set(e);var n=o[i];n&&n.emit(n.source,e)}},get:function(){return a&&(r.wanted[t]=!0),r.box[t]}})}),a.filter(function(e){return e.type===Tf.Scalar&&e.onDemand}).forEach(function(e){var t=e.name;r.demand[t]=e.value,Object.defineProperty(r,t,{get:function(){return r.demand[t]}})}),i&&(a.forEach(function(e){var t=e.name,n=e.type,a=e.value,s=r[t];n===Tf.Function?s=s.bind(r):n===Tf.WorkflowRunner?s=r.getPromisifiedMethod(s,a):n===Tf.Reactive&&o[t]&&(s=i[t]),Object.defineProperty(i,t,{configurable:!1,get:function(){return n===Tf.Scalar?r[t]:s}})}),delete i.reactiveConfiguredProps)}return Object.defineProperty(e.prototype,"workflow",{get:function(){return this.getWorkflow()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"reloadCount",{get:function(){return this.reloadCounter},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"reloadId",{get:function(){return this.id+"."+this.reloadCounter},enumerable:!1,configurable:!0}),e.prototype.getPromisifiedMethod=function(e,t){var n=this;return function(){for(var r=[],i=0;i<arguments.length;i++)r[i]=arguments[i];return n.relax$?new Promise(function(t){n.relax$&&n.relax$.once(function(e){return t(e)}),e.apply(n,r)}):t.apply(n,r)}},e.prototype.initialize=function(e,t,n,r){var i=this;if(Object.defineProperty(this.demand,If.itemsCount,{get:function(){return e.getVisibleItemsCount()}}),Object.defineProperty(this.demand,If.bufferInfo,{get:function(){return{firstIndex:e.firstIndex,lastIndex:e.lastIndex,minIndex:e.minIndex,maxIndex:e.maxIndex,absMinIndex:e.absMinIndex,absMaxIndex:e.absMaxIndex}}}),this.bof=e.bof.get(),e.bof.on(function(e){return i.bof=e}),this.eof=e.eof.get(),e.eof.on(function(e){return i.eof=e}),Object.defineProperty(this.demand,If.packageInfo,{get:function(){return t.packageInfo}}),this.loopPending=t.cycle.innerLoop.busy.get(),t.cycle.innerLoop.busy.on(function(e){return i.loopPending=e}),this.isLoading=t.cycle.busy.get(),t.cycle.busy.on(function(e){return i.isLoading=e}),this.logger=n,r){this.relax$||(this.relax$=new Af);var o=this.relax$;r.on(function(e){var t=e.status,n=e.payload,r=function(){};t===Sp.start?r=i.isLoading$.on(function(e){e||(r(),o.set({success:!0,immediate:!1,details:null}))}):t!==Sp.done&&t!==Sp.error||(r(),o.set({success:t!==Sp.error,immediate:!0,details:t===Sp.error&&n?String(n.error):null}))})}this.init=!0},e.prototype.dispose=function(){this.relax$&&this.relax$.dispose(),Object.values(this.source).forEach(function(e){return e.dispose()}),this.init=!1},e.prototype.reset=function(e){this.reloadCounter++,this.logger.logAdapterMethod("reset",e," of "+this.reloadId),this.workflow.call({process:Cp.reset,status:Sp.start,payload:{options:e}})},e.prototype.reload=function(e){this.reloadCounter++,this.logger.logAdapterMethod("reload",e," of "+this.reloadId),this.workflow.call({process:Cp.reload,status:Sp.start,payload:{options:e}})},e.prototype.append=function(e,t){var n=cm(!1,e,t);this.logger.logAdapterMethod("append",[n.items,n.eof]),this.workflow.call({process:Cp.append,status:Sp.start,payload:{options:n}})},e.prototype.prepend=function(e,t){var n=cm(!0,e,t);this.logger.logAdapterMethod("prepend",[n.items,n.bof]),this.workflow.call({process:Cp.prepend,status:Sp.start,payload:{options:n}})},e.prototype.check=function(){this.logger.logAdapterMethod("check"),this.workflow.call({process:Cp.check,status:Sp.start})},e.prototype.remove=function(e){e=function(e){return um(e,"predicate")||um(e,"indexes")||(e={predicate:e}),e}(e),this.logger.logAdapterMethod("remove",e),this.workflow.call({process:Cp.remove,status:Sp.start,payload:{options:e}})},e.prototype.clip=function(e){this.logger.logAdapterMethod("clip",e),this.workflow.call({process:Cp.clip,status:Sp.start,payload:{options:e}})},e.prototype.insert=function(e){this.logger.logAdapterMethod("insert",e),this.workflow.call({process:Cp.insert,status:Sp.start,payload:{options:e}})},e.prototype.replace=function(e){this.logger.logAdapterMethod("replace",e),this.workflow.call({process:Cp.replace,status:Sp.start,payload:{options:e}})},e.prototype.fix=function(e){this.logger.logAdapterMethod("fix",e),this.workflow.call({process:Cp.fix,status:Sp.start,payload:{options:e}})},e.prototype.relaxUnchained=function(e,t){var n=this,r=function(){return"function"==typeof e&&t===n.reloadId&&e()};return this.isLoading||r(),new Promise(function(e){n.isLoading?n.isLoading$.once(function(){r(),e(!1)}):e(!0)}).then(function(e){var r=t===n.reloadId;return n.logger.log(function(){return r?void 0:"relax promise cancelled due to "+t+" != "+n.reloadId}),{immediate:e,success:r,details:r?null:"Interrupted by reload or reset"}})},e.prototype.relax=function(e){var t=this,n=this.reloadId;return this.logger.logAdapterMethod("relax",e," of "+n),this.init?this.relaxRun=this.relaxRun?this.relaxRun.then(function(){return t.relaxUnchained(e,n)}):this.relaxUnchained(e,n).then(function(e){return t.relaxRun=null,e}):Promise.resolve(Rf)},e.prototype.showLog=function(){this.logger.logAdapterMethod("showLog"),this.logger.logForce()},e}(),dm=0,hm=function(){function e(e){var t=e.datasource,n=e.consumer,r=e.element,i=e.workflow,o=e.scroller,a=op(t,pp).params.get;if(!a.isValid)throw new Error("Invalid datasource: "+a.errors[0]);var s=o?o.state.packageInfo:{consumer:n,core:Lf};r=o?o.viewport.element:r,this.workflow=i=o?o.workflow:i,this.settings=new pv(t.settings,t.devSettings,++dm),this.logger=new Uv(this,s),this.routines=new Bv(this.settings),this.state=new am(s,this.settings,o?o.state:void 0),this.buffer=new Zv(this.settings,i.onDataChanged,this.logger),this.viewport=new qv(r,this.settings,this.routines,this.state,this.logger),this.logger.object("uiScroll settings object",this.settings,!0),this.initDatasource(t,o)}return e.prototype.initDatasource=function(e,t){var n=this;if(t)return this.datasource=e,void(this.adapter=t.adapter);var r=e instanceof Bf,i=!r&&!this.settings.adapter;if(r)this.datasource=e;else{var o=Hf(function(){return{mock:i}});this.datasource=new o(e),this.settings.adapter&&(e.adapter=this.datasource.adapter)}this.adapter=new lm(i?null:this.datasource.adapter,function(){return n.workflow},this.logger)},e.prototype.init=function(e){this.viewport.reset(this.buffer.startIndex),this.logger.stat("initialization"),this.adapter.initialize(this.buffer,this.state,this.logger,e)},e.prototype.dispose=function(e){e&&this.adapter.dispose(),this.buffer.dispose(),this.state.dispose()},e.prototype.finalize=function(){},e}(),fm=function(){function e(e){var t=this,n=e.element,r=e.datasource,i=e.consumer,o=e.run;this.isInitialized=!1,this.initTimer=null,this.adapterRun$=new Af,this.cyclesDone=0,this.interruptionCount=0,this.errors=[],this.disposeScrollEventHandler=function(){return null},this.propagateChanges=o,this.stateMachineMethods={run:this.runProcess(),interrupt:this.interrupt.bind(this),done:this.done.bind(this),onError:this.onError.bind(this)},this.scroller=new hm({element:n,datasource:r,consumer:i,workflow:this.getUpdater()}),this.scroller.settings.initializeDelay?this.initTimer=setTimeout(function(){t.initTimer=null,t.init()},this.scroller.settings.initializeDelay):this.init()}return e.prototype.init=function(){var e=this;this.scroller.init(this.adapterRun$),this.isInitialized=!0,this.callWorkflow({process:_p.init,status:Sp.start});var t=this.scroller.viewport.scrollEventReceiver,n=function(t){return e.callWorkflow({process:_p.scroll,status:Sp.start,payload:{event:t}})};t.addEventListener("scroll",n),this.disposeScrollEventHandler=function(){return t.removeEventListener("scroll",n)}},e.prototype.changeItems=function(e){this.propagateChanges(e)},e.prototype.callWorkflow=function(e){if(this.isInitialized){var t=e.process,n=e.status;t&&t.startsWith("adapter")&&n!==Sp.next&&this.adapterRun$.set(e),this.process(e)}},e.prototype.getUpdater=function(){return{call:this.callWorkflow.bind(this),onDataChanged:this.changeItems.bind(this)}},e.prototype.process=function(e){var t=e.status,n=e.process,r=e.payload;this.scroller.settings.logProcessRun&&this.scroller.logger.log(function(){return Sf(["%cfire%c"],["color: #cc7777;","color: #000000;"],[n,'"'+t+'"'],void 0!==r?[r]:[])}),this.scroller.logger.logProcess(e),n===_p.end&&this.scroller.finalize(),function(e){var t=e.input,n=t.process,r=t.status,i=t.payload,o=void 0===i?{}:i,a=e.methods,s=a.run,u=a.interrupt,c=a.done;if(r===Sp.error)return(0,a.onError)(n,o),void(n.startsWith("adapter")||s(Fv)(o));var l=o.options;switch(n){case _p.init:r===Sp.start&&s(yv)(n),r===Sp.next&&s(Mv)();break;case _p.scroll:r===Sp.start&&s(bv)(o),r===Sp.next&&s(yv)(n);break;case Cp.reset:case Cp.reload:r===Sp.start&&(n===Cp.reset?s(wv)(l):s(xv)(l)),r===Sp.next&&(u(kf({process:n},o)),o.finalize?s(Fv)():s(yv)(n));break;case Cp.append:case Cp.prepend:r===Sp.start&&s(_v)({process:n,options:l}),r===Sp.next&&s(yv)(n);break;case Cp.check:r===Sp.start&&s(Cv)(),r===Sp.next&&s(yv)(n);break;case Cp.remove:r===Sp.start&&s(Sv)(l),r===Sp.next&&s(yv)(n);break;case Cp.clip:r===Sp.start&&s(Iv)(l),r===Sp.next&&s(yv)(n);break;case Cp.insert:r===Sp.start&&s(Tv)(l),r===Sp.next&&s(yv)(n);break;case Cp.replace:r===Sp.start&&s(Av)(l),r===Sp.next&&s(yv)(n);break;case Cp.fix:r===Sp.start&&s(Ov)(l),r===Sp.next&&s(yv)(n);break;case _p.start:switch(o.process){case Cp.append:case Cp.check:case Cp.insert:case Cp.replace:s(Vv)();break;case Cp.remove:s(zv)();break;default:s(Dv)()}break;case _p.preFetch:if(r===Sp.next)switch(o.process){case Cp.clip:s(jv)();break;default:s(Rv)()}r===Sp.done&&s(Fv)();break;case _p.fetch:s(Pv)();break;case _p.postFetch:r===Sp.next&&s(Vv)(),r===Sp.done&&s(Fv)();break;case _p.render:if(r===Sp.next)switch(o.process){case Cp.append:case Cp.check:case Cp.insert:case Cp.remove:s(Nv)();break;case Cp.replace:s(zv)();break;default:s(jv)()}r===Sp.done&&s(Fv)();break;case _p.preClip:o.doClip?s(zv)():s(Nv)();break;case _p.clip:switch(o.process){case Cp.remove:s(Fv)();break;default:s(Nv)()}break;case _p.adjust:s(Fv)();break;case _p.end:if(r===Sp.next)switch(o.process){case Cp.reset:case Cp.reload:c(),s(yv)(o.process);break;default:s(Mv)()}r===Sp.done&&c()}}({input:e,methods:this.stateMachineMethods})},e.prototype.runProcess=function(){var e=this;return function(t){var n=t.run,r=t.process,i=t.name;return function(){for(var t=[],o=0;o<arguments.length;o++)t[o]=arguments[o];e.scroller.settings.logProcessRun&&e.scroller.logger.log(function(){return Sf(["%crun%c"],["color: #333399;","color: #000000;"],[r||i],t)}),n.apply(void 0,Sf([e.scroller],t))}}},e.prototype.onError=function(e,t){var n=t&&String(t.error)||"",r=this.scroller.state;this.errors.push({process:e,message:n,time:r.time,loop:r.cycle.loopIdNext}),this.scroller.logger.logError(n)},e.prototype.interrupt=function(e){var t=this,n=e.process,r=e.datasource;if(e.finalize){var i=this.scroller,o=i.workflow,a=i.logger;o.call=function(e){return a.log("[skip wf call]")},o.call.interrupted=!0,this.scroller.workflow=this.getUpdater(),this.interruptionCount++,a.log(function(){return"workflow had been interrupted by the "+n+" process ("+t.interruptionCount+")"})}r&&this.scroller.adapter.relax(function(){t.scroller.logger.log("new Scroller instantiation");var e=new hm({datasource:r,scroller:t.scroller});t.scroller.dispose(),t.scroller=e,t.scroller.init()})},e.prototype.done=function(){var e=this.scroller,t=e.state,n=e.logger;this.cyclesDone++,n.logCycle(!1),t.cycle.done(this.cyclesDone+1),this.finalize()},e.prototype.dispose=function(){this.initTimer&&clearTimeout(this.initTimer),this.disposeScrollEventHandler(),this.adapterRun$.dispose(),this.scroller.dispose(!0),this.isInitialized=!1},e.prototype.finalize=function(){},e}(),pm={name:"ngx-ui-scroll",version:"2.0.0-rc.6"},vm=["ui-scroll",""];function mm(e,t){}var gm=function(e,t,n,r){return{$implicit:e,index:t,odd:n,even:r}};function ym(e,t){if(1&e&&(Sa(0,"div"),wa(1,mm,0,0,"ng-template",3),Ia()),2&e){var n=t.$implicit,r=Na();Za("position",n.invisible?"fixed":null)("left",n.invisible?"-99999px":null),ya("data-sid",n.nodeId),Hi(1),_a("ngTemplateOutlet",r.template)("ngTemplateOutletContext",(i=7,o=gm,a=n.data,s=n.$index,u=n.$index%2,c=!(n.$index%2),function(e,t,n,r,i,o,a,s,u){var c=t+n;return function(e,t,n,r,i,o){var a=ga(e,t,n,r);return ga(e,t+2,i,o)||a}(e,c,i,o,a,s)?va(e,c+4,u?r.call(u,i,o,a,s):r(i,o,a,s)):Du(e,c+4)}(Jt(),ln(),i,o,a,s,u,c,l)))}var i,o,a,s,u,c,l}var bm=function(){function e(e,t){this.changeDetector=e,this.elementRef=t,this.items=[]}return e.prototype.ngOnInit=function(){var e=this;this.workflow=new fm({consumer:pm,element:this.elementRef.nativeElement,datasource:this.datasource,run:function(t){(t.length||e.items.length)&&(e.items=t,e.changeDetector.detectChanges())}})},e.prototype.ngOnDestroy=function(){this.workflow.dispose()},e.\u0275fac=function(t){return new(t||e)(ka(iu),ka(Ns))},e.\u0275cmp=at({type:e,selectors:[["","ui-scroll",""]],attrs:vm,decls:3,vars:1,consts:[["data-padding-backward",""],[3,"position","left",4,"ngFor","ngForOf"],["data-padding-forward",""],[3,"ngTemplateOutlet","ngTemplateOutletContext"]],template:function(e,t){1&e&&(Ta(0,"div",0),wa(1,ym,2,12,"div",1),Ta(2,"div",2)),2&e&&(Hi(1),_a("ngForOf",t.items))},directives:[Al,Rl],encapsulation:2,changeDetection:0}),e}(),wm=function(){function e(e,t,n){this.templateRef=e,this.viewContainer=t,this.resolver=n}return Object.defineProperty(e.prototype,"uiScrollOf",{set:function(e){this.datasource=e},enumerable:!1,configurable:!0}),e.prototype.ngOnInit=function(){var e=this.resolver.resolveComponentFactory(bm),t=this.viewContainer.createComponent(e,void 0,this.viewContainer.injector);t.instance.datasource=this.datasource,t.instance.template=this.templateRef},e.\u0275fac=function(t){return new(t||e)(ka(du),ka(gu),ka(Ds))},e.\u0275dir=ht({type:e,selectors:[["","uiScroll","","uiScrollOf",""]],inputs:{uiScrollOf:"uiScrollOf"}}),e}(),xm=function(e){y(n,e);var t=x(n);function n(e){var r;return g(this,n),(r=t.call(this))._value=e,r}return m(n,[{key:"_subscribe",value:function(e){var t=i(r(n.prototype),"_subscribe",this).call(this,e);return t&&!t.closed&&e.next(this._value),t}},{key:"getValue",value:function(){if(this.hasError)throw this.thrownError;if(this.closed)throw new U;return this._value}},{key:"next",value:function(e){i(r(n.prototype),"next",this).call(this,this._value=e)}},{key:"value",get:function(){return this.getValue()}}]),n}($),km=function(){return{source:new $,emit:function(e,t){return e.next(t)}}},_m=function(){return{source:new xm(jf),emit:function(e,t){return e.next(t)}}},Cm=Hf(function(){var e;return{mock:!1,reactive:(e={},e[If.init$]=km(),e[If.isLoading$]=km(),e[If.loopPending$]=km(),e[If.firstVisible$]=_m(),e[If.lastVisible$]=_m(),e[If.bof$]=km(),e[If.eof$]=km(),e)}}),Sm=function(e){y(n,e);var t=x(n);function n(){return g(this,n),t.apply(this,arguments)}return m(n,[{key:"notifyNext",value:function(e,t,n,r,i){this.destination.next(t)}},{key:"notifyError",value:function(e,t){this.destination.error(e)}},{key:"notifyComplete",value:function(e){this.destination.complete()}}]),n}(P),Im=function(e){y(n,e);var t=x(n);function n(e,r,i){var o;return g(this,n),(o=t.call(this)).parent=e,o.outerValue=r,o.outerIndex=i,o.index=0,o}return m(n,[{key:"_next",value:function(e){this.parent.notifyNext(this.outerValue,e,this.outerIndex,this.index++,this)}},{key:"_error",value:function(e){this.parent.notifyError(e,this),this.unsubscribe()}},{key:"_complete",value:function(){this.parent.notifyComplete(this),this.unsubscribe()}}]),n}(P);function Tm(e,t,n,r){var i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:new Im(e,n,r);if(!i.closed)return t instanceof L?t.subscribe(i):te(t)(i)}var Am={};function Em(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];var r=void 0,i=void 0;return W(t[t.length-1])&&(i=t.pop()),"function"==typeof t[t.length-1]&&(r=t.pop()),1===t.length&&_(t[0])&&(t=t[0]),de(t,i).lift(new Om(r))}var Om=function(){function e(t){g(this,e),this.resultSelector=t}return m(e,[{key:"call",value:function(e,t){return t.subscribe(new Mm(e,this.resultSelector))}}]),e}(),Mm=function(e){y(n,e);var t=x(n);function n(e,r){var i;return g(this,n),(i=t.call(this,e)).resultSelector=r,i.active=0,i.values=[],i.observables=[],i}return m(n,[{key:"_next",value:function(e){this.values.push(Am),this.observables.push(e)}},{key:"_complete",value:function(){var e=this.observables,t=e.length;if(0===t)this.destination.complete();else{this.active=t,this.toRespond=t;for(var n=0;n<t;n++)this.add(Tm(this,e[n],void 0,n))}}},{key:"notifyComplete",value:function(e){0==(this.active-=1)&&this.destination.complete()}},{key:"notifyNext",value:function(e,t,n){var r=this.values,i=this.toRespond?r[n]===Am?--this.toRespond:this.toRespond:0;r[n]=t,0===i&&(this.resultSelector?this._tryResultSelector(r):this.destination.next(r.slice()))}},{key:"_tryResultSelector",value:function(e){var t;try{t=this.resultSelector.apply(this,e)}catch(n){return void this.destination.error(n)}this.destination.next(t)}}]),n}(Sm),Dm=function(){function e(){return Error.call(this),this.message="no elements in sequence",this.name="EmptyError",this}return e.prototype=Object.create(Error.prototype),e}(),Rm=new L(function(e){return e.complete()});function Pm(e){return e?function(e){return new L(function(t){return e.schedule(function(){return t.complete()})})}(e):Rm}function Vm(e){return new L(function(t){var n;try{n=e()}catch(r){return void t.error(r)}return(n?re(n):Pm()).subscribe(t)})}function Nm(e,t){return"function"==typeof t?function(n){return n.pipe(Nm(function(n,r){return re(e(n,r)).pipe(G(function(e,i){return t(n,e,r,i)}))}))}:function(t){return t.lift(new jm(e))}}var jm=function(){function e(t){g(this,e),this.project=t}return m(e,[{key:"call",value:function(e,t){return t.subscribe(new zm(e,this.project))}}]),e}(),zm=function(e){y(n,e);var t=x(n);function n(e,r){var i;return g(this,n),(i=t.call(this,e)).project=r,i.index=0,i}return m(n,[{key:"_next",value:function(e){var t,n=this.index++;try{t=this.project(e,n)}catch(r){return void this.destination.error(r)}this._innerSub(t)}},{key:"_innerSub",value:function(e){var t=this.innerSubscription;t&&t.unsubscribe();var n=new ie(this),r=this.destination;r.add(n),this.innerSubscription=ae(e,n),this.innerSubscription!==n&&r.add(this.innerSubscription)}},{key:"_complete",value:function(){var e=this.innerSubscription;e&&!e.closed||i(r(n.prototype),"_complete",this).call(this),this.unsubscribe()}},{key:"_unsubscribe",value:function(){this.innerSubscription=void 0}},{key:"notifyComplete",value:function(){this.innerSubscription=void 0,this.isStopped&&i(r(n.prototype),"_complete",this).call(this)}},{key:"notifyNext",value:function(e){this.destination.next(e)}}]),n}(oe),Lm=function(){function e(){return Error.call(this),this.message="argument out of range",this.name="ArgumentOutOfRangeError",this}return e.prototype=Object.create(Error.prototype),e}();function Fm(e){return function(t){return 0===e?Pm():t.lift(new Um(e))}}var Um=function(){function e(t){if(g(this,e),this.total=t,this.total<0)throw new Lm}return m(e,[{key:"call",value:function(e,t){return t.subscribe(new Bm(e,this.total))}}]),e}(),Bm=function(e){y(n,e);var t=x(n);function n(e,r){var i;return g(this,n),(i=t.call(this,e)).total=r,i.count=0,i}return m(n,[{key:"_next",value:function(e){var t=this.total,n=++this.count;n<=t&&(this.destination.next(e),n===t&&(this.destination.complete(),this.unsubscribe()))}}]),n}(P);function Hm(){return le(1)}function $m(){return Hm()(Sh.apply(void 0,arguments))}function qm(e,t){var n=!1;return arguments.length>=2&&(n=!0),function(r){return r.lift(new Wm(e,t,n))}}var Wm=function(){function e(t,n){var r=arguments.length>2&&void 0!==arguments[2]&&arguments[2];g(this,e),this.accumulator=t,this.seed=n,this.hasSeed=r}return m(e,[{key:"call",value:function(e,t){return t.subscribe(new Gm(e,this.accumulator,this.seed,this.hasSeed))}}]),e}(),Gm=function(e){y(n,e);var t=x(n);function n(e,r,i,o){var a;return g(this,n),(a=t.call(this,e)).accumulator=r,a._seed=i,a.hasSeed=o,a.index=0,a}return m(n,[{key:"_next",value:function(e){if(this.hasSeed)return this._tryNext(e);this.seed=e,this.destination.next(e)}},{key:"_tryNext",value:function(e){var t,n=this.index++;try{t=this.accumulator(this.seed,e,n)}catch(r){this.destination.error(r)}this.seed=t,this.destination.next(t)}},{key:"seed",get:function(){return this._seed},set:function(e){this.hasSeed=!0,this._seed=e}}]),n}(P);function Xm(e){return function(t){var n=new Zm(e),r=t.lift(n);return n.caught=r}}var Zm=function(){function e(t){g(this,e),this.selector=t}return m(e,[{key:"call",value:function(e,t){return t.subscribe(new Qm(e,this.selector,this.caught))}}]),e}(),Qm=function(e){y(n,e);var t=x(n);function n(e,r,i){var o;return g(this,n),(o=t.call(this,e)).selector=r,o.caught=i,o}return m(n,[{key:"error",value:function(e){if(!this.isStopped){var t;try{t=this.selector(e,this.caught)}catch(s){return void i(r(n.prototype),"error",this).call(this,s)}this._unsubscribeAndRecycle();var o=new ie(this);this.add(o);var a=ae(t,o);a!==o&&this.add(a)}}}]),n}(oe);function Km(e){return function(t){return 0===e?Pm():t.lift(new Ym(e))}}var Ym=function(){function e(t){if(g(this,e),this.total=t,this.total<0)throw new Lm}return m(e,[{key:"call",value:function(e,t){return t.subscribe(new Jm(e,this.total))}}]),e}(),Jm=function(e){y(n,e);var t=x(n);function n(e,r){var i;return g(this,n),(i=t.call(this,e)).total=r,i.ring=new Array,i.count=0,i}return m(n,[{key:"_next",value:function(e){var t=this.ring,n=this.total,r=this.count++;t.length<n?t.push(e):t[r%n]=e}},{key:"_complete",value:function(){var e=this.destination,t=this.count;if(t>0)for(var n=this.count>=this.total?this.total:this.count,r=this.ring,i=0;i<n;i++){var o=t++%n;e.next(r[o])}e.complete()}}]),n}(P);function eg(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:rg;return function(t){return t.lift(new tg(e))}}var tg=function(){function e(t){g(this,e),this.errorFactory=t}return m(e,[{key:"call",value:function(e,t){return t.subscribe(new ng(e,this.errorFactory))}}]),e}(),ng=function(e){y(n,e);var t=x(n);function n(e,r){var i;return g(this,n),(i=t.call(this,e)).errorFactory=r,i.hasValue=!1,i}return m(n,[{key:"_next",value:function(e){this.hasValue=!0,this.destination.next(e)}},{key:"_complete",value:function(){if(this.hasValue)return this.destination.complete();var e;try{e=this.errorFactory()}catch(t){e=t}this.destination.error(e)}}]),n}(P);function rg(){return new Dm}function ig(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;return function(t){return t.lift(new og(e))}}var og=function(){function e(t){g(this,e),this.defaultValue=t}return m(e,[{key:"call",value:function(e,t){return t.subscribe(new ag(e,this.defaultValue))}}]),e}(),ag=function(e){y(n,e);var t=x(n);function n(e,r){var i;return g(this,n),(i=t.call(this,e)).defaultValue=r,i.isEmpty=!0,i}return m(n,[{key:"_next",value:function(e){this.isEmpty=!1,this.destination.next(e)}},{key:"_complete",value:function(){this.isEmpty&&this.destination.next(this.defaultValue),this.destination.complete()}}]),n}(P);function sg(e,t){var n=arguments.length>=2;return function(r){return r.pipe(e?Th(function(t,n){return e(t,n,r)}):j,Fm(1),n?ig(t):eg(function(){return new Dm}))}}function ug(){}function cg(e,t,n){return function(r){return r.lift(new lg(e,t,n))}}var lg=function(){function e(t,n,r){g(this,e),this.nextOrObserver=t,this.error=n,this.complete=r}return m(e,[{key:"call",value:function(e,t){return t.subscribe(new dg(e,this.nextOrObserver,this.error,this.complete))}}]),e}(),dg=function(e){y(n,e);var t=x(n);function n(e,r,i,a){var s;return g(this,n),(s=t.call(this,e))._tapNext=ug,s._tapError=ug,s._tapComplete=ug,s._tapError=i||ug,s._tapComplete=a||ug,S(r)?(s._context=o(s),s._tapNext=r):r&&(s._context=r,s._tapNext=r.next||ug,s._tapError=r.error||ug,s._tapComplete=r.complete||ug),s}return m(n,[{key:"_next",value:function(e){try{this._tapNext.call(this._context,e)}catch(t){return void this.destination.error(t)}this.destination.next(e)}},{key:"_error",value:function(e){try{this._tapError.call(this._context,e)}catch(e){return void this.destination.error(e)}this.destination.error(e)}},{key:"_complete",value:function(){try{this._tapComplete.call(this._context)}catch(e){return void this.destination.error(e)}return this.destination.complete()}}]),n}(P),hg=function(){function e(t){g(this,e),this.callback=t}return m(e,[{key:"call",value:function(e,t){return t.subscribe(new fg(e,this.callback))}}]),e}(),fg=function(e){y(n,e);var t=x(n);function n(e,r){var i;return g(this,n),(i=t.call(this,e)).add(new T(r)),i}return n}(P),pg=function e(t,n){g(this,e),this.id=t,this.url=n},vg=function(e){y(n,e);var t=x(n);function n(e,r){var i,o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"imperative",a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;return g(this,n),(i=t.call(this,e,r)).navigationTrigger=o,i.restoredState=a,i}return m(n,[{key:"toString",value:function(){return"NavigationStart(id: ".concat(this.id,", url: '").concat(this.url,"')")}}]),n}(pg),mg=function(e){y(n,e);var t=x(n);function n(e,r,i){var o;return g(this,n),(o=t.call(this,e,r)).urlAfterRedirects=i,o}return m(n,[{key:"toString",value:function(){return"NavigationEnd(id: ".concat(this.id,", url: '").concat(this.url,"', urlAfterRedirects: '").concat(this.urlAfterRedirects,"')")}}]),n}(pg),gg=function(e){y(n,e);var t=x(n);function n(e,r,i){var o;return g(this,n),(o=t.call(this,e,r)).reason=i,o}return m(n,[{key:"toString",value:function(){return"NavigationCancel(id: ".concat(this.id,", url: '").concat(this.url,"')")}}]),n}(pg),yg=function(e){y(n,e);var t=x(n);function n(e,r,i){var o;return g(this,n),(o=t.call(this,e,r)).error=i,o}return m(n,[{key:"toString",value:function(){return"NavigationError(id: ".concat(this.id,", url: '").concat(this.url,"', error: ").concat(this.error,")")}}]),n}(pg),bg=function(e){y(n,e);var t=x(n);function n(e,r,i,o){var a;return g(this,n),(a=t.call(this,e,r)).urlAfterRedirects=i,a.state=o,a}return m(n,[{key:"toString",value:function(){return"RoutesRecognized(id: ".concat(this.id,", url: '").concat(this.url,"', urlAfterRedirects: '").concat(this.urlAfterRedirects,"', state: ").concat(this.state,")")}}]),n}(pg),wg=function(e){y(n,e);var t=x(n);function n(e,r,i,o){var a;return g(this,n),(a=t.call(this,e,r)).urlAfterRedirects=i,a.state=o,a}return m(n,[{key:"toString",value:function(){return"GuardsCheckStart(id: ".concat(this.id,", url: '").concat(this.url,"', urlAfterRedirects: '").concat(this.urlAfterRedirects,"', state: ").concat(this.state,")")}}]),n}(pg),xg=function(e){y(n,e);var t=x(n);function n(e,r,i,o,a){var s;return g(this,n),(s=t.call(this,e,r)).urlAfterRedirects=i,s.state=o,s.shouldActivate=a,s}return m(n,[{key:"toString",value:function(){return"GuardsCheckEnd(id: ".concat(this.id,", url: '").concat(this.url,"', urlAfterRedirects: '").concat(this.urlAfterRedirects,"', state: ").concat(this.state,", shouldActivate: ").concat(this.shouldActivate,")")}}]),n}(pg),kg=function(e){y(n,e);var t=x(n);function n(e,r,i,o){var a;return g(this,n),(a=t.call(this,e,r)).urlAfterRedirects=i,a.state=o,a}return m(n,[{key:"toString",value:function(){return"ResolveStart(id: ".concat(this.id,", url: '").concat(this.url,"', urlAfterRedirects: '").concat(this.urlAfterRedirects,"', state: ").concat(this.state,")")}}]),n}(pg),_g=function(e){y(n,e);var t=x(n);function n(e,r,i,o){var a;return g(this,n),(a=t.call(this,e,r)).urlAfterRedirects=i,a.state=o,a}return m(n,[{key:"toString",value:function(){return"ResolveEnd(id: ".concat(this.id,", url: '").concat(this.url,"', urlAfterRedirects: '").concat(this.urlAfterRedirects,"', state: ").concat(this.state,")")}}]),n}(pg),Cg=function(){function e(t){g(this,e),this.route=t}return m(e,[{key:"toString",value:function(){return"RouteConfigLoadStart(path: ".concat(this.route.path,")")}}]),e}(),Sg=function(){function e(t){g(this,e),this.route=t}return m(e,[{key:"toString",value:function(){return"RouteConfigLoadEnd(path: ".concat(this.route.path,")")}}]),e}(),Ig=function(){function e(t){g(this,e),this.snapshot=t}return m(e,[{key:"toString",value:function(){return"ChildActivationStart(path: '".concat(this.snapshot.routeConfig&&this.snapshot.routeConfig.path||"","')")}}]),e}(),Tg=function(){function e(t){g(this,e),this.snapshot=t}return m(e,[{key:"toString",value:function(){return"ChildActivationEnd(path: '".concat(this.snapshot.routeConfig&&this.snapshot.routeConfig.path||"","')")}}]),e}(),Ag=function(){function e(t){g(this,e),this.snapshot=t}return m(e,[{key:"toString",value:function(){return"ActivationStart(path: '".concat(this.snapshot.routeConfig&&this.snapshot.routeConfig.path||"","')")}}]),e}(),Eg=function(){function e(t){g(this,e),this.snapshot=t}return m(e,[{key:"toString",value:function(){return"ActivationEnd(path: '".concat(this.snapshot.routeConfig&&this.snapshot.routeConfig.path||"","')")}}]),e}(),Og=function(){function e(t,n,r){g(this,e),this.routerEvent=t,this.position=n,this.anchor=r}return m(e,[{key:"toString",value:function(){var e=this.position?"".concat(this.position[0],", ").concat(this.position[1]):null;return"Scroll(anchor: '".concat(this.anchor,"', position: '").concat(e,"')")}}]),e}(),Mg="primary",Dg=function(){function e(t){g(this,e),this.params=t||{}}return m(e,[{key:"has",value:function(e){return Object.prototype.hasOwnProperty.call(this.params,e)}},{key:"get",value:function(e){if(this.has(e)){var t=this.params[e];return Array.isArray(t)?t[0]:t}return null}},{key:"getAll",value:function(e){if(this.has(e)){var t=this.params[e];return Array.isArray(t)?t:[t]}return[]}},{key:"keys",get:function(){return Object.keys(this.params)}}]),e}();function Rg(e){return new Dg(e)}function Pg(e){var t=Error("NavigationCancelingError: "+e);return t.ngNavigationCancelingError=!0,t}function Vg(e,t,n){var r=n.path.split("/");if(r.length>e.length)return null;if("full"===n.pathMatch&&(t.hasChildren()||r.length<e.length))return null;for(var i={},o=0;o<r.length;o++){var a=r[o],s=e[o];if(a.startsWith(":"))i[a.substring(1)]=s;else if(a!==s.path)return null}return{consumed:e.slice(0,r.length),posParams:i}}function Ng(e,t){var n,r=Object.keys(e),i=Object.keys(t);if(!r||!i||r.length!=i.length)return!1;for(var o=0;o<r.length;o++)if(!jg(e[n=r[o]],t[n]))return!1;return!0}function jg(e,t){if(Array.isArray(e)&&Array.isArray(t)){if(e.length!==t.length)return!1;var n=d(e).sort(),r=d(t).sort();return n.every(function(e,t){return r[t]===e})}return e===t}function zg(e){return Array.prototype.concat.apply([],e)}function Lg(e){return e.length>0?e[e.length-1]:null}function Fg(e,t){for(var n in e)e.hasOwnProperty(n)&&t(e[n],n)}function Ug(e){return Oa(e)?e:Ea(e)?re(Promise.resolve(e)):Sh(e)}function Bg(e,t,n){return n?function(e,t){return Ng(e,t)}(e.queryParams,t.queryParams)&&Hg(e.root,t.root):function(e,t){return Object.keys(t).length<=Object.keys(e).length&&Object.keys(t).every(function(n){return jg(e[n],t[n])})}(e.queryParams,t.queryParams)&&$g(e.root,t.root)}function Hg(e,t){if(!Zg(e.segments,t.segments))return!1;if(e.numberOfChildren!==t.numberOfChildren)return!1;for(var n in t.children){if(!e.children[n])return!1;if(!Hg(e.children[n],t.children[n]))return!1}return!0}function $g(e,t){return qg(e,t,t.segments)}function qg(e,t,n){if(e.segments.length>n.length)return!!Zg(e.segments.slice(0,n.length),n)&&!t.hasChildren();if(e.segments.length===n.length){if(!Zg(e.segments,n))return!1;for(var r in t.children){if(!e.children[r])return!1;if(!$g(e.children[r],t.children[r]))return!1}return!0}var i=n.slice(0,e.segments.length),o=n.slice(e.segments.length);return!!Zg(e.segments,i)&&!!e.children.primary&&qg(e.children.primary,t,o)}var Wg=function(){function e(t,n,r){g(this,e),this.root=t,this.queryParams=n,this.fragment=r}return m(e,[{key:"toString",value:function(){return Yg.serialize(this)}},{key:"queryParamMap",get:function(){return this._queryParamMap||(this._queryParamMap=Rg(this.queryParams)),this._queryParamMap}}]),e}(),Gg=function(){function e(t,n){var r=this;g(this,e),this.segments=t,this.children=n,this.parent=null,Fg(n,function(e,t){return e.parent=r})}return m(e,[{key:"hasChildren",value:function(){return this.numberOfChildren>0}},{key:"toString",value:function(){return Jg(this)}},{key:"numberOfChildren",get:function(){return Object.keys(this.children).length}}]),e}(),Xg=function(){function e(t,n){g(this,e),this.path=t,this.parameters=n}return m(e,[{key:"toString",value:function(){return ay(this)}},{key:"parameterMap",get:function(){return this._parameterMap||(this._parameterMap=Rg(this.parameters)),this._parameterMap}}]),e}();function Zg(e,t){return e.length===t.length&&e.every(function(e,n){return e.path===t[n].path})}var Qg=function e(){g(this,e)},Kg=function(){function e(){g(this,e)}return m(e,[{key:"parse",value:function(e){var t=new dy(e);return new Wg(t.parseRootSegment(),t.parseQueryParams(),t.parseFragment())}},{key:"serialize",value:function(e){var t,n,r="/".concat(ey(e.root,!0)),i=(t=e.queryParams,(n=Object.keys(t).map(function(e){var n=t[e];return Array.isArray(n)?n.map(function(t){return"".concat(ny(e),"=").concat(ny(t))}).join("&"):"".concat(ny(e),"=").concat(ny(n))})).length?"?".concat(n.join("&")):""),o="string"==typeof e.fragment?"#".concat(encodeURI(e.fragment)):"";return"".concat(r).concat(i).concat(o)}}]),e}(),Yg=new Kg;function Jg(e){return e.segments.map(function(e){return ay(e)}).join("/")}function ey(e,t){if(!e.hasChildren())return Jg(e);if(t){var n=e.children.primary?ey(e.children.primary,!1):"",r=[];return Fg(e.children,function(e,t){t!==Mg&&r.push("".concat(t,":").concat(ey(e,!1)))}),r.length>0?"".concat(n,"(").concat(r.join("//"),")"):n}var i=function(e,t){var n=[];return Fg(e.children,function(e,r){r===Mg&&(n=n.concat(t(e,r)))}),Fg(e.children,function(e,r){r!==Mg&&(n=n.concat(t(e,r)))}),n}(e,function(t,n){return n===Mg?[ey(e.children.primary,!1)]:["".concat(n,":").concat(ey(t,!1))]});return 1===Object.keys(e.children).length&&null!=e.children.primary?"".concat(Jg(e),"/").concat(i[0]):"".concat(Jg(e),"/(").concat(i.join("//"),")")}function ty(e){return encodeURIComponent(e).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function ny(e){return ty(e).replace(/%3B/gi,";")}function ry(e){return ty(e).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function iy(e){return decodeURIComponent(e)}function oy(e){return iy(e.replace(/\+/g,"%20"))}function ay(e){return"".concat(ry(e.path)).concat((t=e.parameters,Object.keys(t).map(function(e){return";".concat(ry(e),"=").concat(ry(t[e]))}).join("")));var t}var sy=/^[^\/()?;=#]+/;function uy(e){var t=e.match(sy);return t?t[0]:""}var cy=/^[^=?&#]+/,ly=/^[^?&#]+/,dy=function(){function e(t){g(this,e),this.url=t,this.remaining=t}return m(e,[{key:"parseRootSegment",value:function(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new Gg([],{}):new Gg([],this.parseChildren())}},{key:"parseQueryParams",value:function(){var e={};if(this.consumeOptional("?"))do{this.parseQueryParam(e)}while(this.consumeOptional("&"));return e}},{key:"parseFragment",value:function(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}},{key:"parseChildren",value:function(){if(""===this.remaining)return{};this.consumeOptional("/");var e=[];for(this.peekStartsWith("(")||e.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),e.push(this.parseSegment());var t={};this.peekStartsWith("/(")&&(this.capture("/"),t=this.parseParens(!0));var n={};return this.peekStartsWith("(")&&(n=this.parseParens(!1)),(e.length>0||Object.keys(t).length>0)&&(n.primary=new Gg(e,t)),n}},{key:"parseSegment",value:function(){var e=uy(this.remaining);if(""===e&&this.peekStartsWith(";"))throw new Error("Empty path url segment cannot have parameters: '".concat(this.remaining,"'."));return this.capture(e),new Xg(iy(e),this.parseMatrixParams())}},{key:"parseMatrixParams",value:function(){for(var e={};this.consumeOptional(";");)this.parseParam(e);return e}},{key:"parseParam",value:function(e){var t=uy(this.remaining);if(t){this.capture(t);var n="";if(this.consumeOptional("=")){var r=uy(this.remaining);r&&this.capture(n=r)}e[iy(t)]=iy(n)}}},{key:"parseQueryParam",value:function(e){var t,n=(t=this.remaining.match(cy))?t[0]:"";if(n){this.capture(n);var r="";if(this.consumeOptional("=")){var i=function(e){var t=e.match(ly);return t?t[0]:""}(this.remaining);i&&this.capture(r=i)}var o=oy(n),a=oy(r);if(e.hasOwnProperty(o)){var s=e[o];Array.isArray(s)||(e[o]=s=[s]),s.push(a)}else e[o]=a}}},{key:"parseParens",value:function(e){var t={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){var n=uy(this.remaining),r=this.remaining[n.length];if("/"!==r&&")"!==r&&";"!==r)throw new Error("Cannot parse url '".concat(this.url,"'"));var i=void 0;n.indexOf(":")>-1?(i=n.substr(0,n.indexOf(":")),this.capture(i),this.capture(":")):e&&(i=Mg);var o=this.parseChildren();t[i]=1===Object.keys(o).length?o.primary:new Gg([],o),this.consumeOptional("//")}return t}},{key:"peekStartsWith",value:function(e){return this.remaining.startsWith(e)}},{key:"consumeOptional",value:function(e){return!!this.peekStartsWith(e)&&(this.remaining=this.remaining.substring(e.length),!0)}},{key:"capture",value:function(e){if(!this.consumeOptional(e))throw new Error('Expected "'.concat(e,'".'))}}]),e}(),hy=function(){function e(t){g(this,e),this._root=t}return m(e,[{key:"parent",value:function(e){var t=this.pathFromRoot(e);return t.length>1?t[t.length-2]:null}},{key:"children",value:function(e){var t=fy(e,this._root);return t?t.children.map(function(e){return e.value}):[]}},{key:"firstChild",value:function(e){var t=fy(e,this._root);return t&&t.children.length>0?t.children[0].value:null}},{key:"siblings",value:function(e){var t=py(e,this._root);return t.length<2?[]:t[t.length-2].children.map(function(e){return e.value}).filter(function(t){return t!==e})}},{key:"pathFromRoot",value:function(e){return py(e,this._root).map(function(e){return e.value})}},{key:"root",get:function(){return this._root.value}}]),e}();function fy(e,t){if(e===t.value)return t;var n,r=l(t.children);try{for(r.s();!(n=r.n()).done;){var i=fy(e,n.value);if(i)return i}}catch(o){r.e(o)}finally{r.f()}return null}function py(e,t){if(e===t.value)return[t];var n,r=l(t.children);try{for(r.s();!(n=r.n()).done;){var i=py(e,n.value);if(i.length)return i.unshift(t),i}}catch(o){r.e(o)}finally{r.f()}return[]}var vy=function(){function e(t,n){g(this,e),this.value=t,this.children=n}return m(e,[{key:"toString",value:function(){return"TreeNode(".concat(this.value,")")}}]),e}();function my(e){var t={};return e&&e.children.forEach(function(e){return t[e.value.outlet]=e}),t}var gy=function(e){y(n,e);var t=x(n);function n(e,r){var i;return g(this,n),(i=t.call(this,e)).snapshot=r,Cy(o(i),e),i}return m(n,[{key:"toString",value:function(){return this.snapshot.toString()}}]),n}(hy);function yy(e,t){var n=function(e,t){var n=new ky([],{},{},"",{},Mg,t,null,e.root,-1,{});return new _y("",new vy(n,[]))}(e,t),r=new xm([new Xg("",{})]),i=new xm({}),o=new xm({}),a=new xm({}),s=new xm(""),u=new by(r,i,a,s,o,Mg,t,n.root);return u.snapshot=n.root,new gy(new vy(u,[]),n)}var by=function(){function e(t,n,r,i,o,a,s,u){g(this,e),this.url=t,this.params=n,this.queryParams=r,this.fragment=i,this.data=o,this.outlet=a,this.component=s,this._futureSnapshot=u}return m(e,[{key:"toString",value:function(){return this.snapshot?this.snapshot.toString():"Future(".concat(this._futureSnapshot,")")}},{key:"routeConfig",get:function(){return this._futureSnapshot.routeConfig}},{key:"root",get:function(){return this._routerState.root}},{key:"parent",get:function(){return this._routerState.parent(this)}},{key:"firstChild",get:function(){return this._routerState.firstChild(this)}},{key:"children",get:function(){return this._routerState.children(this)}},{key:"pathFromRoot",get:function(){return this._routerState.pathFromRoot(this)}},{key:"paramMap",get:function(){return this._paramMap||(this._paramMap=this.params.pipe(G(function(e){return Rg(e)}))),this._paramMap}},{key:"queryParamMap",get:function(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe(G(function(e){return Rg(e)}))),this._queryParamMap}}]),e}();function wy(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"emptyOnly",n=e.pathFromRoot,r=0;if("always"!==t)for(r=n.length-1;r>=1;){var i=n[r],o=n[r-1];if(i.routeConfig&&""===i.routeConfig.path)r--;else{if(o.component)break;r--}}return xy(n.slice(r))}function xy(e){return e.reduce(function(e,t){return{params:Object.assign(Object.assign({},e.params),t.params),data:Object.assign(Object.assign({},e.data),t.data),resolve:Object.assign(Object.assign({},e.resolve),t._resolvedData)}},{params:{},data:{},resolve:{}})}var ky=function(){function e(t,n,r,i,o,a,s,u,c,l,d){g(this,e),this.url=t,this.params=n,this.queryParams=r,this.fragment=i,this.data=o,this.outlet=a,this.component=s,this.routeConfig=u,this._urlSegment=c,this._lastPathIndex=l,this._resolve=d}return m(e,[{key:"toString",value:function(){var e=this.url.map(function(e){return e.toString()}).join("/"),t=this.routeConfig?this.routeConfig.path:"";return"Route(url:'".concat(e,"', path:'").concat(t,"')")}},{key:"root",get:function(){return this._routerState.root}},{key:"parent",get:function(){return this._routerState.parent(this)}},{key:"firstChild",get:function(){return this._routerState.firstChild(this)}},{key:"children",get:function(){return this._routerState.children(this)}},{key:"pathFromRoot",get:function(){return this._routerState.pathFromRoot(this)}},{key:"paramMap",get:function(){return this._paramMap||(this._paramMap=Rg(this.params)),this._paramMap}},{key:"queryParamMap",get:function(){return this._queryParamMap||(this._queryParamMap=Rg(this.queryParams)),this._queryParamMap}}]),e}(),_y=function(e){y(n,e);var t=x(n);function n(e,r){var i;return g(this,n),(i=t.call(this,r)).url=e,Cy(o(i),r),i}return m(n,[{key:"toString",value:function(){return Sy(this._root)}}]),n}(hy);function Cy(e,t){t.value._routerState=e,t.children.forEach(function(t){return Cy(e,t)})}function Sy(e){var t=e.children.length>0?" { ".concat(e.children.map(Sy).join(", ")," } "):"";return"".concat(e.value).concat(t)}function Iy(e){if(e.snapshot){var t=e.snapshot,n=e._futureSnapshot;e.snapshot=n,Ng(t.queryParams,n.queryParams)||e.queryParams.next(n.queryParams),t.fragment!==n.fragment&&e.fragment.next(n.fragment),Ng(t.params,n.params)||e.params.next(n.params),function(e,t){if(e.length!==t.length)return!1;for(var n=0;n<e.length;++n)if(!Ng(e[n],t[n]))return!1;return!0}(t.url,n.url)||e.url.next(n.url),Ng(t.data,n.data)||e.data.next(n.data)}else e.snapshot=e._futureSnapshot,e.data.next(e._futureSnapshot.data)}function Ty(e,t){var n,r;return Ng(e.params,t.params)&&Zg(n=e.url,r=t.url)&&n.every(function(e,t){return Ng(e.parameters,r[t].parameters)})&&!(!e.parent!=!t.parent)&&(!e.parent||Ty(e.parent,t.parent))}function Ay(e,t,n){if(n&&e.shouldReuseRoute(t.value,n.value.snapshot)){var r=n.value;r._futureSnapshot=t.value;var i=function(e,t,n){return t.children.map(function(t){var r,i=l(n.children);try{for(i.s();!(r=i.n()).done;){var o=r.value;if(e.shouldReuseRoute(t.value,o.value.snapshot))return Ay(e,t,o)}}catch(a){i.e(a)}finally{i.f()}return Ay(e,t)})}(e,t,n);return new vy(r,i)}var o=e.retrieve(t.value);if(o){var a=o.route;return Ey(t,a),a}var s,u=new by(new xm((s=t.value).url),new xm(s.params),new xm(s.queryParams),new xm(s.fragment),new xm(s.data),s.outlet,s.component,s),c=t.children.map(function(t){return Ay(e,t)});return new vy(u,c)}function Ey(e,t){if(e.value.routeConfig!==t.value.routeConfig)throw new Error("Cannot reattach ActivatedRouteSnapshot created from a different route");if(e.children.length!==t.children.length)throw new Error("Cannot reattach ActivatedRouteSnapshot with a different number of children");t.value._futureSnapshot=e.value;for(var n=0;n<e.children.length;++n)Ey(e.children[n],t.children[n])}function Oy(e,t,n,r,i){if(0===n.length)return Ry(t.root,t.root,t,r,i);var o=function(e){if("string"==typeof e[0]&&1===e.length&&"/"===e[0])return new Vy(!0,0,e);var t=0,n=!1,r=e.reduce(function(e,r,i){if("object"==typeof r&&null!=r){if(r.outlets){var o={};return Fg(r.outlets,function(e,t){o[t]="string"==typeof e?e.split("/"):e}),[].concat(d(e),[{outlets:o}])}if(r.segmentPath)return[].concat(d(e),[r.segmentPath])}return"string"!=typeof r?[].concat(d(e),[r]):0===i?(r.split("/").forEach(function(r,i){0==i&&"."===r||(0==i&&""===r?n=!0:".."===r?t++:""!=r&&e.push(r))}),e):[].concat(d(e),[r])},[]);return new Vy(n,t,r)}(n);if(o.toRoot())return Ry(t.root,new Gg([],{}),t,r,i);var a=function(e,t,n){if(e.isAbsolute)return new Ny(t.root,!0,0);if(-1===n.snapshot._lastPathIndex){var r=n.snapshot._urlSegment;return new Ny(r,r===t.root,0)}var i=My(e.commands[0])?0:1;return function(e,t,n){for(var r=e,i=t,o=n;o>i;){if(o-=i,!(r=r.parent))throw new Error("Invalid number of '../'");i=r.segments.length}return new Ny(r,!1,i-o)}(n.snapshot._urlSegment,n.snapshot._lastPathIndex+i,e.numberOfDoubleDots)}(o,t,e),s=a.processChildren?zy(a.segmentGroup,a.index,o.commands):jy(a.segmentGroup,a.index,o.commands);return Ry(a.segmentGroup,s,t,r,i)}function My(e){return"object"==typeof e&&null!=e&&!e.outlets&&!e.segmentPath}function Dy(e){return"object"==typeof e&&null!=e&&e.outlets}function Ry(e,t,n,r,i){var o={};return r&&Fg(r,function(e,t){o[t]=Array.isArray(e)?e.map(function(e){return"".concat(e)}):"".concat(e)}),new Wg(n.root===e?t:Py(n.root,e,t),o,i)}function Py(e,t,n){var r={};return Fg(e.children,function(e,i){r[i]=e===t?n:Py(e,t,n)}),new Gg(e.segments,r)}var Vy=function(){function e(t,n,r){if(g(this,e),this.isAbsolute=t,this.numberOfDoubleDots=n,this.commands=r,t&&r.length>0&&My(r[0]))throw new Error("Root segment cannot have matrix parameters");var i=r.find(Dy);if(i&&i!==Lg(r))throw new Error("{outlets:{}} has to be the last command")}return m(e,[{key:"toRoot",value:function(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}]),e}(),Ny=function e(t,n,r){g(this,e),this.segmentGroup=t,this.processChildren=n,this.index=r};function jy(e,t,n){if(e||(e=new Gg([],{})),0===e.segments.length&&e.hasChildren())return zy(e,t,n);var r=function(e,t,n){for(var r=0,i=t,o={match:!1,pathIndex:0,commandIndex:0};i<e.segments.length;){if(r>=n.length)return o;var a=e.segments[i],s=n[r];if(Dy(s))break;var u="".concat(s),c=r<n.length-1?n[r+1]:null;if(i>0&&void 0===u)break;if(u&&c&&"object"==typeof c&&void 0===c.outlets){if(!By(u,c,a))return o;r+=2}else{if(!By(u,{},a))return o;r++}i++}return{match:!0,pathIndex:i,commandIndex:r}}(e,t,n),i=n.slice(r.commandIndex);if(r.match&&r.pathIndex<e.segments.length){var o=new Gg(e.segments.slice(0,r.pathIndex),{});return o.children.primary=new Gg(e.segments.slice(r.pathIndex),e.children),zy(o,0,i)}return r.match&&0===i.length?new Gg(e.segments,{}):r.match&&!e.hasChildren()?Ly(e,t,n):r.match?zy(e,0,i):Ly(e,t,n)}function zy(e,t,n){if(0===n.length)return new Gg(e.segments,{});var r=function(e){return Dy(e[0])?e[0].outlets:c({},Mg,e)}(n),i={};return Fg(r,function(n,r){"string"==typeof n&&(n=[n]),null!==n&&(i[r]=jy(e.children[r],t,n))}),Fg(e.children,function(e,t){void 0===r[t]&&(i[t]=e)}),new Gg(e.segments,i)}function Ly(e,t,n){for(var r=e.segments.slice(0,t),i=0;i<n.length;){var o=n[i];if(Dy(o)){var a=Fy(o.outlets);return new Gg(r,a)}if(0===i&&My(n[0]))r.push(new Xg(e.segments[t].path,n[0])),i++;else{var s=Dy(o)?o.outlets.primary:"".concat(o),u=i<n.length-1?n[i+1]:null;s&&u&&My(u)?(r.push(new Xg(s,Uy(u))),i+=2):(r.push(new Xg(s,{})),i++)}}return new Gg(r,{})}function Fy(e){var t={};return Fg(e,function(e,n){"string"==typeof e&&(e=[e]),null!==e&&(t[n]=Ly(new Gg([],{}),0,e))}),t}function Uy(e){var t={};return Fg(e,function(e,n){return t[n]="".concat(e)}),t}function By(e,t,n){return e==n.path&&Ng(t,n.parameters)}var Hy=function(){function e(t,n,r,i){g(this,e),this.routeReuseStrategy=t,this.futureState=n,this.currState=r,this.forwardEvent=i}return m(e,[{key:"activate",value:function(e){var t=this.futureState._root,n=this.currState?this.currState._root:null;this.deactivateChildRoutes(t,n,e),Iy(this.futureState.root),this.activateChildRoutes(t,n,e)}},{key:"deactivateChildRoutes",value:function(e,t,n){var r=this,i=my(t);e.children.forEach(function(e){var t=e.value.outlet;r.deactivateRoutes(e,i[t],n),delete i[t]}),Fg(i,function(e,t){r.deactivateRouteAndItsChildren(e,n)})}},{key:"deactivateRoutes",value:function(e,t,n){var r=e.value,i=t?t.value:null;if(r===i)if(r.component){var o=n.getContext(r.outlet);o&&this.deactivateChildRoutes(e,t,o.children)}else this.deactivateChildRoutes(e,t,n);else i&&this.deactivateRouteAndItsChildren(t,n)}},{key:"deactivateRouteAndItsChildren",value:function(e,t){this.routeReuseStrategy.shouldDetach(e.value.snapshot)?this.detachAndStoreRouteSubtree(e,t):this.deactivateRouteAndOutlet(e,t)}},{key:"detachAndStoreRouteSubtree",value:function(e,t){var n=t.getContext(e.value.outlet);if(n&&n.outlet){var r=n.outlet.detach(),i=n.children.onOutletDeactivated();this.routeReuseStrategy.store(e.value.snapshot,{componentRef:r,route:e,contexts:i})}}},{key:"deactivateRouteAndOutlet",value:function(e,t){for(var n=t.getContext(e.value.outlet),r=n&&e.value.component?n.children:t,i=my(e),o=0,a=Object.values(i);o<a.length;o++)this.deactivateRouteAndItsChildren(a[o],r);n&&n.outlet&&(n.outlet.deactivate(),n.children.onOutletDeactivated())}},{key:"activateChildRoutes",value:function(e,t,n){var r=this,i=my(t);e.children.forEach(function(e){r.activateRoutes(e,i[e.value.outlet],n),r.forwardEvent(new Eg(e.value.snapshot))}),e.children.length&&this.forwardEvent(new Tg(e.value.snapshot))}},{key:"activateRoutes",value:function(e,t,n){var r=e.value,i=t?t.value:null;if(Iy(r),r===i)if(r.component){var o=n.getOrCreateContext(r.outlet);this.activateChildRoutes(e,t,o.children)}else this.activateChildRoutes(e,t,n);else if(r.component){var a=n.getOrCreateContext(r.outlet);if(this.routeReuseStrategy.shouldAttach(r.snapshot)){var s=this.routeReuseStrategy.retrieve(r.snapshot);this.routeReuseStrategy.store(r.snapshot,null),a.children.onOutletReAttached(s.contexts),a.attachRef=s.componentRef,a.route=s.route.value,a.outlet&&a.outlet.attach(s.componentRef,s.route.value),$y(s.route)}else{var u=function(e){for(var t=e.parent;t;t=t.parent){var n=t.routeConfig;if(n&&n._loadedConfig)return n._loadedConfig;if(n&&n.component)return null}return null}(r.snapshot),c=u?u.module.componentFactoryResolver:null;a.attachRef=null,a.route=r,a.resolver=c,a.outlet&&a.outlet.activateWith(r,c),this.activateChildRoutes(e,null,a.children)}}else this.activateChildRoutes(e,null,n)}}]),e}();function $y(e){Iy(e.value),e.children.forEach($y)}var qy=function e(t,n){g(this,e),this.routes=t,this.module=n};function Wy(e){return"function"==typeof e}function Gy(e){return e instanceof Wg}var Xy=Symbol("INITIAL_VALUE");function Zy(){return Nm(function(e){return Em.apply(void 0,d(e.map(function(e){return e.pipe(Fm(1),function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];var r=t[t.length-1];return W(r)?(t.pop(),function(e){return $m(t,e,r)}):function(e){return $m(t,e)}}(Xy))}))).pipe(qm(function(e,t){var n=!1;return t.reduce(function(e,r,i){if(e!==Xy)return e;if(r===Xy&&(n=!0),!n){if(!1===r)return r;if(i===t.length-1||Gy(r))return r}return e},e)},Xy),Th(function(e){return e!==Xy}),G(function(e){return Gy(e)?e:!0===e}),Fm(1))})}var Qy=function(){var e=function e(){g(this,e)};return e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=at({type:e,selectors:[["ng-component"]],decls:1,vars:0,template:function(e,t){1&e&&Ta(0,"router-outlet")},directives:function(){return[ew]},encapsulation:2}),e}();function Ky(e){for(var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",n=0;n<e.length;n++){var r=e[n],i=Jy(t,r);Yy(r,i)}}function Yy(e,t){e.children&&Ky(e.children,t)}function Jy(e,t){return t?e||t.path?e&&!t.path?"".concat(e,"/"):!e&&t.path?t.path:"".concat(e,"/").concat(t.path):"":e}function eb(e){var t=e.children&&e.children.map(eb),n=t?Object.assign(Object.assign({},e),{children:t}):Object.assign({},e);return!n.component&&(t||n.loadChildren)&&n.outlet&&n.outlet!==Mg&&(n.component=Qy),n}function tb(e){return e.outlet||Mg}function nb(e,t){var n=e.filter(function(e){return tb(e)===t});return n.push.apply(n,d(e.filter(function(e){return tb(e)!==t}))),n}var rb={matched:!1,consumedSegments:[],lastChild:0,parameters:{},positionalParamSegments:{}};function ib(e,t,n){var r;if(""===t.path)return"full"===t.pathMatch&&(e.hasChildren()||n.length>0)?Object.assign({},rb):{matched:!0,consumedSegments:[],lastChild:0,parameters:{},positionalParamSegments:{}};var i=(t.matcher||Vg)(n,e,t);if(!i)return Object.assign({},rb);var o={};Fg(i.posParams,function(e,t){o[t]=e.path});var a=i.consumed.length>0?Object.assign(Object.assign({},o),i.consumed[i.consumed.length-1].parameters):o;return{matched:!0,consumedSegments:i.consumed,lastChild:i.consumed.length,parameters:a,positionalParamSegments:null!==(r=i.posParams)&&void 0!==r?r:{}}}function ob(e,t,n,r){var i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:"corrected";if(n.length>0&&ub(e,n,r)){var o=new Gg(t,sb(e,t,r,new Gg(n,e.children)));return o._sourceSegment=e,o._segmentIndexShift=t.length,{segmentGroup:o,slicedSegments:[]}}if(0===n.length&&cb(e,n,r)){var a=new Gg(e.segments,ab(e,t,n,r,e.children,i));return a._sourceSegment=e,a._segmentIndexShift=t.length,{segmentGroup:a,slicedSegments:n}}var s=new Gg(e.segments,e.children);return s._sourceSegment=e,s._segmentIndexShift=t.length,{segmentGroup:s,slicedSegments:n}}function ab(e,t,n,r,i,o){var a,s={},u=l(r);try{for(u.s();!(a=u.n()).done;){var c=a.value;if(lb(e,n,c)&&!i[tb(c)]){var d=new Gg([],{});d._sourceSegment=e,d._segmentIndexShift="legacy"===o?e.segments.length:t.length,s[tb(c)]=d}}}catch(h){u.e(h)}finally{u.f()}return Object.assign(Object.assign({},i),s)}function sb(e,t,n,r){var i={};i.primary=r,r._sourceSegment=e,r._segmentIndexShift=t.length;var o,a=l(n);try{for(a.s();!(o=a.n()).done;){var s=o.value;if(""===s.path&&tb(s)!==Mg){var u=new Gg([],{});u._sourceSegment=e,u._segmentIndexShift=t.length,i[tb(s)]=u}}}catch(c){a.e(c)}finally{a.f()}return i}function ub(e,t,n){return n.some(function(n){return lb(e,t,n)&&tb(n)!==Mg})}function cb(e,t,n){return n.some(function(n){return lb(e,t,n)})}function lb(e,t,n){return(!(e.hasChildren()||t.length>0)||"full"!==n.pathMatch)&&""===n.path}function db(e,t,n,r){return!!(tb(e)===r||r!==Mg&&lb(t,n,e))&&("**"===e.path||ib(t,e,n).matched)}function hb(e,t,n){return 0===t.length&&!e.children[n]}var fb=function e(t){g(this,e),this.segmentGroup=t||null},pb=function e(t){g(this,e),this.urlTree=t};function vb(e){return new L(function(t){return t.error(new fb(e))})}function mb(e){return new L(function(t){return t.error(new pb(e))})}function gb(e){return new L(function(t){return t.error(new Error("Only absolute redirects can have named outlets. redirectTo: '".concat(e,"'")))})}var yb=function(){function e(t,n,r,i,o){g(this,e),this.configLoader=n,this.urlSerializer=r,this.urlTree=i,this.config=o,this.allowRedirects=!0,this.ngModule=t.get(pu)}return m(e,[{key:"apply",value:function(){var e=this,t=ob(this.urlTree.root,[],[],this.config).segmentGroup,n=new Gg(t.segments,t.children);return this.expandSegmentGroup(this.ngModule,this.config,n,Mg).pipe(G(function(t){return e.createUrlTree(bb(t),e.urlTree.queryParams,e.urlTree.fragment)})).pipe(Xm(function(t){if(t instanceof pb)return e.allowRedirects=!1,e.match(t.urlTree);if(t instanceof fb)throw e.noMatchError(t);throw t}))}},{key:"match",value:function(e){var t=this;return this.expandSegmentGroup(this.ngModule,this.config,e.root,Mg).pipe(G(function(n){return t.createUrlTree(bb(n),e.queryParams,e.fragment)})).pipe(Xm(function(e){if(e instanceof fb)throw t.noMatchError(e);throw e}))}},{key:"noMatchError",value:function(e){return new Error("Cannot match any routes. URL Segment: '".concat(e.segmentGroup,"'"))}},{key:"createUrlTree",value:function(e,t,n){var r=e.segments.length>0?new Gg([],c({},Mg,e)):e;return new Wg(r,t,n)}},{key:"expandSegmentGroup",value:function(e,t,n,r){return 0===n.segments.length&&n.hasChildren()?this.expandChildren(e,t,n).pipe(G(function(e){return new Gg([],e)})):this.expandSegment(e,n,t,n.segments,r,!0)}},{key:"expandChildren",value:function(e,t,n){for(var r=this,i=[],o=0,a=Object.keys(n.children);o<a.length;o++){var s=a[o];"primary"===s?i.unshift(s):i.push(s)}return re(i).pipe(Ih(function(i){var o=n.children[i],a=nb(t,i);return r.expandSegmentGroup(e,a,o,i).pipe(G(function(e){return{segment:e,outlet:i}}))}),qm(function(e,t){return e[t.outlet]=t.segment,e},{}),function(e,t){var n=arguments.length>=2;return function(r){return r.pipe(e?Th(function(t,n){return e(t,n,r)}):j,Km(1),n?ig(t):eg(function(){return new Dm}))}}())}},{key:"expandSegment",value:function(e,t,n,r,i,o){var a=this;return re(n).pipe(Ih(function(s){return a.expandSegmentAgainstRoute(e,t,n,s,r,i,o).pipe(Xm(function(e){if(e instanceof fb)return Sh(null);throw e}))}),sg(function(e){return!!e}),Xm(function(e,n){if(e instanceof Dm||"EmptyError"===e.name){if(hb(t,r,i))return Sh(new Gg([],{}));throw new fb(t)}throw e}))}},{key:"expandSegmentAgainstRoute",value:function(e,t,n,r,i,o,a){return db(r,t,i,o)?void 0===r.redirectTo?this.matchSegmentAgainstRoute(e,t,r,i,o):a&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(e,t,n,r,i,o):vb(t):vb(t)}},{key:"expandSegmentAgainstRouteUsingRedirect",value:function(e,t,n,r,i,o){return"**"===r.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(e,n,r,o):this.expandRegularSegmentAgainstRouteUsingRedirect(e,t,n,r,i,o)}},{key:"expandWildCardWithParamsAgainstRouteUsingRedirect",value:function(e,t,n,r){var i=this,o=this.applyRedirectCommands([],n.redirectTo,{});return n.redirectTo.startsWith("/")?mb(o):this.lineralizeSegments(n,o).pipe(se(function(n){var o=new Gg(n,{});return i.expandSegment(e,o,t,n,r,!1)}))}},{key:"expandRegularSegmentAgainstRouteUsingRedirect",value:function(e,t,n,r,i,o){var a=this,s=ib(t,r,i),u=s.consumedSegments,c=s.lastChild,l=s.positionalParamSegments;if(!s.matched)return vb(t);var d=this.applyRedirectCommands(u,r.redirectTo,l);return r.redirectTo.startsWith("/")?mb(d):this.lineralizeSegments(r,d).pipe(se(function(r){return a.expandSegment(e,t,n,r.concat(i.slice(c)),o,!1)}))}},{key:"matchSegmentAgainstRoute",value:function(e,t,n,r,i){var o=this;if("**"===n.path)return n.loadChildren?this.configLoader.load(e.injector,n).pipe(G(function(e){return n._loadedConfig=e,new Gg(r,{})})):Sh(new Gg(r,{}));var a=ib(t,n,r),s=a.consumedSegments,u=a.lastChild;if(!a.matched)return vb(t);var c=r.slice(u);return this.getChildConfig(e,n,r).pipe(se(function(e){var r=e.module,a=e.routes,u=ob(t,s,c,a),l=u.segmentGroup,d=u.slicedSegments,h=new Gg(l.segments,l.children);if(0===d.length&&h.hasChildren())return o.expandChildren(r,a,h).pipe(G(function(e){return new Gg(s,e)}));if(0===a.length&&0===d.length)return Sh(new Gg(s,{}));var f=tb(n)===i;return o.expandSegment(r,h,a,d,f?Mg:i,!0).pipe(G(function(e){return new Gg(s.concat(e.segments),e.children)}))}))}},{key:"getChildConfig",value:function(e,t,n){var r=this;return t.children?Sh(new qy(t.children,e)):t.loadChildren?void 0!==t._loadedConfig?Sh(t._loadedConfig):this.runCanLoadGuards(e.injector,t,n).pipe(se(function(n){return n?r.configLoader.load(e.injector,t).pipe(G(function(e){return t._loadedConfig=e,e})):function(e){return new L(function(t){return t.error(Pg("Cannot load children because the guard of the route \"path: '".concat(e.path,"'\" returned false")))})}(t)})):Sh(new qy([],e))}},{key:"runCanLoadGuards",value:function(e,t,n){var r=this,i=t.canLoad;return i&&0!==i.length?Sh(i.map(function(r){var i,o=e.get(r);if(function(e){return e&&Wy(e.canLoad)}(o))i=o.canLoad(t,n);else{if(!Wy(o))throw new Error("Invalid CanLoad guard");i=o(t,n)}return Ug(i)})).pipe(Zy(),cg(function(e){if(Gy(e)){var t=Pg('Redirecting to "'.concat(r.urlSerializer.serialize(e),'"'));throw t.url=e,t}}),G(function(e){return!0===e})):Sh(!0)}},{key:"lineralizeSegments",value:function(e,t){for(var n=[],r=t.root;;){if(n=n.concat(r.segments),0===r.numberOfChildren)return Sh(n);if(r.numberOfChildren>1||!r.children.primary)return gb(e.redirectTo);r=r.children.primary}}},{key:"applyRedirectCommands",value:function(e,t,n){return this.applyRedirectCreatreUrlTree(t,this.urlSerializer.parse(t),e,n)}},{key:"applyRedirectCreatreUrlTree",value:function(e,t,n,r){var i=this.createSegmentGroup(e,t.root,n,r);return new Wg(i,this.createQueryParams(t.queryParams,this.urlTree.queryParams),t.fragment)}},{key:"createQueryParams",value:function(e,t){var n={};return Fg(e,function(e,r){if("string"==typeof e&&e.startsWith(":")){var i=e.substring(1);n[r]=t[i]}else n[r]=e}),n}},{key:"createSegmentGroup",value:function(e,t,n,r){var i=this,o=this.createSegments(e,t.segments,n,r),a={};return Fg(t.children,function(t,o){a[o]=i.createSegmentGroup(e,t,n,r)}),new Gg(o,a)}},{key:"createSegments",value:function(e,t,n,r){var i=this;return t.map(function(t){return t.path.startsWith(":")?i.findPosParam(e,t,r):i.findOrReturn(t,n)})}},{key:"findPosParam",value:function(e,t,n){var r=n[t.path.substring(1)];if(!r)throw new Error("Cannot redirect to '".concat(e,"'. Cannot find '").concat(t.path,"'."));return r}},{key:"findOrReturn",value:function(e,t){var n,r=0,i=l(t);try{for(i.s();!(n=i.n()).done;){var o=n.value;if(o.path===e.path)return t.splice(r),o;r++}}catch(a){i.e(a)}finally{i.f()}return e}}]),e}();function bb(e){for(var t={},n=0,r=Object.keys(e.children);n<r.length;n++){var i=r[n],o=bb(e.children[i]);(o.segments.length>0||o.hasChildren())&&(t[i]=o)}return function(e){if(1===e.numberOfChildren&&e.children.primary){var t=e.children.primary;return new Gg(e.segments.concat(t.segments),t.children)}return e}(new Gg(e.segments,t))}var wb=function e(t){g(this,e),this.path=t,this.route=this.path[this.path.length-1]},xb=function e(t,n){g(this,e),this.component=t,this.route=n};function kb(e,t,n){var r=function(e){if(!e)return null;for(var t=e.parent;t;t=t.parent){var n=t.routeConfig;if(n&&n._loadedConfig)return n._loadedConfig}return null}(t);return(r?r.module.injector:n).get(e)}function _b(e,t,n,r){var i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:{canDeactivateChecks:[],canActivateChecks:[]},o=my(t);return e.children.forEach(function(e){Cb(e,o[e.value.outlet],n,r.concat([e.value]),i),delete o[e.value.outlet]}),Fg(o,function(e,t){return Ib(e,n.getContext(t),i)}),i}function Cb(e,t,n,r){var i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:{canDeactivateChecks:[],canActivateChecks:[]},o=e.value,a=t?t.value:null,s=n?n.getContext(e.value.outlet):null;if(a&&o.routeConfig===a.routeConfig){var u=Sb(a,o,o.routeConfig.runGuardsAndResolvers);u?i.canActivateChecks.push(new wb(r)):(o.data=a.data,o._resolvedData=a._resolvedData),_b(e,t,o.component?s?s.children:null:n,r,i),u&&s&&s.outlet&&s.outlet.isActivated&&i.canDeactivateChecks.push(new xb(s.outlet.component,a))}else a&&Ib(t,s,i),i.canActivateChecks.push(new wb(r)),_b(e,null,o.component?s?s.children:null:n,r,i);return i}function Sb(e,t,n){if("function"==typeof n)return n(e,t);switch(n){case"pathParamsChange":return!Zg(e.url,t.url);case"pathParamsOrQueryParamsChange":return!Zg(e.url,t.url)||!Ng(e.queryParams,t.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!Ty(e,t)||!Ng(e.queryParams,t.queryParams);case"paramsChange":default:return!Ty(e,t)}}function Ib(e,t,n){var r=my(e),i=e.value;Fg(r,function(e,r){Ib(e,i.component?t?t.children.getContext(r):null:t,n)}),n.canDeactivateChecks.push(new xb(i.component&&t&&t.outlet&&t.outlet.isActivated?t.outlet.component:null,i))}function Tb(e,t){return null!==e&&t&&t(new Ag(e)),Sh(!0)}function Ab(e,t){return null!==e&&t&&t(new Ig(e)),Sh(!0)}function Eb(e,t,n){var r=t.routeConfig?t.routeConfig.canActivate:null;return r&&0!==r.length?Sh(r.map(function(r){return Vm(function(){var i,o=kb(r,t,n);if(function(e){return e&&Wy(e.canActivate)}(o))i=Ug(o.canActivate(t,e));else{if(!Wy(o))throw new Error("Invalid CanActivate guard");i=Ug(o(t,e))}return i.pipe(sg())})})).pipe(Zy()):Sh(!0)}function Ob(e,t,n){var r=t[t.length-1],i=t.slice(0,t.length-1).reverse().map(function(e){return function(e){var t=e.routeConfig?e.routeConfig.canActivateChild:null;return t&&0!==t.length?{node:e,guards:t}:null}(e)}).filter(function(e){return null!==e}).map(function(t){return Vm(function(){return Sh(t.guards.map(function(i){var o,a=kb(i,t.node,n);if(function(e){return e&&Wy(e.canActivateChild)}(a))o=Ug(a.canActivateChild(r,e));else{if(!Wy(a))throw new Error("Invalid CanActivateChild guard");o=Ug(a(r,e))}return o.pipe(sg())})).pipe(Zy())})});return Sh(i).pipe(Zy())}var Mb=function e(){g(this,e)};function Db(e){return new L(function(t){return t.error(e)})}var Rb=function(){function e(t,n,r,i,o,a){g(this,e),this.rootComponentType=t,this.config=n,this.urlTree=r,this.url=i,this.paramsInheritanceStrategy=o,this.relativeLinkResolution=a}return m(e,[{key:"recognize",value:function(){var e=ob(this.urlTree.root,[],[],this.config.filter(function(e){return void 0===e.redirectTo}),this.relativeLinkResolution).segmentGroup,t=this.processSegmentGroup(this.config,e,Mg);if(null===t)return null;var n=new ky([],Object.freeze({}),Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,{},Mg,this.rootComponentType,null,this.urlTree.root,-1,{}),r=new vy(n,t),i=new _y(this.url,r);return this.inheritParamsAndData(i._root),i}},{key:"inheritParamsAndData",value:function(e){var t=this,n=e.value,r=wy(n,this.paramsInheritanceStrategy);n.params=Object.freeze(r.params),n.data=Object.freeze(r.data),e.children.forEach(function(e){return t.inheritParamsAndData(e)})}},{key:"processSegmentGroup",value:function(e,t,n){return 0===t.segments.length&&t.hasChildren()?this.processChildren(e,t):this.processSegment(e,t,t.segments,n)}},{key:"processChildren",value:function(e,t){for(var n=[],r=0,i=Object.keys(t.children);r<i.length;r++){var o=i[r],a=t.children[o],s=nb(e,o),u=this.processSegmentGroup(s,a,o);if(null===u)return null;n.push.apply(n,d(u))}var c=function(e){var t,n=[],r=l(e);try{var i=function(){var e=t.value;if(!function(e){var t=e.value.routeConfig;return t&&""===t.path&&void 0===t.redirectTo}(e))return n.push(e),"continue";var r,i=n.find(function(t){return e.value.routeConfig===t.value.routeConfig});void 0!==i?(r=i.children).push.apply(r,d(e.children)):n.push(e)};for(r.s();!(t=r.n()).done;)i()}catch(o){r.e(o)}finally{r.f()}return n}(n);return c.sort(function(e,t){return e.value.outlet===Mg?-1:t.value.outlet===Mg?1:e.value.outlet.localeCompare(t.value.outlet)}),c}},{key:"processSegment",value:function(e,t,n,r){var i,o=l(e);try{for(o.s();!(i=o.n()).done;){var a=this.processSegmentAgainstRoute(i.value,t,n,r);if(null!==a)return a}}catch(s){o.e(s)}finally{o.f()}return hb(t,n,r)?[]:null}},{key:"processSegmentAgainstRoute",value:function(e,t,n,r){if(e.redirectTo||!db(e,t,n,r))return null;var i,o=[],a=[];if("**"===e.path){var s=n.length>0?Lg(n).parameters:{};i=new ky(n,s,Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,Nb(e),tb(e),e.component,e,Pb(t),Vb(t)+n.length,jb(e))}else{var u=ib(t,e,n);if(!u.matched)return null;o=u.consumedSegments,a=n.slice(u.lastChild),i=new ky(o,u.parameters,Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,Nb(e),tb(e),e.component,e,Pb(t),Vb(t)+o.length,jb(e))}var c=function(e){return e.children?e.children:e.loadChildren?e._loadedConfig.routes:[]}(e),l=ob(t,o,a,c.filter(function(e){return void 0===e.redirectTo}),this.relativeLinkResolution),d=l.segmentGroup,h=l.slicedSegments;if(0===h.length&&d.hasChildren()){var f=this.processChildren(c,d);return null===f?null:[new vy(i,f)]}if(0===c.length&&0===h.length)return[new vy(i,[])];var p=tb(e)===r,v=this.processSegment(c,d,h,p?Mg:r);return null===v?null:[new vy(i,v)]}}]),e}();function Pb(e){for(var t=e;t._sourceSegment;)t=t._sourceSegment;return t}function Vb(e){for(var t=e,n=t._segmentIndexShift?t._segmentIndexShift:0;t._sourceSegment;)n+=(t=t._sourceSegment)._segmentIndexShift?t._segmentIndexShift:0;return n-1}function Nb(e){return e.data||{}}function jb(e){return e.resolve||{}}function zb(e){return function(t){return t.pipe(Nm(function(t){var n=e(t);return n?re(n).pipe(G(function(){return t})):re([t])}))}}var Lb=function(e){y(n,e);var t=x(n);function n(){return g(this,n),t.apply(this,arguments)}return n}(function(){function e(){g(this,e)}return m(e,[{key:"shouldDetach",value:function(e){return!1}},{key:"store",value:function(e,t){}},{key:"shouldAttach",value:function(e){return!1}},{key:"retrieve",value:function(e){return null}},{key:"shouldReuseRoute",value:function(e,t){return e.routeConfig===t.routeConfig}}]),e}()),Fb=new mr("ROUTES"),Ub=function(){function e(t,n,r,i){g(this,e),this.loader=t,this.compiler=n,this.onLoadStartListener=r,this.onLoadEndListener=i}return m(e,[{key:"load",value:function(e,t){var n=this;return this.onLoadStartListener&&this.onLoadStartListener(t),this.loadModuleFactory(t.loadChildren).pipe(G(function(r){n.onLoadEndListener&&n.onLoadEndListener(t);var i=r.create(e);return new qy(zg(i.injector.get(Fb)).map(eb),i)}))}},{key:"loadModuleFactory",value:function(e){var t=this;return"string"==typeof e?re(this.loader.load(e)):Ug(e()).pipe(se(function(e){return e instanceof vu?Sh(e):re(t.compiler.compileModuleAsync(e))}))}}]),e}(),Bb=function e(){g(this,e),this.outlet=null,this.route=null,this.resolver=null,this.children=new Hb,this.attachRef=null},Hb=function(){function e(){g(this,e),this.contexts=new Map}return m(e,[{key:"onChildOutletCreated",value:function(e,t){var n=this.getOrCreateContext(e);n.outlet=t,this.contexts.set(e,n)}},{key:"onChildOutletDestroyed",value:function(e){var t=this.getContext(e);t&&(t.outlet=null)}},{key:"onOutletDeactivated",value:function(){var e=this.contexts;return this.contexts=new Map,e}},{key:"onOutletReAttached",value:function(e){this.contexts=e}},{key:"getOrCreateContext",value:function(e){var t=this.getContext(e);return t||(t=new Bb,this.contexts.set(e,t)),t}},{key:"getContext",value:function(e){return this.contexts.get(e)||null}}]),e}(),$b=function(){function e(){g(this,e)}return m(e,[{key:"shouldProcessUrl",value:function(e){return!0}},{key:"extract",value:function(e){return e}},{key:"merge",value:function(e,t){return e}}]),e}();function qb(e){throw e}function Wb(e,t,n){return t.parse("/")}function Gb(e,t){return Sh(null)}var Xb=function(){var e=function(){function e(t,n,r,i,o,a,s,u){var c=this;g(this,e),this.rootComponentType=t,this.urlSerializer=n,this.rootContexts=r,this.location=i,this.config=u,this.lastSuccessfulNavigation=null,this.currentNavigation=null,this.lastLocationChangeInfo=null,this.navigationId=0,this.isNgZoneEnabled=!1,this.events=new $,this.errorHandler=qb,this.malformedUriErrorHandler=Wb,this.navigated=!1,this.lastSuccessfulId=-1,this.hooks={beforePreactivation:Gb,afterPreactivation:Gb},this.urlHandlingStrategy=new $b,this.routeReuseStrategy=new Lb,this.onSameUrlNavigation="ignore",this.paramsInheritanceStrategy="emptyOnly",this.urlUpdateStrategy="deferred",this.relativeLinkResolution="corrected",this.ngModule=o.get(pu),this.console=o.get(cc);var l=o.get(kc);this.isNgZoneEnabled=l instanceof kc,this.resetConfig(u),this.currentUrlTree=new Wg(new Gg([],{}),{},null),this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.configLoader=new Ub(a,s,function(e){return c.triggerEvent(new Cg(e))},function(e){return c.triggerEvent(new Sg(e))}),this.routerState=yy(this.currentUrlTree,this.rootComponentType),this.transitions=new xm({id:0,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,extractedUrl:this.urlHandlingStrategy.extract(this.currentUrlTree),urlAfterRedirects:this.urlHandlingStrategy.extract(this.currentUrlTree),rawUrl:this.currentUrlTree,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:"imperative",restoredState:null,currentSnapshot:this.routerState.snapshot,targetSnapshot:null,currentRouterState:this.routerState,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.navigations=this.setupNavigations(this.transitions),this.processNavigations()}return m(e,[{key:"setupNavigations",value:function(e){var t=this,n=this.events;return e.pipe(Th(function(e){return 0!==e.id}),G(function(e){return Object.assign(Object.assign({},e),{extractedUrl:t.urlHandlingStrategy.extract(e.rawUrl)})}),Nm(function(e){var r,i,o,a,s=!1,u=!1;return Sh(e).pipe(cg(function(e){t.currentNavigation={id:e.id,initialUrl:e.currentRawUrl,extractedUrl:e.extractedUrl,trigger:e.source,extras:e.extras,previousNavigation:t.lastSuccessfulNavigation?Object.assign(Object.assign({},t.lastSuccessfulNavigation),{previousNavigation:null}):null}}),Nm(function(e){var r,i,o,a,s=!t.navigated||e.extractedUrl.toString()!==t.browserUrlTree.toString();if(("reload"===t.onSameUrlNavigation||s)&&t.urlHandlingStrategy.shouldProcessUrl(e.rawUrl))return Sh(e).pipe(Nm(function(e){var r=t.transitions.getValue();return n.next(new vg(e.id,t.serializeUrl(e.extractedUrl),e.source,e.restoredState)),r!==t.transitions.getValue()?Rm:[e]}),Nm(function(e){return Promise.resolve(e)}),(r=t.ngModule.injector,i=t.configLoader,o=t.urlSerializer,a=t.config,function(e){return e.pipe(Nm(function(e){return function(e,t,n,r,i){return new yb(e,t,n,r,i).apply()}(r,i,o,e.extractedUrl,a).pipe(G(function(t){return Object.assign(Object.assign({},e),{urlAfterRedirects:t})}))}))}),cg(function(e){t.currentNavigation=Object.assign(Object.assign({},t.currentNavigation),{finalUrl:e.urlAfterRedirects})}),function(e,n,r,i,o){return function(r){return r.pipe(se(function(r){return function(e,t,n,r){var i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:"emptyOnly",o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:"legacy";try{var a=new Rb(e,t,n,r,i,o).recognize();return null===a?Db(new Mb):Sh(a)}catch(s){return Db(s)}}(e,n,r.urlAfterRedirects,(a=r.urlAfterRedirects,t.serializeUrl(a)),i,o).pipe(G(function(e){return Object.assign(Object.assign({},r),{targetSnapshot:e})}));var a}))}}(t.rootComponentType,t.config,0,t.paramsInheritanceStrategy,t.relativeLinkResolution),cg(function(e){"eager"===t.urlUpdateStrategy&&(e.extras.skipLocationChange||t.setBrowserUrl(e.urlAfterRedirects,!!e.extras.replaceUrl,e.id,e.extras.state),t.browserUrlTree=e.urlAfterRedirects)}),cg(function(e){var r=new bg(e.id,t.serializeUrl(e.extractedUrl),t.serializeUrl(e.urlAfterRedirects),e.targetSnapshot);n.next(r)}));if(s&&t.rawUrlTree&&t.urlHandlingStrategy.shouldProcessUrl(t.rawUrlTree)){var u=e.extractedUrl,c=e.source,l=e.restoredState,d=e.extras,h=new vg(e.id,t.serializeUrl(u),c,l);n.next(h);var f=yy(u,t.rootComponentType).snapshot;return Sh(Object.assign(Object.assign({},e),{targetSnapshot:f,urlAfterRedirects:u,extras:Object.assign(Object.assign({},d),{skipLocationChange:!1,replaceUrl:!1})}))}return t.rawUrlTree=e.rawUrl,t.browserUrlTree=e.urlAfterRedirects,e.resolve(null),Rm}),zb(function(e){var n=e.extras;return t.hooks.beforePreactivation(e.targetSnapshot,{navigationId:e.id,appliedUrlTree:e.extractedUrl,rawUrlTree:e.rawUrl,skipLocationChange:!!n.skipLocationChange,replaceUrl:!!n.replaceUrl})}),cg(function(e){var n=new wg(e.id,t.serializeUrl(e.extractedUrl),t.serializeUrl(e.urlAfterRedirects),e.targetSnapshot);t.triggerEvent(n)}),G(function(e){return Object.assign(Object.assign({},e),{guards:(n=e.targetSnapshot,r=e.currentSnapshot,i=t.rootContexts,o=n._root,_b(o,r?r._root:null,i,[o.value]))});var n,r,i,o}),function(e,t){return function(n){return n.pipe(se(function(n){var r=n.targetSnapshot,i=n.currentSnapshot,o=n.guards,a=o.canActivateChecks,s=o.canDeactivateChecks;return 0===s.length&&0===a.length?Sh(Object.assign(Object.assign({},n),{guardsResult:!0})):function(e,t,n,r){return re(e).pipe(se(function(e){return function(e,t,n,r,i){var o=t&&t.routeConfig?t.routeConfig.canDeactivate:null;return o&&0!==o.length?Sh(o.map(function(o){var a,s=kb(o,t,i);if(function(e){return e&&Wy(e.canDeactivate)}(s))a=Ug(s.canDeactivate(e,t,n,r));else{if(!Wy(s))throw new Error("Invalid CanDeactivate guard");a=Ug(s(e,t,n,r))}return a.pipe(sg())})).pipe(Zy()):Sh(!0)}(e.component,e.route,n,t,r)}),sg(function(e){return!0!==e},!0))}(s,r,i,e).pipe(se(function(n){return n&&"boolean"==typeof n?function(e,t,n,r){return re(t).pipe(Ih(function(t){return re([Ab(t.route.parent,r),Tb(t.route,r),Ob(e,t.path,n),Eb(e,t.route,n)]).pipe(Hm(),sg(function(e){return!0!==e},!0))}),sg(function(e){return!0!==e},!0))}(r,a,e,t):Sh(n)}),G(function(e){return Object.assign(Object.assign({},n),{guardsResult:e})}))}))}}(t.ngModule.injector,function(e){return t.triggerEvent(e)}),cg(function(e){if(Gy(e.guardsResult)){var n=Pg('Redirecting to "'.concat(t.serializeUrl(e.guardsResult),'"'));throw n.url=e.guardsResult,n}}),cg(function(e){var n=new xg(e.id,t.serializeUrl(e.extractedUrl),t.serializeUrl(e.urlAfterRedirects),e.targetSnapshot,!!e.guardsResult);t.triggerEvent(n)}),Th(function(e){if(!e.guardsResult){t.resetUrlToCurrentUrlTree();var r=new gg(e.id,t.serializeUrl(e.extractedUrl),"");return n.next(r),e.resolve(!1),!1}return!0}),zb(function(e){if(e.guards.canActivateChecks.length)return Sh(e).pipe(cg(function(e){var n=new kg(e.id,t.serializeUrl(e.extractedUrl),t.serializeUrl(e.urlAfterRedirects),e.targetSnapshot);t.triggerEvent(n)}),Nm(function(e){var r,i,o=!1;return Sh(e).pipe((r=t.paramsInheritanceStrategy,i=t.ngModule.injector,function(e){return e.pipe(se(function(e){var t=e.targetSnapshot,n=e.guards.canActivateChecks;if(!n.length)return Sh(e);var o=0;return re(n).pipe(Ih(function(e){return function(e,t,n,r){return function(e,t,n,r){var i=Object.keys(e);if(0===i.length)return Sh({});var o={};return re(i).pipe(se(function(i){return function(e,t,n,r){var i=kb(e,t,r);return Ug(i.resolve?i.resolve(t,n):i(t,n))}(e[i],t,n,r).pipe(cg(function(e){o[i]=e}))}),Km(1),se(function(){return Object.keys(o).length===i.length?Sh(o):Rm}))}(e._resolve,e,t,r).pipe(G(function(t){return e._resolvedData=t,e.data=Object.assign(Object.assign({},e.data),wy(e,n).resolve),null}))}(e.route,t,r,i)}),cg(function(){return o++}),Km(1),se(function(t){return o===n.length?Sh(e):Rm}))}))}),cg({next:function(){return o=!0},complete:function(){if(!o){var r=new gg(e.id,t.serializeUrl(e.extractedUrl),"At least one route resolver didn't emit any value.");n.next(r),e.resolve(!1)}}}))}),cg(function(e){var n=new _g(e.id,t.serializeUrl(e.extractedUrl),t.serializeUrl(e.urlAfterRedirects),e.targetSnapshot);t.triggerEvent(n)}))}),zb(function(e){var n=e.extras;return t.hooks.afterPreactivation(e.targetSnapshot,{navigationId:e.id,appliedUrlTree:e.extractedUrl,rawUrlTree:e.rawUrl,skipLocationChange:!!n.skipLocationChange,replaceUrl:!!n.replaceUrl})}),G(function(e){var n,r,i,o=(i=Ay(t.routeReuseStrategy,(n=e.targetSnapshot)._root,(r=e.currentRouterState)?r._root:void 0),new gy(i,n));return Object.assign(Object.assign({},e),{targetRouterState:o})}),cg(function(e){t.currentUrlTree=e.urlAfterRedirects,t.rawUrlTree=t.urlHandlingStrategy.merge(t.currentUrlTree,e.rawUrl),t.routerState=e.targetRouterState,"deferred"===t.urlUpdateStrategy&&(e.extras.skipLocationChange||t.setBrowserUrl(t.rawUrlTree,!!e.extras.replaceUrl,e.id,e.extras.state),t.browserUrlTree=e.urlAfterRedirects)}),(i=t.rootContexts,o=t.routeReuseStrategy,a=function(e){return t.triggerEvent(e)},G(function(e){return new Hy(o,e.targetRouterState,e.currentRouterState,a).activate(i),e})),cg({next:function(){s=!0},complete:function(){s=!0}}),(r=function(){if(!s&&!u){t.resetUrlToCurrentUrlTree();var r=new gg(e.id,t.serializeUrl(e.extractedUrl),"Navigation ID ".concat(e.id," is not equal to the current navigation id ").concat(t.navigationId));n.next(r),e.resolve(!1)}t.currentNavigation=null},function(e){return e.lift(new hg(r))}),Xm(function(r){if(u=!0,(s=r)&&s.ngNavigationCancelingError){var i=Gy(r.url);i||(t.navigated=!0,t.resetStateAndUrl(e.currentRouterState,e.currentUrlTree,e.rawUrl));var o=new gg(e.id,t.serializeUrl(e.extractedUrl),r.message);n.next(o),i?setTimeout(function(){var n=t.urlHandlingStrategy.merge(r.url,t.rawUrlTree);return t.scheduleNavigation(n,"imperative",null,{skipLocationChange:e.extras.skipLocationChange,replaceUrl:"eager"===t.urlUpdateStrategy},{resolve:e.resolve,reject:e.reject,promise:e.promise})},0):e.resolve(!1)}else{t.resetStateAndUrl(e.currentRouterState,e.currentUrlTree,e.rawUrl);var a=new yg(e.id,t.serializeUrl(e.extractedUrl),r);n.next(a);try{e.resolve(t.errorHandler(r))}catch(c){e.reject(c)}}var s;return Rm}))}))}},{key:"resetRootComponentType",value:function(e){this.rootComponentType=e,this.routerState.root.component=this.rootComponentType}},{key:"getTransition",value:function(){var e=this.transitions.value;return e.urlAfterRedirects=this.browserUrlTree,e}},{key:"setTransition",value:function(e){this.transitions.next(Object.assign(Object.assign({},this.getTransition()),e))}},{key:"initialNavigation",value:function(){this.setUpLocationChangeListener(),0===this.navigationId&&this.navigateByUrl(this.location.path(!0),{replaceUrl:!0})}},{key:"setUpLocationChangeListener",value:function(){var e=this;this.locationSubscription||(this.locationSubscription=this.location.subscribe(function(t){var n=e.extractLocationChangeInfoFromEvent(t);e.shouldScheduleNavigation(e.lastLocationChangeInfo,n)&&setTimeout(function(){var t=n.source,r=n.state,i=n.urlTree,o={replaceUrl:!0};if(r){var a=Object.assign({},r);delete a.navigationId,0!==Object.keys(a).length&&(o.state=a)}e.scheduleNavigation(i,t,r,o)},0),e.lastLocationChangeInfo=n}))}},{key:"extractLocationChangeInfoFromEvent",value:function(e){var t;return{source:"popstate"===e.type?"popstate":"hashchange",urlTree:this.parseUrl(e.url),state:(null===(t=e.state)||void 0===t?void 0:t.navigationId)?e.state:null,transitionId:this.getTransition().id}}},{key:"shouldScheduleNavigation",value:function(e,t){if(!e)return!0;var n=t.urlTree.toString()===e.urlTree.toString();return!(t.transitionId===e.transitionId&&n&&("hashchange"===t.source&&"popstate"===e.source||"popstate"===t.source&&"hashchange"===e.source))}},{key:"getCurrentNavigation",value:function(){return this.currentNavigation}},{key:"triggerEvent",value:function(e){this.events.next(e)}},{key:"resetConfig",value:function(e){Ky(e),this.config=e.map(eb),this.navigated=!1,this.lastSuccessfulId=-1}},{key:"ngOnDestroy",value:function(){this.dispose()}},{key:"dispose",value:function(){this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=void 0)}},{key:"createUrlTree",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.relativeTo,r=t.queryParams,i=t.fragment,o=t.queryParamsHandling,a=t.preserveFragment,s=n||this.routerState.root,u=a?this.currentUrlTree.fragment:i,c=null;switch(o){case"merge":c=Object.assign(Object.assign({},this.currentUrlTree.queryParams),r);break;case"preserve":c=this.currentUrlTree.queryParams;break;default:c=r||null}return null!==c&&(c=this.removeEmptyProps(c)),Oy(s,this.currentUrlTree,e,c,u)}},{key:"navigateByUrl",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{skipLocationChange:!1},n=Gy(e)?e:this.parseUrl(e),r=this.urlHandlingStrategy.merge(n,this.rawUrlTree);return this.scheduleNavigation(r,"imperative",null,t)}},{key:"navigate",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{skipLocationChange:!1};return Zb(e),this.navigateByUrl(this.createUrlTree(e,t),t)}},{key:"serializeUrl",value:function(e){return this.urlSerializer.serialize(e)}},{key:"parseUrl",value:function(e){var t;try{t=this.urlSerializer.parse(e)}catch(n){t=this.malformedUriErrorHandler(n,this.urlSerializer,e)}return t}},{key:"isActive",value:function(e,t){if(Gy(e))return Bg(this.currentUrlTree,e,t);var n=this.parseUrl(e);return Bg(this.currentUrlTree,n,t)}},{key:"removeEmptyProps",value:function(e){return Object.keys(e).reduce(function(t,n){var r=e[n];return null!=r&&(t[n]=r),t},{})}},{key:"processNavigations",value:function(){var e=this;this.navigations.subscribe(function(t){e.navigated=!0,e.lastSuccessfulId=t.id,e.events.next(new mg(t.id,e.serializeUrl(t.extractedUrl),e.serializeUrl(e.currentUrlTree))),e.lastSuccessfulNavigation=e.currentNavigation,e.currentNavigation=null,t.resolve(!0)},function(t){e.console.warn("Unhandled Navigation Error: ")})}},{key:"scheduleNavigation",value:function(e,t,n,r,i){var o,a,s,u=this.getTransition(),c="imperative"!==t&&"imperative"===(null==u?void 0:u.source),l=(this.lastSuccessfulId===u.id||this.currentNavigation?u.rawUrl:u.urlAfterRedirects).toString()===e.toString();if(c&&l)return Promise.resolve(!0);i?(o=i.resolve,a=i.reject,s=i.promise):s=new Promise(function(e,t){o=e,a=t});var d=++this.navigationId;return this.setTransition({id:d,source:t,restoredState:n,currentUrlTree:this.currentUrlTree,currentRawUrl:this.rawUrlTree,rawUrl:e,extras:r,resolve:o,reject:a,promise:s,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),s.catch(function(e){return Promise.reject(e)})}},{key:"setBrowserUrl",value:function(e,t,n,r){var i=this.urlSerializer.serialize(e);r=r||{},this.location.isCurrentPathEqualTo(i)||t?this.location.replaceState(i,"",Object.assign(Object.assign({},r),{navigationId:n})):this.location.go(i,"",Object.assign(Object.assign({},r),{navigationId:n}))}},{key:"resetStateAndUrl",value:function(e,t,n){this.routerState=e,this.currentUrlTree=t,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,n),this.resetUrlToCurrentUrlTree()}},{key:"resetUrlToCurrentUrlTree",value:function(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",{navigationId:this.lastSuccessfulId})}},{key:"url",get:function(){return this.serializeUrl(this.currentUrlTree)}}]),e}();return e.\u0275fac=function(t){return new(t||e)(Lr(yr),Lr(Qg),Lr(Hb),Lr(bl),Lr(ra),Lr(Gc),Lr(bc),Lr(void 0))},e.\u0275prov=Ae({token:e,factory:e.\u0275fac}),e}();function Zb(e){for(var t=0;t<e.length;t++){var n=e[t];if(null==n)throw new Error("The requested path contains ".concat(n," segment at index ").concat(t))}}var Qb=function(){var e=function(){function e(t,n,r,i,o){g(this,e),this.router=t,this.route=n,this.commands=[],this.onChanges=new $,null==r&&i.setAttribute(o.nativeElement,"tabindex","0")}return m(e,[{key:"ngOnChanges",value:function(e){this.onChanges.next(this)}},{key:"onClick",value:function(){var e={skipLocationChange:Yb(this.skipLocationChange),replaceUrl:Yb(this.replaceUrl),state:this.state};return this.router.navigateByUrl(this.urlTree,e),!0}},{key:"routerLink",set:function(e){this.commands=null!=e?Array.isArray(e)?e:[e]:[]}},{key:"urlTree",get:function(){return this.router.createUrlTree(this.commands,{relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:Yb(this.preserveFragment)})}}]),e}();return e.\u0275fac=function(t){return new(t||e)(ka(Xb),ka(by),fr("tabindex"),ka(zs),ka(Ns))},e.\u0275dir=ht({type:e,selectors:[["","routerLink","",5,"a",5,"area"]],hostBindings:function(e,t){1&e&&Ma("click",function(){return t.onClick()})},inputs:{routerLink:"routerLink",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",preserveFragment:"preserveFragment",skipLocationChange:"skipLocationChange",replaceUrl:"replaceUrl",state:"state"},features:[Ot]}),e}(),Kb=function(){var e=function(){function e(t,n,r){var i=this;g(this,e),this.router=t,this.route=n,this.locationStrategy=r,this.commands=[],this.onChanges=new $,this.subscription=t.events.subscribe(function(e){e instanceof mg&&i.updateTargetUrlAndHref()})}return m(e,[{key:"ngOnChanges",value:function(e){this.updateTargetUrlAndHref(),this.onChanges.next(this)}},{key:"ngOnDestroy",value:function(){this.subscription.unsubscribe()}},{key:"onClick",value:function(e,t,n,r,i){if(0!==e||t||n||r||i)return!0;if("string"==typeof this.target&&"_self"!=this.target)return!0;var o={skipLocationChange:Yb(this.skipLocationChange),replaceUrl:Yb(this.replaceUrl),state:this.state};return this.router.navigateByUrl(this.urlTree,o),!1}},{key:"updateTargetUrlAndHref",value:function(){this.href=this.locationStrategy.prepareExternalUrl(this.router.serializeUrl(this.urlTree))}},{key:"routerLink",set:function(e){this.commands=null!=e?Array.isArray(e)?e:[e]:[]}},{key:"urlTree",get:function(){return this.router.createUrlTree(this.commands,{relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:Yb(this.preserveFragment)})}}]),e}();return e.\u0275fac=function(t){return new(t||e)(ka(Xb),ka(by),ka(pl))},e.\u0275dir=ht({type:e,selectors:[["a","routerLink",""],["area","routerLink",""]],hostVars:2,hostBindings:function(e,t){1&e&&Ma("click",function(e){return t.onClick(e.button,e.ctrlKey,e.shiftKey,e.altKey,e.metaKey)}),2&e&&(hs("href",t.href,Gr),ya("target",t.target))},inputs:{routerLink:"routerLink",target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",preserveFragment:"preserveFragment",skipLocationChange:"skipLocationChange",replaceUrl:"replaceUrl",state:"state"},features:[Ot]}),e}();function Yb(e){return""===e||!!e}var Jb=function(){var e=function(){function e(t,n,r,i,o,a){var s=this;g(this,e),this.router=t,this.element=n,this.renderer=r,this.cdr=i,this.link=o,this.linkWithHref=a,this.classes=[],this.isActive=!1,this.routerLinkActiveOptions={exact:!1},this.routerEventsSubscription=t.events.subscribe(function(e){e instanceof mg&&s.update()})}return m(e,[{key:"ngAfterContentInit",value:function(){var e=this;re([this.links.changes,this.linksWithHrefs.changes,Sh(null)]).pipe(le()).subscribe(function(t){e.update(),e.subscribeToEachLinkOnChanges()})}},{key:"subscribeToEachLinkOnChanges",value:function(){var e,t=this;null===(e=this.linkInputChangesSubscription)||void 0===e||e.unsubscribe();var n=[].concat(d(this.links.toArray()),d(this.linksWithHrefs.toArray()),[this.link,this.linkWithHref]).filter(function(e){return!!e}).map(function(e){return e.onChanges});this.linkInputChangesSubscription=re(n).pipe(le()).subscribe(function(e){t.isActive!==t.isLinkActive(t.router)(e)&&t.update()})}},{key:"ngOnChanges",value:function(e){this.update()}},{key:"ngOnDestroy",value:function(){var e;this.routerEventsSubscription.unsubscribe(),null===(e=this.linkInputChangesSubscription)||void 0===e||e.unsubscribe()}},{key:"update",value:function(){var e=this;this.links&&this.linksWithHrefs&&this.router.navigated&&Promise.resolve().then(function(){var t=e.hasActiveLinks();e.isActive!==t&&(e.isActive=t,e.cdr.markForCheck(),e.classes.forEach(function(n){t?e.renderer.addClass(e.element.nativeElement,n):e.renderer.removeClass(e.element.nativeElement,n)}))})}},{key:"isLinkActive",value:function(e){var t=this;return function(n){return e.isActive(n.urlTree,t.routerLinkActiveOptions.exact)}}},{key:"hasActiveLinks",value:function(){var e=this.isLinkActive(this.router);return this.link&&e(this.link)||this.linkWithHref&&e(this.linkWithHref)||this.links.some(e)||this.linksWithHrefs.some(e)}},{key:"routerLinkActive",set:function(e){var t=Array.isArray(e)?e:e.split(" ");this.classes=t.filter(function(e){return!!e})}}]),e}();return e.\u0275fac=function(t){return new(t||e)(ka(Xb),ka(Ns),ka(zs),ka(iu),ka(Qb,8),ka(Kb,8))},e.\u0275dir=ht({type:e,selectors:[["","routerLinkActive",""]],contentQueries:function(e,t,n){var r;1&e&&(Zu(n,Qb,!0),Zu(n,Kb,!0)),2&e&&(Xu(r=Qu())&&(t.links=r),Xu(r=Qu())&&(t.linksWithHrefs=r))},inputs:{routerLinkActiveOptions:"routerLinkActiveOptions",routerLinkActive:"routerLinkActive"},exportAs:["routerLinkActive"],features:[Ot]}),e}(),ew=function(){var e=function(){function e(t,n,r,i,o){g(this,e),this.parentContexts=t,this.location=n,this.resolver=r,this.changeDetector=o,this.activated=null,this._activatedRoute=null,this.activateEvents=new Nu,this.deactivateEvents=new Nu,this.name=i||Mg,t.onChildOutletCreated(this.name,this)}return m(e,[{key:"ngOnDestroy",value:function(){this.parentContexts.onChildOutletDestroyed(this.name)}},{key:"ngOnInit",value:function(){if(!this.activated){var e=this.parentContexts.getContext(this.name);e&&e.route&&(e.attachRef?this.attach(e.attachRef,e.route):this.activateWith(e.route,e.resolver||null))}}},{key:"detach",value:function(){if(!this.activated)throw new Error("Outlet is not activated");this.location.detach();var e=this.activated;return this.activated=null,this._activatedRoute=null,e}},{key:"attach",value:function(e,t){this.activated=e,this._activatedRoute=t,this.location.insert(e.hostView)}},{key:"deactivate",value:function(){if(this.activated){var e=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(e)}}},{key:"activateWith",value:function(e,t){if(this.isActivated)throw new Error("Cannot activate an already activated outlet");this._activatedRoute=e;var n=(t=t||this.resolver).resolveComponentFactory(e._futureSnapshot.routeConfig.component),r=this.parentContexts.getOrCreateContext(this.name).children,i=new tw(e,r,this.location.injector);this.activated=this.location.createComponent(n,this.location.length,i),this.changeDetector.markForCheck(),this.activateEvents.emit(this.activated.instance)}},{key:"isActivated",get:function(){return!!this.activated}},{key:"component",get:function(){if(!this.activated)throw new Error("Outlet is not activated");return this.activated.instance}},{key:"activatedRoute",get:function(){if(!this.activated)throw new Error("Outlet is not activated");return this._activatedRoute}},{key:"activatedRouteData",get:function(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}}]),e}();return e.\u0275fac=function(t){return new(t||e)(ka(Hb),ka(gu),ka(Ds),fr("name"),ka(iu))},e.\u0275dir=ht({type:e,selectors:[["router-outlet"]],outputs:{activateEvents:"activate",deactivateEvents:"deactivate"},exportAs:["outlet"]}),e}(),tw=function(){function e(t,n,r){g(this,e),this.route=t,this.childContexts=n,this.parent=r}return m(e,[{key:"get",value:function(e,t){return e===by?this.route:e===Hb?this.childContexts:this.parent.get(e,t)}}]),e}(),nw=function e(){g(this,e)},rw=function(){function e(){g(this,e)}return m(e,[{key:"preload",value:function(e,t){return t().pipe(Xm(function(){return Sh(null)}))}}]),e}(),iw=function(){function e(){g(this,e)}return m(e,[{key:"preload",value:function(e,t){return Sh(null)}}]),e}(),ow=function(){var e=function(){function e(t,n,r,i,o){g(this,e),this.router=t,this.injector=i,this.preloadingStrategy=o,this.loader=new Ub(n,r,function(e){return t.triggerEvent(new Cg(e))},function(e){return t.triggerEvent(new Sg(e))})}return m(e,[{key:"setUpPreloading",value:function(){var e=this;this.subscription=this.router.events.pipe(Th(function(e){return e instanceof mg}),Ih(function(){return e.preload()})).subscribe(function(){})}},{key:"preload",value:function(){var e=this.injector.get(pu);return this.processRoutes(e,this.router.config)}},{key:"ngOnDestroy",value:function(){this.subscription&&this.subscription.unsubscribe()}},{key:"processRoutes",value:function(e,t){var n,r=[],i=l(t);try{for(i.s();!(n=i.n()).done;){var o=n.value;if(o.loadChildren&&!o.canLoad&&o._loadedConfig){var a=o._loadedConfig;r.push(this.processRoutes(a.module,a.routes))}else o.loadChildren&&!o.canLoad?r.push(this.preloadConfig(e,o)):o.children&&r.push(this.processRoutes(e,o.children))}}catch(s){i.e(s)}finally{i.f()}return re(r).pipe(le(),G(function(e){}))}},{key:"preloadConfig",value:function(e,t){var n=this;return this.preloadingStrategy.preload(t,function(){return n.loader.load(e.injector,t).pipe(se(function(e){return t._loadedConfig=e,n.processRoutes(e.module,e.routes)}))})}}]),e}();return e.\u0275fac=function(t){return new(t||e)(Lr(Xb),Lr(Gc),Lr(bc),Lr(ra),Lr(nw))},e.\u0275prov=Ae({token:e,factory:e.\u0275fac}),e}(),aw=function(){var e=function(){function e(t,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};g(this,e),this.router=t,this.viewportScroller=n,this.options=r,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},r.scrollPositionRestoration=r.scrollPositionRestoration||"disabled",r.anchorScrolling=r.anchorScrolling||"disabled"}return m(e,[{key:"init",value:function(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}},{key:"createScrollEvents",value:function(){var e=this;return this.router.events.subscribe(function(t){t instanceof vg?(e.store[e.lastId]=e.viewportScroller.getScrollPosition(),e.lastSource=t.navigationTrigger,e.restoredId=t.restoredState?t.restoredState.navigationId:0):t instanceof mg&&(e.lastId=t.id,e.scheduleScrollEvent(t,e.router.parseUrl(t.urlAfterRedirects).fragment))})}},{key:"consumeScrollEvents",value:function(){var e=this;return this.router.events.subscribe(function(t){t instanceof Og&&(t.position?"top"===e.options.scrollPositionRestoration?e.viewportScroller.scrollToPosition([0,0]):"enabled"===e.options.scrollPositionRestoration&&e.viewportScroller.scrollToPosition(t.position):t.anchor&&"enabled"===e.options.anchorScrolling?e.viewportScroller.scrollToAnchor(t.anchor):"disabled"!==e.options.scrollPositionRestoration&&e.viewportScroller.scrollToPosition([0,0]))})}},{key:"scheduleScrollEvent",value:function(e,t){this.router.triggerEvent(new Og(e,"popstate"===this.lastSource?this.store[this.restoredId]:null,t))}},{key:"ngOnDestroy",value:function(){this.routerEventsSubscription&&this.routerEventsSubscription.unsubscribe(),this.scrollEventsSubscription&&this.scrollEventsSubscription.unsubscribe()}}]),e}();return e.\u0275fac=function(t){return new(t||e)(Lr(Xb),Lr(Ll),Lr(void 0))},e.\u0275prov=Ae({token:e,factory:e.\u0275fac}),e}(),sw=new mr("ROUTER_CONFIGURATION"),uw=new mr("ROUTER_FORROOT_GUARD"),cw=[bl,{provide:Qg,useClass:Kg},{provide:Xb,useFactory:function(e,t,n,r,i,o,a){var s=arguments.length>7&&void 0!==arguments[7]?arguments[7]:{},u=arguments.length>8?arguments[8]:void 0,c=arguments.length>9?arguments[9]:void 0,l=new Xb(null,e,t,n,r,i,o,zg(a));if(u&&(l.urlHandlingStrategy=u),c&&(l.routeReuseStrategy=c),mw(s,l),s.enableTracing){var d=nl();l.events.subscribe(function(e){d.logGroup("Router Event: ".concat(e.constructor.name)),d.log(e.toString()),d.log(e),d.logGroupEnd()})}return l},deps:[Qg,Hb,bl,ra,Gc,bc,Fb,sw,[function e(){g(this,e)},new Ar],[function e(){g(this,e)},new Ar]]},Hb,{provide:by,useFactory:function(e){return e.routerState.root},deps:[Xb]},{provide:Gc,useClass:Qc},ow,iw,rw,{provide:sw,useValue:{enableTracing:!1}}];function lw(){return new zc("Router",Xb)}var dw=function(){var e=function(){function e(t,n){g(this,e)}return m(e,null,[{key:"forRoot",value:function(t,n){return{ngModule:e,providers:[cw,vw(t),{provide:uw,useFactory:pw,deps:[[Xb,new Ar,new Or]]},{provide:sw,useValue:n||{}},{provide:pl,useFactory:fw,deps:[ol,[new Tr(ml),new Ar],sw]},{provide:aw,useFactory:hw,deps:[Xb,Ll,sw]},{provide:nw,useExisting:n&&n.preloadingStrategy?n.preloadingStrategy:iw},{provide:zc,multi:!0,useFactory:lw},[gw,{provide:tc,multi:!0,useFactory:yw,deps:[gw]},{provide:ww,useFactory:bw,deps:[gw]},{provide:uc,multi:!0,useExisting:ww}]]}}},{key:"forChild",value:function(t){return{ngModule:e,providers:[vw(t)]}}}]),e}();return e.\u0275mod=lt({type:e}),e.\u0275inj=Ee({factory:function(t){return new(t||e)(Lr(uw,8),Lr(Xb,8))}}),e}();function hw(e,t,n){return n.scrollOffset&&t.setOffset(n.scrollOffset),new aw(e,t,n)}function fw(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return n.useHash?new yl(e,t):new gl(e,t)}function pw(e){return"guarded"}function vw(e){return[{provide:gr,multi:!0,useValue:e},{provide:Fb,multi:!0,useValue:e}]}function mw(e,t){e.errorHandler&&(t.errorHandler=e.errorHandler),e.malformedUriErrorHandler&&(t.malformedUriErrorHandler=e.malformedUriErrorHandler),e.onSameUrlNavigation&&(t.onSameUrlNavigation=e.onSameUrlNavigation),e.paramsInheritanceStrategy&&(t.paramsInheritanceStrategy=e.paramsInheritanceStrategy),e.relativeLinkResolution&&(t.relativeLinkResolution=e.relativeLinkResolution),e.urlUpdateStrategy&&(t.urlUpdateStrategy=e.urlUpdateStrategy)}var gw=function(){var e=function(){function e(t){g(this,e),this.injector=t,this.initNavigation=!1,this.resultOfPreactivationDone=new $}return m(e,[{key:"appInitializer",value:function(){var e=this;return this.injector.get(sl,Promise.resolve(null)).then(function(){var t=null,n=new Promise(function(e){return t=e}),r=e.injector.get(Xb),i=e.injector.get(sw);return"disabled"===i.initialNavigation?(r.setUpLocationChangeListener(),t(!0)):"enabled"===i.initialNavigation||"enabledBlocking"===i.initialNavigation?(r.hooks.afterPreactivation=function(){return e.initNavigation?Sh(null):(e.initNavigation=!0,t(!0),e.resultOfPreactivationDone)},r.initialNavigation()):t(!0),n})}},{key:"bootstrapListener",value:function(e){var t=this.injector.get(sw),n=this.injector.get(ow),r=this.injector.get(aw),i=this.injector.get(Xb),o=this.injector.get(qc);e===o.components[0]&&("enabledNonBlocking"!==t.initialNavigation&&void 0!==t.initialNavigation||i.initialNavigation(),n.setUpPreloading(),r.init(),i.resetRootComponentType(o.componentTypes[0]),this.resultOfPreactivationDone.next(null),this.resultOfPreactivationDone.complete())}}]),e}();return e.\u0275fac=function(t){return new(t||e)(Lr(ra))},e.\u0275prov=Ae({token:e,factory:e.\u0275fac}),e}();function yw(e){return e.appInitializer.bind(e)}function bw(e){return e.bootstrapListener.bind(e)}var ww=new mr("Router Initializer"),xw=function(){return(xw=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)},kw={datasource:{id:"datasource",name:"Datasource"},settings:{id:"settings",name:"Settings"},adapter:{id:"adapter",name:"Adapter"},experimental:{id:"experimental",name:"Experimental"}},_w={datasourceGetSignatures:{id:"datasource-get-signatures",name:"Get-method signatures",scope:kw.datasource.id},unlimitedBidirectional:{id:"unlimited-bidirectional",name:"Unlimited bidirectional datasource",scope:kw.datasource.id},limited:{id:"limited",name:"Limited datasource",scope:kw.datasource.id},positiveLimitedIndexes:{id:"positive-limited-indexes",name:"Positive limited datasource",scope:kw.datasource.id},remote:{id:"remote",name:"Remote datasource",scope:kw.datasource.id},invertedIndexes:{id:"inverted-indexes",name:"Inverted datasource",scope:kw.datasource.id},pages:{id:"pages",name:"Pages datasource",scope:kw.datasource.id}},Cw={noSettings:{id:"no-settings",name:"No settings",scope:kw.settings.id},bufferSize:{id:"buffer-size",name:"bufferSize setting",scope:kw.settings.id},padding:{id:"padding",name:"padding setting",scope:kw.settings.id},itemSize:{id:"item-size",name:"itemSize setting",scope:kw.settings.id},startIndex:{id:"start-index",name:"startIndex setting",scope:kw.settings.id},minMaxIndexes:{id:"min-max-indexes",name:"minIndex / maxIndex",scope:kw.settings.id},infiniteMode:{id:"infinite-mode",name:"Infinite mode",scope:kw.settings.id},horizontalMode:{id:"horizontal-mode",name:"Horizontal mode",scope:kw.settings.id},differentItemHeights:{id:"different-item-heights",name:"Different item heights",scope:kw.settings.id},windowViewport:{id:"window-viewport",name:"Entire window scrollable",scope:kw.settings.id}},Sw={returnValue:{id:"return-value",name:"Return value",scope:kw.adapter.id},relax:{id:"relax",name:"Relax",scope:kw.adapter.id},reload:{id:"reload",name:"Reload",scope:kw.adapter.id},reset:{id:"reset",name:"Reset",scope:kw.adapter.id},init:{id:"init",name:"Initialization",scope:kw.adapter.id},isLoading:{id:"is-loading",name:"Is loading?",scope:kw.adapter.id},isLoadingAdvanced:{id:"is-loading-advanced",name:"Is loading, advanced",scope:kw.adapter.id},packageInfo:{id:"package-info",name:"Package info",scope:kw.adapter.id},itemsCount:{id:"items-count",name:"Buffer items counter",scope:kw.adapter.id},bufferInfo:{id:"buffer-info",name:"Buffer info",scope:kw.adapter.id},bofEof:{id:"bof-eof",name:"Begin/end of file",scope:kw.adapter.id},firstLastVisible:{id:"first-last-visible-items",name:"First and last visible items",scope:kw.adapter.id},check:{id:"check-size",name:"Check size",scope:kw.adapter.id},clip:{id:"clip",name:"Clip",scope:kw.adapter.id},appendPrepend:{id:"append-prepend",name:"Append / prepend",scope:kw.adapter.id},appendPrependSync:{id:"append-prepend-sync",name:"Append / prepend sync",scope:kw.adapter.id},remove:{id:"remove",name:"Remove",scope:kw.adapter.id},insert:{id:"insert",name:"Insert",scope:kw.adapter.id},replace:{id:"replace",name:"Replace",scope:kw.adapter.id}},Iw={viewportElementSetting:{id:"viewportElement-setting",name:"viewportElement setting",scope:kw.experimental.id},inverseSetting:{id:"inverse-setting",name:"inverse setting",scope:kw.experimental.id},adapterFixPosition:{id:"adapter-fix-position",name:"Adapter fix-position method",scope:kw.experimental.id},adapterFixUpdater:{id:"adapter-fix-updater",name:"Adapter fix-updater method",scope:kw.experimental.id},adapterFixScrollToItem:{id:"adapter-fix-scrollToItem",name:"Adapter fix-scrollToItem method",scope:kw.experimental.id},onBeforeClipSetting:{id:"onBeforeClip-setting",name:"onBeforeClip setting",scope:kw.experimental.id}},Tw={datasource:xw(xw({},kw.datasource),{map:_w}),settings:xw(xw({},kw.settings),{map:Cw}),adapter:xw(xw({},kw.adapter),{map:Sw}),experimental:xw(xw({},kw.experimental),{map:Iw})},Aw=Object.values(Tw).map(function(e){return xw(xw({},e),{map:Object.values(e.map).map(function(e){return e})})}),Ew=function(){return{exact:!0}},Ow=function(e){return[e]},Mw=function(){function e(){this.demos=Tw}return e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=at({type:e,selectors:[["app-nav"]],decls:28,vars:18,consts:[[1,"navbar","navbar-expand-lg","navbar-dark","bg-dark"],[1,"container"],["href","https://github.com/dhilt/ngx-ui-scroll","aria-label","View source on Github",1,"github-corner"],["width","80","height","80","viewBox","0 0 250 250","aria-hidden","true",2,"fill","#fff","color","#343a40","position","absolute","top","0","border","0","left","auto","right","0"],["d","M0,0 L115,115 L130,115 L142,142 L250,250 L250,0 Z"],["d","M128.3,109.0 C113.8,99.7 119.0,89.6 119.0,89.6 C122.0,82.7 120.5,78.6 120.5,78.6 C119.2,72.0 123.4,76.3 123.4,76.3 C127.3,80.9 125.5,87.3 125.5,87.3 C122.9,97.6 130.6,101.9 134.4,103.2","fill","currentColor",1,"octo-arm",2,"transform-origin","130px 106px"],["d","M115.0,115.0 C114.9,115.1 118.7,116.5 119.8,115.4 L133.7,101.6 C136.9,99.2 139.9,98.4 142.2,98.6 C133.8,88.0 127.5,74.4 143.8,58.0 C148.5,53.4 154.0,51.2 159.7,51.0 C160.3,49.4 163.2,43.6 171.4,40.1 C171.4,40.1 176.1,42.5 178.8,56.2 C183.1,58.6 187.2,61.8 190.9,65.4 C194.5,69.0 197.7,73.2 200.1,77.6 C213.8,80.2 216.3,84.9 216.3,84.9 C212.7,93.1 206.9,96.0 205.4,96.6 C205.1,102.4 203.0,107.8 198.3,112.5 C181.9,128.9 168.3,122.5 157.7,114.1 C157.9,116.9 156.7,120.9 152.7,124.9 L141.0,136.5 C139.8,137.7 141.6,141.9 141.8,141.8 Z","fill","currentColor",1,"octo-body"],[1,"main-menu"],["href","https://github.com/dhilt/ngx-ui-scroll",1,"navbar-brand"],["routerLink","/","routerLinkActive","active",1,"navbar-link",3,"routerLinkActiveOptions"],["routerLinkActive","active",1,"navbar-link",3,"routerLink"],[1,"copyrights"],["href","https://github.com/dhilt"],["href","http://www.hill30.com/"]],template:function(e,t){var n,r,i;1&e&&(Sa(0,"nav",0),Sa(1,"div",1),Sa(2,"a",2),Kt.lFrame.currentNamespace=Vt,Sa(3,"svg",3),Ta(4,"path",4),Ta(5,"path",5),Ta(6,"path",6),Ia(),Ia(),Kt.lFrame.currentNamespace=null,Sa(7,"div",7),Sa(8,"a",8),ss(9,"ngx-ui-scroll"),Ia(),Sa(10,"a",9),ss(11,"Home"),Ia(),Sa(12,"a",10),ss(13),Ia(),Sa(14,"a",10),ss(15),Ia(),Sa(16,"a",10),ss(17),Ia(),Sa(18,"a",10),ss(19),Ia(),Ia(),Ta(20,"br"),Sa(21,"span",11),ss(22," 2020 \xa9 "),Sa(23,"a",12),ss(24,"dhilt"),Ia(),ss(25,", "),Sa(26,"a",13),ss(27,"Hill30 Inc"),Ia(),Ia(),Ia(),Ia()),2&e&&(Hi(10),_a("routerLinkActiveOptions",(9,n=Ew,r=ln()+9,(i=Jt())[r]===Bi?va(i,r,n()):function(e,t){return e[t]}(i,r))),Hi(2),_a("routerLink",Mu(10,Ow,t.demos.datasource.id)),Hi(1),us(t.demos.datasource.name),Hi(1),_a("routerLink",Mu(12,Ow,t.demos.settings.id)),Hi(1),us(t.demos.settings.name),Hi(1),_a("routerLink",Mu(14,Ow,t.demos.adapter.id)),Hi(1),us(t.demos.adapter.name),Hi(1),_a("routerLink",Mu(16,Ow,t.demos.experimental.id)),Hi(1),us(t.demos.experimental.name))},directives:[Kb,Jb],styles:[".github-corner[_ngcontent-%COMP%]:hover   .octo-arm[_ngcontent-%COMP%] {\n      animation: octocat-wave 560ms ease-in-out\n    }\n\n    @keyframes octocat-wave {\n      0%, 100% {\n        transform: rotate(0)\n      }\n      20%, 60% {\n        transform: rotate(-25deg)\n      }\n      40%, 80% {\n        transform: rotate(10deg)\n      }\n    }\n\n    @media (max-width: 500px) {\n      .github-corner[_ngcontent-%COMP%]:hover   .octo-arm[_ngcontent-%COMP%] {\n        animation: none\n      }\n\n      .github-corner[_ngcontent-%COMP%]   .octo-arm[_ngcontent-%COMP%] {\n        animation: octocat-wave 560ms ease-in-out\n      }\n    }"]}),e}();function Dw(e,t){1&e&&(Sa(0,"div"),Ta(1,"app-nav"),Sa(2,"div",2),Ta(3,"router-outlet"),Ia(),Ia())}function Rw(e,t){1&e&&(Sa(0,"div",3),Ta(1,"router-outlet"),Ia())}var Pw=function(){function e(e,t){var n=this;this.route=e,this.router=t,this.hasLayout=!0,this.subscriptions=[],this.subscriptions.push(t.events.pipe(Th(function(e){return e instanceof vg})).subscribe(function(e){var t=e.url;n.hasLayout=!("/window"===t||"/test"===t),"/window"===t?document.body.classList.add("entire-window"):document.body.classList.remove("entire-window"),t.includes("#")||window.scrollTo(0,0)})),"scrollRestoration"in history&&(history.scrollRestoration="manual")}return e.prototype.ngAfterViewInit=function(){this.subscriptions.push(this.route.fragment.subscribe(function(e){e?setTimeout(function(){var t=document.getElementById(e);t&&t.scrollIntoView()}):window.scrollTo(0,0)}))},e.prototype.ngOnDestroy=function(){this.subscriptions.forEach(function(e){return e.unsubscribe()})},e.\u0275fac=function(t){return new(t||e)(ka(by),ka(Xb))},e.\u0275cmp=at({type:e,selectors:[["app-root"]],decls:2,vars:2,consts:[[4,"ngIf"],["class","no-layout",4,"ngIf"],[1,"container","mb-5"],[1,"no-layout"]],template:function(e,t){1&e&&(wa(0,Dw,4,0,"div",0),wa(1,Rw,2,0,"div",1)),2&e&&(_a("ngIf",t.hasLayout),Hi(1),_a("ngIf",!t.hasLayout))},directives:[Ol,Mw,ew],encapsulation:2}),e}(),Vw=function(e){return e.Component="Component",e.Template="Template",e.Styles="CSS",e.Datasource="Datasource",e.Server="Server",e}({}),Nw=function(e){return["../",e]},jw=function(){function e(){}return e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=at({type:e,selectors:[["app-demo-title"]],inputs:{config:"config"},decls:4,vars:6,consts:[[3,"id"],[3,"routerLink","fragment"]],template:function(e,t){1&e&&(Sa(0,"h3",0),ss(1),Sa(2,"a",1),ss(3,"#"),Ia(),Ia()),2&e&&(Fa("id",t.config.id),Hi(1),cs(" ",t.config.name," "),Hi(1),Fa("fragment",t.config.id),_a("routerLink",Mu(4,Nw,t.config.scope)))},directives:[Kb],encapsulation:2}),e}();function zw(e,t){if(1&e&&(Sa(0,"tab",5),Sa(1,"pre",6),ss(2),Ia(),Ia()),2&e){var n=t.index,r=Na(3);Fa("heading",r.sources[n].name),_a("active",r.sources[n].active),Hi(2),us(r.sources[n].text)}}function Lw(e,t){if(1&e&&(Sa(0,"tabset"),wa(1,zw,3,3,"tab",4),Ia()),2&e){var n=Na(2);Hi(1),_a("ngForOf",n.sources)}}function Fw(e,t){if(1&e&&(Sa(0,"pre",6),ss(1),Ia()),2&e){var n=Na(2);Hi(1),us(n.sources[0].text)}}function Uw(e,t){if(1&e&&(Sa(0,"div",1),wa(1,Lw,2,1,"tabset",2),wa(2,Fw,2,1,"pre",3),Ia()),2&e){var n=Na();Hi(1),_a("ngIf",n.sources.length>1),Hi(1),_a("ngIf",1===n.sources.length)}}var Bw=function(){function e(){}return e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=at({type:e,selectors:[["app-demo-sources"]],inputs:{sources:"sources"},decls:1,vars:1,consts:[["class","sources",4,"ngIf"],[1,"sources"],[4,"ngIf"],["class","prettyprint",4,"ngIf"],[3,"heading","active",4,"ngFor","ngForOf"],[3,"heading","active"],[1,"prettyprint"]],template:function(e,t){1&e&&wa(0,Uw,3,2,"div",0),2&e&&_a("ngIf",t.sources&&t.sources.length)},directives:[Ol,mf,Al,gf],encapsulation:2}),e}();function Hw(e,t){1&e&&ss(0),2&e&&us(t.item.text)}function $w(e,t){}var qw=function(e,t){return{item:e,index:t}};function Ww(e,t){if(1&e&&(Sa(0,"div"),Sa(1,"div"),wa(2,$w,0,0,"ng-template",13),Ia(),Ia()),2&e){var n=t.$implicit,r=t.index,i=Na(2),o=xa(1);Hi(1),ds("item ",i.context.addClass||"",""),Za("height",n.hasOwnProperty("height")?n.height+"px":null),Hi(1),_a("ngTemplateOutlet",i.itemTemplate||o)("ngTemplateOutletContext",(a=7,s=qw,u=n,c=r,function(e,t,n,r,i,o,a){var s=t+n;return ga(e,s,i,o)?va(e,s+2,a?r.call(a,i,o):r(i,o)):Du(e,s+2)}(Jt(),ln(),a,s,u,c,l)))}var a,s,u,c,l}function Gw(e,t){var n,r,i,o;1&e&&(function(e,t,n){var r=Jt(),i=en(),o=e+mt,a=i.firstCreatePass?function(e,t,n,r,i){var o=t.consts,a=Xt(o,r),s=Ji(t,e,8,"ng-container",a);return null!==a&&Lo(s,a,!0),po(t,n,s,Xt(o,i)),null!==t.queries&&t.queries.elementStart(t,s),s}(o,i,r,t,n):i.data[o];on(a,!0);var s=r[o]=r[11].createComment("");xi(i,r,s,a),Yr(s,r),kt(a)&&(ao(i,r,a),oo(i,a,r)),null!=n&&so(r,a)}(0,n,r),i=nn(),o=en(),an()?sn():on(i=i.parent,!1),o.firstCreatePass&&(En(o,i),wt(i)&&o.queries.elementEnd(i)))}function Xw(e,t){if(1&e&&(Sa(0,"div"),ss(1," Viewport scrollable size: "),Sa(2,"span"),ss(3),Ia(),Ia(),Sa(4,"div"),ss(5," DOM elements count: "),Sa(6,"span"),ss(7),Ia(),Ia(),Sa(8,"div"),ss(9," Datasource.get log "),Sa(10,"div",18),Sa(11,"pre"),ss(12),Ia(),Ia(),Ia()),2&e){var n=Na(3);ds("elements ",n.context.addClass||"",""),Hi(3),us(n.viewport(n.context.viewportId)),Hi(1),ds("elements ",n.context.addClass||"",""),Hi(3),us(n.elements(n.context.viewportId)),Hi(1),ds("datasource ",n.context.addClass||"",""),Hi(4),us(n.context.log)}}function Zw(e,t){if(1&e&&(Sa(0,"div"),ss(1," Datasource.get log "),Sa(2,"div",18),Sa(3,"pre"),ss(4),Ia(),Ia(),Ia()),2&e){var n=Na(3);ds("datasource ",n.context.addClass||"",""),Hi(4),us(n.context.log)}}function Qw(e,t){if(1&e&&(Sa(0,"div",14),wa(1,Gw,1,0,"ng-container",15),wa(2,Xw,13,12,"ng-template",null,16,ec),wa(4,Zw,5,4,"ng-template",null,17,ec),Ia()),2&e){var n=xa(3),r=xa(5),i=Na(2);Hi(1),_a("ngIf",!i.context.logViewOnly)("ngIfThen",n)("ngIfElse",r)}}function Kw(e,t){if(1&e&&(Sa(0,"div",7),Sa(1,"div",8),Sa(2,"div",9),wa(3,Ww,3,10,"div",10),Ia(),Ia(),wa(4,Qw,6,3,"div",11),Ta(5,"div",12),Ia()),2&e){var n=Na();Hi(2),ds("viewport ",n.context.addClass||"",""),Fa("id",n.context.viewportId||n.context.config.id),Hi(1),_a("uiScrollOf",n.datasource),Hi(1),_a("ngIf",n.init&&!n.context.noInfo)}}var Yw=[[["","actions",""]],[["","description",""]]],Jw=["[actions]","[description]"],ex=function(){function e(){this.init=!1}return e.prototype.viewport=function(e){var t=document.getElementById(e);return t?t[this.datasource.settings&&this.datasource.settings.horizontal?"scrollWidth":"scrollHeight"].toString():""},e.prototype.elements=function(e){var t=document.getElementById(e);return t?((t.children[0].childElementCount||0)-2).toString(10):""},e.prototype.ngOnInit=function(){var e=this;setTimeout(function(){e.sources.every(function(e){return!e.active})&&(e.sources[0].active=!0),e.init=!0})},e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=at({type:e,selectors:[["app-demo"]],inputs:{datasource:"datasource",context:"context",sources:"sources",itemTemplate:"itemTemplate"},ngContentSelectors:Jw,decls:10,vars:3,consts:[["defaultItemTemplate",""],[1,"demo"],[3,"config"],[1,"actions"],["class","work",4,"ngIf"],[3,"sources"],[1,"description"],[1,"work"],[1,"viewport-wrapper"],[3,"id"],[4,"uiScroll","uiScrollOf"],["class","log",4,"ngIf"],[1,"clearfix","mb-3"],[3,"ngTemplateOutlet","ngTemplateOutletContext"],[1,"log"],[4,"ngIf","ngIfThen","ngIfElse"],["allView",""],["logView",""],[1,"pre-wrapper"]],template:function(e,t){1&e&&(za(Yw),wa(0,Hw,1,1,"ng-template",null,0,ec),Sa(2,"div",1),Ta(3,"app-demo-title",2),Sa(4,"div",3),La(5),Ia(),wa(6,Kw,6,6,"div",4),Ta(7,"app-demo-sources",5),Sa(8,"div",6),La(9,1),Ia(),Ia()),2&e&&(Hi(3),_a("config",t.context.config),Hi(3),_a("ngIf",!t.context.noWorkView),Hi(1),_a("sources",t.sources))},directives:[jw,Ol,Bw,wm,Rl],encapsulation:2}),e}(),tx=function(){function e(e){this.http=e}return e.prototype.getData=function(e,t){return this.http.get("/api/data?index="+e+"&count="+t)},e.\u0275prov=Ae({token:e,factory:e.\u0275fac=function(t){return new(t||e)(Lr(Gh))}}),e}(),nx=function(){function e(e){var t=this;this.remoteDataService=e,this.demoContext={config:Tw.datasource.map.remote,logViewOnly:!0,log:"",count:0},this.datasource={get:function(e,n){return t.demoContext.log=++t.demoContext.count+") get items ["+e+".."+(e+n-1)+"]\n"+t.demoContext.log,t.remoteDataService.getData(e,n)}},this.sources=[{name:"Service/Component",text:"@Injectable()\nexport class RemoteDataService {\n\n  constructor(private http: HttpClient) {\n  }\n\n  getData(index: number, count: number): Observable<any> {\n    return this.http.get(\n      `/api/data?index=${index}&count=${count}`\n    );\n  }\n}\n\n@Component(...)\nexport class DemoRemoteDatasourceComponent {\n\n  datasource: IDatasource = {\n    get: (index, count) =>\n      this.remoteDataService.getData(index, count)\n  };\n\n  constructor(private remoteDataService: RemoteDataService) {\n  }\n}"},{name:Vw.Server,text:"const MIN = -99;\nconst MAX = 900;\n\napp.get('/api/data', (req, res) => {\n  const index = parseInt(req.query.index, 10);\n  const count = parseInt(req.query.count, 10);\n  if (isNaN(index) || isNaN(count)) {\n    return res.send([]);\n  }\n  const start = Math.max(MIN, index);\n  const end = Math.min(index + count - 1, MAX);\n  if (start > end) {\n    return res.send([]);\n  }\n  const result = [];\n  for (let i = start; i <= end; i++) {\n    result.push({ id: i, text: 'item #' + i });\n  }\n  res.send(result);\n});"}]}return e.\u0275fac=function(t){return new(t||e)(ka(tx))},e.\u0275cmp=at({type:e,selectors:[["app-remote-datasource"]],decls:10,vars:3,consts:[[3,"datasource","context","sources"],["description",""]],template:function(e,t){1&e&&(Sa(0,"app-demo",0),Sa(1,"div",1),Sa(2,"p"),ss(3," In case the source of data is accessible via some remote API, the "),Sa(4,"em"),ss(5,"Datasource.get"),Ia(),ss(6," could be implemented using Observable signature. In this demo handling "),Sa(7,"em"),ss(8,"/api/data"),Ia(),ss(9,' GET requests is a part of node.js application ("Server" tab). Again and again, the only requirement is that our API handler must return an array of index-count items or empty array if we are out of range. '),Ia(),Ia(),Ia()),2&e&&_a("datasource",t.datasource)("context",t.demoContext)("sources",t.sources)},directives:[ex],encapsulation:2}),e}();function rx(e,t){if(1&e&&(Sa(0,"div"),Sa(1,"div",22),ss(2),Ia(),Ia()),2&e){var n=t.$implicit,r=t.even;Hi(1),Qa("even",r),Hi(1),cs(" ",n.text," ")}}function ix(e,t){if(1&e&&(Sa(0,"span"),Sa(1,"a",23),ss(2),Ia(),Ta(3,"br"),Ia()),2&e){var n=t.$implicit,r=Na().$implicit;Hi(1),Fa("routerLink",r.id),Fa("fragment",n.id),Hi(1),cs(" ",n.name," ")}}function ox(e,t){if(1&e&&(Sa(0,"div"),Sa(1,"h5"),ss(2),Ia(),wa(3,ix,4,3,"span",21),Ia()),2&e){var n=t.$implicit;Hi(2),us(n.name),Hi(1),_a("ngForOf",n.map)}}var ax=function(){function e(){var e=this;this.reloadIndex=999,this.delay=25,this.datasource=new Cm({get:function(t,n,r){for(var i=[],o=t;o<=t+n-1;o++)i.push({id:o,text:"item #"+o});e.delay?setTimeout(function(){return r(i)},e.delay):r(i)},settings:{padding:.5,bufferSize:15,itemSize:25,startIndex:1},devSettings:{debug:!1}}),this.sources=[{name:Vw.Component,text:"delay = 25;\nreloadIndex = 999;\n\ndatasource = new Datasource ({\n  get: (index, count, success) => {\n    const data = [];\n    for (let i = index; i <= index + count - 1; i++) {\n      data.push({ id: i, text: 'item #' + i });\n    }\n    if (this.delay) {\n      setTimeout(() => success(data), this.delay);\n    } else {\n      success(data);\n    }\n  }\n});\n\ndoReload() {\n  this.datasource.adapter.reload(this.reloadIndex);\n}"},{name:Vw.Template,text:'<div class="viewport">\n  <div *uiScroll="let item of datasource; let even = even">\n    <div class="item" [class.even]="even">\n      {{item.text}}\n    </div>\n  </div>\n</div>\n\n\x3c!-- adapter props and methods: --\x3e\n\nFirst visible:\n${{datasource.adapter.firstVisible.$index}}\n\nLast visible:\n${{(datasource.adapter.lastVisible$ | async)?.$index}}\n\nItems in DOM:\n{{datasource.adapter.itemsCount}}\n\nIs loading:\n{{datasource.adapter.isLoading}}\n\nDatasource delay (ms):\n<input [(ngModel)]="delay" type="number">\n\nIndex to reload:\n<input [(ngModel)]="reloadIndex" type="number">\n<button (click)="doReload()">Reload</button>'},{name:Vw.Styles,text:".viewport {\n  width: 150px;\n  height: 250px;\n  overflow-y: auto;\n}\n.item {\n  font-weight: bold;\n  height: 25px;\n}\n.item.even {\n  background-color: #f2f2f2;\n}"}],this.scopes=kw,this.demos=Aw}return e.prototype.doReload=function(){this.datasource.adapter.reload(this.reloadIndex)},e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=at({type:e,selectors:[["app-home"]],decls:74,vars:26,consts:[["href","https://github.com/angular-ui/ui-scroll"],["href","https://github.com/dhilt/ngx-ui-scroll"],[1,"demo"],[1,"work"],[1,"viewport-wrapper"],[1,"viewport"],[4,"uiScroll","uiScrollOf"],[1,"log"],[2,"line-height","25px","margin-bottom","2px"],[2,"display","flex","align-items","center","margin-bottom","2px"],["type","number",2,"width","84px",3,"ngModel","ngModelChange"],[2,"display","flex","align-items","center"],["type","number",2,"width","60px",3,"ngModel","ngModelChange"],[2,"width","60px",3,"click"],[1,"clearfix","mb-3"],[1,"sources"],[3,"heading"],[1,"prettyprint","lang-html"],[1,"prettyprint"],[3,"routerLink"],[1,"demo-examples",2,"display","flex"],[4,"ngFor","ngForOf"],[1,"item"],[3,"routerLink","fragment"]],template:function(e,t){var n;1&e&&(Sa(0,"h1"),ss(1,"Angular UI Scroll Demo App"),Ia(),Sa(2,"p"),Sa(3,"em"),ss(4,"ngx-ui-scroll"),Ia(),ss(5," is the Angular library for large datasets virtualization. The idea, core principles and terminology are inherited from its AngularJS direct predecessor: "),Sa(6,"a",0),ss(7,"angular-ui-scroll"),Ia(),ss(8,", a pioneer in the virtual scrolling developing, since 2013. More information regarding motivation, infrastructure, features, developing can be found on "),Sa(9,"a",1),ss(10,"GitHub"),Ia(),ss(11,". This site is dedicated to practical examples of the "),Sa(12,"em"),ss(13,"uiScroll"),Ia(),ss(14," usage.\n"),Ia(),Sa(15,"div",2),Sa(16,"h3"),ss(17,"Common demo"),Ia(),Sa(18,"div",3),Sa(19,"div",4),Sa(20,"div",5),wa(21,rx,3,3,"div",6),Ia(),Ia(),Sa(22,"div",7),Sa(23,"div",8),ss(24),Ta(25,"br"),ss(26),Ta(27,"br"),ss(28),Pu(29,"async"),Ta(30,"br"),ss(31),Ta(32,"br"),ss(33),Ta(34,"br"),Ia(),Sa(35,"div",9),ss(36," Datasource delay (ms):\xa0 "),Sa(37,"input",10),Ma("ngModelChange",function(e){return t.delay=e}),Ia(),Ia(),Sa(38,"div",11),ss(39," Index to reload:\xa0 "),Sa(40,"input",12),Ma("ngModelChange",function(e){return t.reloadIndex=e}),Ia(),ss(41,"\xa0 "),Sa(42,"button",13),Ma("click",function(){return t.doReload()}),ss(43,"Reload"),Ia(),Ia(),Ia(),Ta(44,"div",14),Ia(),Sa(45,"div",15),Sa(46,"tabset"),Sa(47,"tab",16),Sa(48,"pre",17),ss(49),Ia(),Ia(),Sa(50,"tab",16),Sa(51,"pre",18),ss(52),Ia(),Ia(),Sa(53,"tab",16),Sa(54,"pre",18),ss(55),Ia(),Ia(),Ia(),Ia(),Ia(),Sa(56,"p"),ss(57," It's just a little demo including simplest template, simplest Datasource implementation with no any settings provided and some of Adapter properties and methods usage. Other samples with all necessary details and explanations can be found at "),Sa(58,"a",19),ss(59),Ia(),ss(60,", "),Sa(61,"a",19),ss(62),Ia(),ss(63,", "),Sa(64,"a",19),ss(65),Ia(),ss(66," and "),Sa(67,"a",19),ss(68),Ia(),ss(69," sections. Below is the list of all examples available per these sections.\n"),Ia(),Sa(70,"h3"),ss(71," Example list\n"),Ia(),Sa(72,"div",20),wa(73,ox,4,2,"div",21),Ia()),2&e&&(Hi(21),_a("uiScrollOf",t.datasource),Hi(3),ls(" Core: ",t.datasource.adapter.packageInfo.core.name," v",t.datasource.adapter.packageInfo.core.version," "),Hi(2),cs(" First visible: #",t.datasource.adapter.firstVisible.$index," "),Hi(2),cs(" Last visible: #",null==(n=Vu(29,24,t.datasource.adapter.lastVisible$))?null:n.$index," "),Hi(3),cs(" Items in DOM: ",t.datasource.adapter.itemsCount," "),Hi(2),cs(" Is loading: ",t.datasource.adapter.isLoading," "),Hi(4),_a("ngModel",t.delay),Hi(3),_a("ngModel",t.reloadIndex),Hi(7),Fa("heading",t.sources[1].name),Hi(2),us(t.sources[1].text),Hi(1),Fa("heading",t.sources[0].name),Hi(2),us(t.sources[0].text),Hi(1),Fa("heading",t.sources[2].name),Hi(2),us(t.sources[2].text),Hi(3),Fa("routerLink",t.scopes.datasource.id),Hi(1),us(t.scopes.datasource.name),Hi(2),Fa("routerLink",t.scopes.settings.id),Hi(1),us(t.scopes.settings.name),Hi(2),Fa("routerLink",t.scopes.adapter.id),Hi(1),us(t.scopes.adapter.name),Hi(2),Fa("routerLink",t.scopes.experimental.id),Hi(1),us(t.scopes.experimental.name),Hi(5),_a("ngForOf",t.demos))},directives:[wm,Gd,Sd,qd,kh,mf,gf,Kb,Al],pipes:[jl],encapsulation:2}),e}(),sx=function(e,t,n){isNaN(Number(n))?t(e):setTimeout(function(){return t(e)},Number(n))},ux=function(e,t,n,r){e.count=e.count||0,e.log=++e.count+") got "+r+" items ["+t+".."+(t+n-1)+"]\n"+e.log},cx=function(e,t){return function(n,r,i){return sx(function(e,t,n){for(var r=[],i=t;i<=t+n-1;i++)r.push({id:i,text:"item #"+i});return ux(e,t,n,r.length),r}(e,n,r),i,t)}},lx=function(){function e(){this.demoContext={config:Tw.settings.map.noSettings,viewportId:"no-settings-viewport",count:0,log:""},this.datasource={get:cx(this.demoContext)},this.sources=[{name:Vw.Datasource,text:"datasource: IDatasource = {\n  get: (index, count, success) => {\n    const data = [];\n    for (let i = index; i <= index + count - 1; i++) {\n      data.push({ id: i, text: 'item #' + i });\n    }\n    success(data);\n  }\n}"},{name:Vw.Template,text:'<div class="viewport">\n  <div *uiScroll="let item of datasource">\n    <div class="item">{{item.text}}</div>\n  </div>\n</div>'},{name:Vw.Styles,text:".viewport {\n  width: 150px;\n  height: 250px;\n  overflow-y: auto;\n}\n.item {\n  font-weight: bold;\n  height: 25px;\n}"}]}return e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=at({type:e,selectors:[["app-demo-basic"]],decls:25,vars:3,consts:[[3,"datasource","context","sources"],["description",""]],template:function(e,t){1&e&&(Sa(0,"app-demo",0),Sa(1,"div",1),Sa(2,"p"),ss(3," Speaking of what impact could "),Sa(4,"em"),ss(5,"Settings"),Ia(),ss(6," have on the scroller behavior, we are going to dig into it's behavior details before any settings applied. And this is the very basic example where settings are not defined. "),Ia(),Sa(7,"p"),ss(8," Let's first investigate the sample's log. The visible part of the viewport contains 10 items in accordance with CSS: 10 items of 25px each are equal to 250px of the viewport height. "),Sa(9,"em"),ss(10,"Datasource.get"),Ia(),ss(11," log shows us that there were 3 requests of 5, 10 and 5 items on the initial load (before any scrolling). So we have 20 DOM elements initially: 15 downward items with positive indexes and 5 upward negative items. 20 items give us 500px and this is the initial viewport scrollable size. "),Ia(),Sa(12,"p"),ss(13," The viewport scrollable size value can increase only; as we scroll more and more, items are passed through the "),Sa(14,"em"),ss(15,"Datasource.get"),Ia(),ss(16,". Our "),Sa(17,"em"),ss(18,"Datasource"),Ia(),ss(19," is unlimited, it produces items with indexes from -Infinity to +Infinity. The number of DOM elements in the viewport is not constant, but it fluctuates around the initial value during scrolling (20-31). The core concept of the virtualization is to keep as small number of real items as needed while the scrollable size of the viewport can be very big. "),Ia(),Sa(20,"p"),ss(21," Why do we have 3 requests initially, why the first one is about only 5 items, why at least 10 items are invisible? This is how the "),Sa(22,"em"),ss(23,"*uiScroll"),Ia(),ss(24," works and further reading should shed more light on the details. And we need to know that the default behavior could be changed via Settings object. "),Ia(),Ia(),Ia()),2&e&&_a("datasource",t.datasource)("context",t.demoContext)("sources",t.sources)},directives:[ex],encapsulation:2}),e}(),dx=function(){function e(){this.demoContext={config:Tw.settings.map.bufferSize,viewportId:"buffer-size-viewport",count:0,log:""},this.datasource={get:cx(this.demoContext),settings:{bufferSize:15}},this.sources=[{name:Vw.Datasource,text:"datasource: IDatasource = {\n  get: (index, count, success) => {\n    const data = [];\n    for (let i = index; i <= index + count - 1; i++) {\n      data.push({ id: i, text: 'item #' + i });\n    }\n    success(data);\n  },\n  settings: {\n    bufferSize: 15\n  }\n}"},{name:Vw.Template,text:'<div class="viewport">\n  <div *uiScroll="let item of datasource">\n    <div class="item">{{item.text}}</div>\n  </div>\n</div>'},{name:Vw.Styles,text:".viewport {\n  width: 150px;\n  height: 250px;\n  overflow-y: auto;\n}\n.item {\n  font-weight: bold;\n  height: 25px;\n}"}]}return e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=at({type:e,selectors:[["app-demo-buffer-size"]],decls:47,vars:3,consts:[[3,"datasource","context","sources"],["description",""]],template:function(e,t){1&e&&(Sa(0,"app-demo",0),Sa(1,"div",1),Sa(2,"p"),ss(3," Here we set "),Sa(4,"em"),ss(5,"bufferSize"),Ia(),ss(6," property which defines minimal number of items that the "),Sa(7,"em"),ss(8,"uiScroll"),Ia(),ss(9," may retrieve via "),Sa(10,"em"),ss(11,"Datasource.get"),Ia(),ss(12," method in a single request. In this demo we see that the initial load consists of 2 requests of 15 items (from 1 to 15 and from -14 to 0). Initially the "),Sa(13,"em"),ss(14,"uiScroll"),Ia(),ss(15," starts fill the viewport downward from zero scroll position. If the first fetch is enough, the second one will be in the backward direction. The size of these fetches is determined by the "),Sa(16,"em"),ss(17,"bufferSize"),Ia(),ss(18," setting. The next fetches (during scrolling) could ask for more than "),Sa(19,"em"),ss(20,"bufferSize"),Ia(),ss(21," items, but never less than "),Sa(22,"em"),ss(23,"bufferSize"),Ia(),ss(24,". "),Ia(),Sa(25,"p"),ss(26," The bigger the "),Sa(27,"em"),ss(28,"bufferSize"),Ia(),ss(29," value is, the less requests generally are needed to fill out the viewport. For example, scrolling from 1 to 100 item when the "),Sa(30,"em"),ss(31,"bufferSize"),Ia(),ss(32," is 1, we may see about 40 "),Sa(33,"em"),ss(34,"Datasource.get"),Ia(),ss(35," calls (depends on the environment). But this demo (where "),Sa(36,"em"),ss(37,"bufferSize"),Ia(),ss(38," is 15) shows that reaching 100 item would cost about 10 "),Sa(39,"em"),ss(40,"Datasource.get"),Ia(),ss(41," calls. "),Ia(),Sa(42,"p"),ss(43," The default value of "),Sa(44,"em"),ss(45,"bufferSize"),Ia(),ss(46," property is 5. It has to be a positive integer. The minimum value is 1. "),Ia(),Ia(),Ia()),2&e&&_a("datasource",t.datasource)("context",t.demoContext)("sources",t.sources)},directives:[ex],encapsulation:2}),e}(),hx=function(){function e(){this.demoContext={config:Tw.settings.map.padding,viewportId:"padding-viewport",count:0,log:""},this.datasource={get:cx(this.demoContext),settings:{bufferSize:7,padding:1.46}},this.sources=[{name:Vw.Datasource,text:"datasource: IDatasource = {\n  get: (index, count, success) => {\n    const data = [];\n    for (let i = index; i <= index + count - 1; i++) {\n      data.push({ id: i, text: 'item #' + i });\n    }\n    success(data);\n  },\n  settings: {\n    bufferSize: 7,\n    padding: 1.46\n  }\n}"},{name:Vw.Template,text:'<div class="viewport">\n  <div *uiScroll="let item of datasource">\n    <div class="item">{{item.text}}</div>\n  </div>\n</div>'},{name:Vw.Styles,text:".viewport {\n  width: 150px;\n  height: 250px;\n  overflow-y: auto;\n}\n.item {\n  font-weight: bold;\n  height: 25px;\n}"}]}return e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=at({type:e,selectors:[["app-demo-padding"]],decls:51,vars:3,consts:[[3,"datasource","context","sources"],["description",""]],template:function(e,t){1&e&&(Sa(0,"app-demo",0),Sa(1,"div",1),Sa(2,"p"),ss(3," Here the "),Sa(4,"em"),ss(5,"Datasource.get"),Ia(),ss(6," method implementation is taken from previous samples, but the "),Sa(7,"em"),ss(8,"Settings"),Ia(),ss(9," object is completed with "),Sa(10,"em"),ss(11,"padding"),Ia(),ss(12," property. This setting defines an extra space added to the visible part of the viewport for the purpose of determining when the items should be created/destroyed. The value is relative to the visible size of the viewport. So "),Sa(13,"em"),ss(14,"1.46"),Ia(),ss(15," means that the "),Sa(16,"em"),ss(17,"uiScroll"),Ia(),ss(18," would request new items until the areas of 146% of the viewport size on both of forward and backward directions are filled with rendered items: 100% + 146% downward and 146% upward. In this demo we have 3 requests on the initial load, let's see what happened: "),Ia(),Sa(19,"ol"),Sa(20,"li"),ss(21,"250px + 1.46 * 250px = 615px \u2014 total size of area that needs to be filled on downward (positive) direction, where 250px is the size of the visible viewport (per CSS) "),Ia(),Sa(22,"li"),ss(23,"7 items * 25px = 175px \u2014 the result size of first downward fetch, where "),Sa(24,"em"),ss(25,"bufferSize"),Ia(),ss(26," is 7 and 25px is the item's size (per CSS) "),Ia(),Sa(27,"li"),ss(28,"615px - 175px = 440px \u2014 downward space which has to be filled during second downward fetch "),Ia(),Sa(29,"li"),ss(30,"ceil(440px / 25px) = 18 \u2014 items number that is needed to feel remain 440px area during second downward fetch "),Ia(),Ia(),Sa(31,"p"),ss(32," So we have 2 "),Sa(33,"em"),ss(34,"Datasource.get"),Ia(),ss(35," downward requests for 7 and 18 items. And this is an explanation of the last (initial backward) fetch: "),Ia(),Sa(36,"ol"),Sa(37,"li"),ss(38,"1.46 * 250px = 360px \u2014 upward space which has to be filled on backward (negative) direction "),Ia(),Sa(39,"li"),ss(40,"ceil(360px / 25px) = 15 \u2014 items number that is needed to feel 360px area on backward fetch "),Ia(),Ia(),Sa(41,"p"),ss(42," So we have satisfied to 40 DOM elements (7 + 18 + 15 = 40). The bigger "),Sa(43,"em"),ss(44,"padding"),Ia(),ss(45," value is, the more DOM elements should be present in the viewport. "),Ia(),Sa(46,"p"),ss(47," The default value of "),Sa(48,"em"),ss(49,"padding"),Ia(),ss(50," property is 0.5. It is treated as floating point number. The minimum value is 0.01. "),Ia(),Ia(),Ia()),2&e&&_a("datasource",t.datasource)("context",t.demoContext)("sources",t.sources)},directives:[ex],encapsulation:2}),e}(),fx=function(){function e(){this.demoContext={config:Tw.settings.map.itemSize,viewportId:"item-size-viewport",count:0,log:""},this.datasource={get:cx(this.demoContext),settings:{itemSize:25}},this.sources=[{name:Vw.Datasource,text:"datasource: IDatasource = {\n  get: (index, count, success) => {\n    const data = [];\n    for (let i = index; i <= index + count - 1; i++) {\n      data.push({ id: i, text: 'item #' + i });\n    }\n    success(data);\n  },\n  settings: {\n    itemSize: 25\n  }\n}"},{name:Vw.Template,text:'<div class="viewport">\n  <div *uiScroll="let item of datasource">\n    <div class="item">{{item.text}}</div>\n  </div>\n</div>'},{name:Vw.Styles,text:".viewport {\n  width: 150px;\n  height: 250px;\n  overflow-y: auto;\n}\n.item {\n  font-weight: bold;\n  height: 25px;\n}"}]}return e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=at({type:e,selectors:[["app-demo-item-size"]],decls:45,vars:3,consts:[[3,"datasource","context","sources"],["description",""]],template:function(e,t){1&e&&(Sa(0,"app-demo",0),Sa(1,"div",1),Sa(2,"p"),ss(3," Another setting which has an impact on the viewport filling procedure is "),Sa(4,"em"),ss(5,"itemSize"),Ia(),ss(6,". After the first fetch is done, the "),Sa(7,"em"),ss(8,"uiScroll"),Ia(),ss(9," gets knowledge on average item's size and can make further requests precisely. Defining "),Sa(10,"em"),ss(11,"settings.itemSize"),Ia(),ss(12," property we are telling the "),Sa(13,"em"),ss(14,"uiScroll"),Ia(),ss(15," that the initial average item's size is determined and could be used right on the first cycle. That's why we have only 2 initial "),Sa(16,"em"),ss(17,"Datasource.get"),Ia(),ss(18," calls in this demo: "),Ia(),Sa(19,"ol"),Sa(20,"li"),ss(21,"250px + 0.5 * 250px = 375px \u2014 downward (positive) size"),Ia(),Sa(22,"li"),ss(23,"ceil(375px / 25px) = 15 \u2014 items number to fill the area of 375px"),Ia(),Sa(24,"li"),ss(25,"0.5 * 250px = 125px \u2014 upward (negative) size"),Ia(),Sa(26,"li"),ss(27,"ceil(125px / 25px) = 5 \u2014 items number to fill the area of 125px"),Ia(),Ia(),Sa(28,"p"),Sa(29,"em"),ss(30,"itemSize"),Ia(),ss(31," don't fix item's size on the template layer, it is just an expectation of average item's size. If we set it to, say, 10, then the first "),Sa(32,"em"),ss(33,"Datasource.get"),Ia(),ss(34," call will give us ceil(375 / 10) = 38 items which will occupy 38 * 25 = 950px downward area. The second fetch will be the same as above, because the "),Sa(35,"em"),ss(36,"uiScroll"),Ia(),ss(37," will recalculate average item's size after the first fetch is done. Setting "),Sa(38,"em"),ss(39,"itemSize"),Ia(),ss(40," to, say, 9999 will give us good old 3 fetches: 5 (not 1, because 1 < bufferSize that is 5 by default) and 10 items on forward direction and 5 items on backward direction. "),Ia(),Sa(41,"p"),Sa(42,"em"),ss(43,"itemSize"),Ia(),ss(44," has no default value. If set, it has to be a positive integer. The minimum value is 1. "),Ia(),Ia(),Ia()),2&e&&_a("datasource",t.datasource)("context",t.demoContext)("sources",t.sources)},directives:[ex],encapsulation:2}),e}(),px=function(){function e(){this.demoContext={config:Tw.settings.map.startIndex,viewportId:"start-index-viewport",count:0,log:""},this.datasource={get:cx(this.demoContext),settings:{startIndex:137}},this.sources=[{name:Vw.Datasource,text:"datasource: IDatasource = {\n  get: (index, count, success) => {\n    const data = [];\n    for (let i = index; i <= index + count - 1; i++) {\n      data.push({ id: i, text: 'item #' + i });\n    }\n    success(data);\n  },\n  settings: {\n    startIndex: 137\n  }\n}"},{name:Vw.Template,text:'<div class="viewport">\n  <div *uiScroll="let item of datasource">\n    <div class="item">{{item.text}}</div>\n  </div>\n</div>'},{name:Vw.Styles,text:".viewport {\n  width: 150px;\n  height: 250px;\n  overflow-y: auto;\n}\n.item {\n  font-weight: bold;\n  height: 25px;\n}"}]}return e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=at({type:e,selectors:[["app-demo-start-index"]],decls:27,vars:3,consts:[[3,"datasource","context","sources"],["description",""]],template:function(e,t){1&e&&(Sa(0,"app-demo",0),Sa(1,"div",1),Sa(2,"p"),ss(3," What if we want to start the "),Sa(4,"em"),ss(5,"uiScroll"),Ia(),ss(6," from some specific position? It is possible via "),Sa(7,"em"),ss(8,"startIndex"),Ia(),ss(9," setting which determines what item index the "),Sa(10,"em"),ss(11,"uiScroll"),Ia(),ss(12," will use to start the load process. It will be the value of the "),Sa(13,"em"),ss(14,"index"),Ia(),ss(15," argument during the first "),Sa(16,"em"),ss(17,"Datasource.get"),Ia(),ss(18," method call. "),Ia(),Sa(19,"p"),ss(20," The default "),Sa(21,"em"),ss(22,"startIndex"),Ia(),ss(23," value is 1. It has to be an integer with no range limitations. But real datasource boundaries (in case the "),Sa(24,"em"),ss(25,"Datasource"),Ia(),ss(26," is limited) should be taken into the account. "),Ia(),Ia(),Ia()),2&e&&_a("datasource",t.datasource)("context",t.demoContext)("sources",t.sources)},directives:[ex],encapsulation:2}),e}(),vx=function(e){return["/",e]},mx=function(){function e(){this.demoContext={config:Tw.settings.map.minMaxIndexes,viewportId:"min-max-indexes-viewport",count:0,log:""},this.datasourceLimitedDemoConfig=Tw.datasource.map.limited,this.datasource={get:cx(this.demoContext),settings:{minIndex:1,maxIndex:1e3}},this.sources=[{name:Vw.Datasource,text:"datasource: IDatasource = {\n  get: (index, count, success) => {\n    const data = [];\n    for (let i = index; i <= index + count - 1; i++) {\n      data.push({ id: i, text: 'item #' + i });\n    }\n    success(data);\n  },\n  settings: {\n    minIndex: 1,\n    maxIndex: 1000\n  }\n}"},{name:Vw.Template,text:'<div class="viewport">\n  <div *uiScroll="let item of datasource">\n    <div class="item">{{item.text}}</div>\n  </div>\n</div>'},{name:Vw.Styles,text:".viewport {\n  width: 150px;\n  height: 250px;\n  overflow-y: auto;\n}\n.item {\n  font-weight: bold;\n  height: 25px;\n}"}]}return e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=at({type:e,selectors:[["app-demo-min-max-indexes"]],decls:87,vars:7,consts:[[3,"datasource","context","sources"],["description",""],[3,"routerLink","fragment"]],template:function(e,t){1&e&&(Sa(0,"app-demo",0),Sa(1,"div",1),Sa(2,"p"),ss(3," If the boundaries of the dataset are known, we may virtualize all the data items right on the "),Sa(4,"em"),ss(5,"uiScroll"),Ia(),ss(6," initialization, in other words the "),Sa(7,"em"),ss(8,"uiScroll"),Ia(),ss(9," will maintain forward and backward padding elements of the viewport in assumption that the dataset consists of (maxIndex - minIndex) items. So it will be possible to jump to any position immediately. "),Ia(),Sa(10,"p"),ss(11," In this demo we are telling the "),Sa(12,"em"),ss(13,"uiScroll"),Ia(),ss(14," to work with indexes in-between [1..1000] range only. 1000 items per 25px give us 25000px, it is our viewport scrollable size and it will not be changed. Also, we may reach the bottom item in a single long scroll with just a couple of fetches: 3-10 "),Sa(15,"em"),ss(16,"Datasource.get"),Ia(),ss(17," method calls against 70-200 ones in the previous demos. "),Ia(),Sa(18,"p"),ss(19," An important note is that "),Sa(20,"em"),ss(21,"minIndex"),Ia(),ss(22," and "),Sa(23,"em"),ss(24,"maxIndex"),Ia(),ss(25," should stay within the real datasource boundaries. All the demos we discussed before have unlimited datasources, so "),Sa(26,"em"),ss(27,"minIndex"),Ia(),ss(28," and "),Sa(29,"em"),ss(30,"maxIndex"),Ia(),ss(31," could accept any values. But in case the datasource is limited, say, by [MIN..MAX] range, then "),Sa(32,"em"),ss(33,"minIndex"),Ia(),ss(34," should be >= "),Sa(35,"em"),ss(36,"MIN"),Ia(),ss(37," and "),Sa(38,"em"),ss(39,"maxIndex"),Ia(),ss(40," should be <= "),Sa(41,"em"),ss(42,"MAX"),Ia(),ss(43,". An example of limited "),Sa(44,"em"),ss(45,"Datasource.get"),Ia(),ss(46," implementation can be found "),Sa(47,"a",2),ss(48,"here"),Ia(),ss(49,". "),Ia(),Sa(50,"p"),ss(51," The "),Sa(52,"em"),ss(53,"uiScroll"),Ia(),ss(54," can accept only one of min/max indexes settings. For example, if we know that our datasource have no negative values, then we may define "),Sa(55,"em"),ss(56,"minIndex"),Ia(),ss(57," as 1 (or 0) and not define "),Sa(58,"em"),ss(59,"maxIndex"),Ia(),ss(60,". It also seems right idea to set "),Sa(61,"em"),ss(62,"startIndex"),Ia(),ss(63," value to 0 in case "),Sa(64,"em"),ss(65,"minIndex"),Ia(),ss(66," value had been set to 0. "),Ia(),Sa(67,"p"),ss(68," Both of "),Sa(69,"em"),ss(70,"minIndex"),Ia(),ss(71," and "),Sa(72,"em"),ss(73,"maxIndex"),Ia(),ss(74," values should be integer. The default "),Sa(75,"em"),ss(76,"minIndex"),Ia(),ss(77," value is "),Sa(78,"em"),ss(79,"-Infinity"),Ia(),ss(80,". The default "),Sa(81,"em"),ss(82,"maxIndex"),Ia(),ss(83," value is "),Sa(84,"em"),ss(85,"+Infinity"),Ia(),ss(86,". "),Ia(),Ia(),Ia()),2&e&&(_a("datasource",t.datasource)("context",t.demoContext)("sources",t.sources),Hi(47),Fa("fragment",t.datasourceLimitedDemoConfig.id),_a("routerLink",Mu(5,vx,t.datasourceLimitedDemoConfig.scope)))},directives:[ex,Kb],encapsulation:2}),e}(),gx=function(){function e(){this.demoContext={config:Tw.settings.map.infiniteMode,viewportId:"infinite-viewport",count:0,log:""},this.datasource={get:cx(this.demoContext),settings:{infinite:!0}},this.sources=[{name:Vw.Datasource,text:"datasource: IDatasource = {\n  get: (index, count, success) => {\n    const data = [];\n    for (let i = index; i <= index + count - 1; i++) {\n      data.push({ id: i, text: 'item #' + i });\n    }\n    success(data);\n  },\n  settings: {\n    infinite: true\n  }\n}"},{name:Vw.Template,text:'<div class="viewport">\n  <div *uiScroll="let item of datasource">\n    <div class="item">{{item.text}}</div>\n  </div>\n</div>'},{name:Vw.Styles,text:".viewport {\n  width: 150px;\n  height: 175px;\n  overflow-y: auto;\n}\n.item {\n  font-weight: bold;\n  height: 25px;\n}"}]}return e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=at({type:e,selectors:[["app-demo-infinite"]],decls:19,vars:3,consts:[[3,"datasource","context","sources"],["description",""]],template:function(e,t){1&e&&(Sa(0,"app-demo",0),Sa(1,"div",1),Sa(2,"p"),ss(3," The "),Sa(4,"em"),ss(5,"uiScroll"),Ia(),ss(6,' might work in "infinite" mode, when items are never removed. This mode can be turned on via '),Sa(7,"em"),ss(8,"infinite"),Ia(),ss(9," property of the "),Sa(10,"em"),ss(11,"settings"),Ia(),ss(12," object. Setting "),Sa(13,"em"),ss(14,"infinite"),Ia(),ss(15," to true, we ask the "),Sa(16,"em"),ss(17,"uiScroll"),Ia(),ss(18," not to remove items that are getting out of the visible part of the viewport. That's why the DOM elements counter value increases per each edge-scroll event and never decreased. "),Ia(),Ia(),Ia()),2&e&&_a("datasource",t.datasource)("context",t.demoContext)("sources",t.sources)},directives:[ex],encapsulation:2}),e}(),yx=function(){function e(){this.demoContext={config:Tw.settings.map.horizontalMode,viewportId:"horizontal-viewport",addClass:"horizontal",count:0,log:""},this.datasource={get:cx(this.demoContext),settings:{horizontal:!0}},this.sources=[{name:Vw.Datasource,text:"datasource: IDatasource = {\n  get: (index, count, success) => {\n    const data = [];\n    for (let i = index; i <= index + count - 1; i++) {\n      data.push({ id: i, text: 'item #' + i });\n    }\n    success(data);\n  },\n  settings: {\n    horizontal: true\n  }\n}"},{name:Vw.Template,text:'<div class="viewport horizontal">\n  <div *uiScroll="let item of datasource">\n    <div class="item horizontal">{{item.text}}</div>\n  </div>\n</div>'},{name:Vw.Styles,text:".viewport.horizontal {\n  width: 250px;\n  height: 100px;\n  overflow-x: scroll;\n  overflow-y: hidden;\n  white-space: nowrap;\n}\n.viewport.horizontal div {\n  display: inline-block;\n}\n.item.horizontal {\n  border: 1px solid #aaa;\n  height: 100px;\n  padding: 0 5px;\n  font-weight: bolder;\n}"}]}return e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=at({type:e,selectors:[["app-demo-horizontal"]],decls:10,vars:3,consts:[[3,"datasource","context","sources"],["description",""]],template:function(e,t){1&e&&(Sa(0,"app-demo",0),Sa(1,"div",1),Sa(2,"p"),ss(3," Horizontal scrolling could be enabled via "),Sa(4,"em"),ss(5,"horizontal"),Ia(),ss(6," setting. The styles also need to be fixed in accordance with horizontal scrolling. Currently we have some limitations at the template layer but "),Sa(7,"em"),ss(8,"display: inline-block;"),Ia(),ss(9," rule applied to all nested containers makes the horizontal mode work. "),Ia(),Ia(),Ia()),2&e&&_a("datasource",t.datasource)("context",t.demoContext)("sources",t.sources)},directives:[ex],encapsulation:2}),e}(),bx=function(){function e(){var e;this.demoContext={config:Tw.settings.map.differentItemHeights,viewportId:"different-heights-viewport",count:0,log:""},this.datasource={get:(e=this.demoContext,-20,100,function(t,n,r){return sx(function(e,t,n,r,i){t=isNaN(Number(t))?-1/0:Number(t),n=isNaN(Number(n))?1/0:Number(n);var o=[],a=Math.max(t,r),s=Math.min(r+i-1,n);if(a<=s)for(var u=a;u<=s;u++)o.push({id:u,text:"item #"+u,height:20+u});return ux(e,r,i,o.length),o}(e,-20,100,t,n),r,undefined)})},this.sources=[{name:Vw.Datasource,text:"datasource: IDatasource = {\n  get: (index, count, success) => {\n    const MIN = -20, MAX = 100;\n    const data = [];\n    const start = Math.max(MIN, index);\n    const end = Math.min(index + count - 1, MAX);\n    if (start <= end) {\n      for (let i = start; i <= end; i++) {\n        data.push({ id: i, text: 'item #' + i, height: 20 + i });\n      }\n    }\n    success(data);\n  }\n}"},{name:Vw.Template,text:'<div class="viewport">\n  <div *uiScroll="let item of datasource">\n     <div class="item" [style.height]="item.height + \'px\'">\n      {{item.text}}\n     </div>\n  </div>\n</div>'},{name:Vw.Styles,text:".viewport {\n  width: 150px;\n  height: 250px;\n  overflow-y: auto;\n}\n.item {\n  font-weight: bold;\n}"}]}return e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=at({type:e,selectors:[["app-demo-different-heights"]],decls:7,vars:3,consts:[[3,"datasource","context","sources"],["description",""]],template:function(e,t){1&e&&(Sa(0,"app-demo",0),Sa(1,"div",1),Sa(2,"p"),ss(3," The "),Sa(4,"em"),ss(5,"uiScroll"),Ia(),ss(6," works fine with different item heights. To make this sample more strict and to demonstrate the scrollbar parameters' consistency the limited datasource is used. "),Ia(),Ia(),Ia()),2&e&&_a("datasource",t.datasource)("context",t.demoContext)("sources",t.sources)},directives:[ex],encapsulation:2}),e}(),wx=function(){function e(){this.demoContext={config:Tw.settings.map.windowViewport,viewportId:"window-viewport-viewport",noWorkView:!0,count:0,log:""},this.sources=[{name:Vw.Datasource,text:"datasource: IDatasource = {\n  get: (index, count, success) => {\n    const data = [];\n    for (let i = index; i <= index + count - 1; i++) {\n      data.push({ id: i, text: 'item #' + i });\n    }\n    success(data);\n  },\n  settings: {\n    windowViewport: true\n  }\n}"},{name:Vw.Template,text:'<div *uiScroll="let item of datasource">\n  <div class="item">{{item.text}}</div>\n</div>'},{name:Vw.Styles,text:".item {\n  font-weight: bold;\n  height: 25px;\n}"}]}return e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=at({type:e,selectors:[["app-demo-window-viewport"]],decls:13,vars:2,consts:[[3,"context","sources"],["actions",""],["routerLink","/window"],["description",""]],template:function(e,t){1&e&&(Sa(0,"app-demo",0),Sa(1,"div",1),Sa(2,"p"),ss(3," Follow "),Sa(4,"a",2),ss(5,"this link"),Ia(),ss(6," to open the Entire Window scrollable demo. "),Ia(),Ia(),Sa(7,"div",3),Sa(8,"p"),ss(9," The entire window might work as a Viewport if "),Sa(10,"em"),ss(11,"windowViewport"),Ia(),ss(12,' setting is set to true. Previous versions of the library (prior to 1.6.4) required the "overflow-anchor" css property to be disabled at the top level of the DOM tree (body or html tag). Today it is not necessary. '),Ia(),Ia(),Ia()),2&e&&_a("context",t.demoContext)("sources",t.sources)},directives:[ex,Kb],encapsulation:2}),e}(),xx=function(){function e(){}return e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=at({type:e,selectors:[["app-samples-settings"]],decls:31,vars:0,template:function(e,t){1&e&&(Sa(0,"h1"),ss(1,"Angular UI Scroll Settings Demos"),Ia(),Sa(2,"p"),Sa(3,"em"),ss(4,"Settings"),Ia(),ss(5," object is\xa0a\xa0part of\xa0"),Sa(6,"em"),ss(7,"Datasource"),Ia(),ss(8," implementation. It allows to configure the\xa0"),Sa(9,"em"),ss(10,"uiScroll"),Ia(),ss(11," during it's initialization. Each sample deals with a\xa0single case/setting and include:\n"),Ia(),Sa(12,"ul"),Sa(13,"li"),ss(14,"working viewport where we\xa0may scroll through the data items;"),Ia(),Sa(15,"li"),ss(16,"log section where we\xa0may see current size of\xa0the viewport's scrollable area, how many real items (DOM elements) the viewport has at\xa0a\xa0moment and how many items have been retrieved via Datasource.get; "),Ia(),Sa(17,"li"),ss(18,"code listing which contains Datasource typescript code, Template html code and CSS;"),Ia(),Sa(19,"li"),ss(20,"description where we\xa0can find some notes and explanations."),Ia(),Ia(),Ta(21,"app-demo-basic"),Ta(22,"app-demo-buffer-size"),Ta(23,"app-demo-padding"),Ta(24,"app-demo-item-size"),Ta(25,"app-demo-start-index"),Ta(26,"app-demo-min-max-indexes"),Ta(27,"app-demo-infinite"),Ta(28,"app-demo-horizontal"),Ta(29,"app-demo-different-heights"),Ta(30,"app-demo-window-viewport"))},directives:[lx,dx,hx,fx,px,mx,gx,yx,bx,wx],encapsulation:2}),e}(),kx=function(){function e(){this.demoConfig=Tw.adapter.map.returnValue,this.returnValueType="  Promise<{\n    success: boolean,\n    immediate: boolean,\n    details: string | null\n  }>",this.returnValueSample="\n  const { immediate } = await adapter.remove({ predicate });\n  if (immediate) {\n    console.log('No items were removed');\n  }",this.explicitSequenceSample='\n  await adapter.append({ items });\n  scrollToBottom(); // will not scroll without "await"\n  '}return e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=at({type:e,selectors:[["app-demo-adapter-return-value"]],decls:70,vars:4,consts:[[1,"demo"],[3,"config"],[1,"description"]],template:function(e,t){1&e&&(Sa(0,"div",0),Ta(1,"app-demo-title",1),Sa(2,"div",2),Sa(3,"p"),ss(4," Each "),Sa(5,"em"),ss(6,"Adapter"),Ia(),ss(7," method runs the "),Sa(8,"em"),ss(9,"uiScroll Workflow"),Ia(),ss(10," that handles multiple internal processes, some of which may be asynchronous. In order to deal with such asynchronicity, the return value of the "),Sa(11,"em"),ss(12,"Adapter"),Ia(),ss(13," method is a "),Sa(14,"em"),ss(15,"Promise"),Ia(),ss(16," that is resolved when all internal processes triggered by the "),Sa(17,"em"),ss(18,"Adapter"),Ia(),ss(19," are terminated. Return value has following type "),Ia(),Sa(20,"pre"),ss(21),Ia(),Sa(22,"p"),ss(23," - "),Sa(24,"em"),ss(25,"success"),Ia(),ss(26,": specifies whether the "),Sa(27,"em"),ss(28,"Adapter"),Ia(),ss(29," method completed successfully or not; for example, if some method is invoked with wrong arguments, no error will be thrown, but we'll get "),Sa(30,"em"),ss(31,"success:\xa0false"),Ia(),ss(32," in the result; "),Ta(33,"br"),ss(34," - "),Sa(35,"em"),ss(36,"details"),Ia(),ss(37,": contains error message in case "),Sa(38,"em"),ss(39,"success"),Ia(),ss(40," is "),Sa(41,"em"),ss(42,"false"),Ia(),ss(43,"; "),Ta(44,"br"),ss(45," - "),Sa(46,"em"),ss(47,"immediate"),Ia(),ss(48,": specifies whether the "),Sa(49,"em"),ss(50,"Adapter"),Ia(),ss(51," method completed immediately or not; for example, if "),Sa(52,"em"),ss(53,"Adapter.remove"),Ia(),ss(54," won't remove any items, then it will be terminated immediately and we'll get "),Sa(55,"em"),ss(56,"immediate:\xa0true"),Ia(),ss(57," in the result. "),Ia(),Sa(58,"pre"),ss(59),Ia(),Sa(60,"p"),ss(61," Note, "),Sa(62,"em"),ss(63,"immediate:\xa0false"),Ia(),ss(64," does not necessarily mean that the "),Sa(65,"em"),ss(66,"Adapter"),Ia(),ss(67," method worked asynchronously. But in any case, if there is any logic that needs to be run after the Adapter method completes its job, it is highly recommended to implement an explicit sequence like this: "),Ia(),Sa(68,"pre"),ss(69),Ia(),Ia(),Ia()),2&e&&(Hi(1),_a("config",t.demoConfig),Hi(20),us(t.returnValueType),Hi(38),us(t.returnValueSample),Hi(10),us(t.explicitSequenceSample))},directives:[jw],encapsulation:2}),e}(),_x=function(e){return["/",e]},Cx=function(){function e(){this.demoContext={config:Tw.adapter.map.relax,noInfo:!0},this.adapterReturnValueDemoConfig=Tw.adapter.map.returnValue,this.datasource=new Cm({get:function(e,t,n){for(var r=[],i=e;i<e+t;i++)r.push({id:i,text:"item #"+i});n(r)}}),this.sources=[{active:!0,name:"Relax",text:"async doReplace() {\n  const { adapter } = this.datasource;\n  await adapter.relax();\n  adapter.remove({\n    predicate: ({ $index }) => $index > 4 && $index < 8\n  });\n  await adapter.relax();\n  adapter.insert({\n    items: [{ id: '5*', text: 'item #5 *' }],\n    after: ({ $index }) => $index === 4\n  });\n}\n"},{name:"Is loading",text:"relax(cb: Function) {\n  const { adapter } = this.datasource;\n  if (!adapter.isLoading) {\n    cb();\n  } else {\n    adapter.isLoading$\n      .pipe(filter(isLoading => !isLoading), take(1))\n      .subscribe(() => cb());\n  }\n}\n\ndoReplace() {\n  const { adapter } = this.datasource;\n  this.relax(() =>\n    adapter.remove({\n      predicate: ({ $index }) => $index > 4 && $index < 8\n    })\n  );\n  this.relax(() =>\n    adapter.insert({\n      items: [{ id: '5*', text: 'item #5 *' }],\n      after: ({ $index }) => $index === 4\n    })\n  );\n}\n"},{name:"Callback",text:"doReplace() {\n  const { adapter } = this.datasource;\n  adapter.relax(() =>\n    adapter.remove({\n      predicate: ({ $index }) => $index > 4 && $index < 8\n    })\n  );\n  adapter.relax(() =>\n    adapter.insert({\n      items: [{ id: '5*', text: 'item #5 *' }],\n      after: ({ $index }) => $index === 4\n    })\n  );\n}\n"},{name:"Return",text:"async doReplace() {\n  const { adapter } = this.datasource;\n  await adapter.relax();\n  await adapter.remove({\n    predicate: ({ $index }) => $index > 4 && $index < 8\n  });\n  adapter.insert({\n    items: [{ id: '5*', text: 'item #5 *' }],\n    after: ({ $index }) => $index === 4\n  });\n}\n"}],this.isLoadingSample="\n  if (!adapter.isLoading) {\n    doSomething();\n  } else {\n    adapter.isLoading$\n      .pipe(filter(isLoading => !isLoading), take(1))\n      .subscribe(() => doSomething());\n  }",this.relaxSample="\n  await adapter.relax();\n  doSomething();"}return e.prototype.doReplace=function(){return e=this,void 0,n=function(){var e,t;return function(e,t){var n,r,i,o,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(o){return function(s){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return a.label++,{value:o[1],done:!1};case 5:a.label++,r=o[1],o=[0];continue;case 7:o=a.ops.pop(),a.trys.pop();continue;default:if(!((i=(i=a.trys).length>0&&i[i.length-1])||6!==o[0]&&2!==o[0])){a=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){a.label=o[1];break}if(6===o[0]&&a.label<i[1]){a.label=i[1],i=o;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(o);break}i[2]&&a.ops.pop(),a.trys.pop();continue}o=t.call(e,a)}catch(s){o=[6,s],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}}(this,function(n){switch(n.label){case 0:return t={id:"5*",text:"item #5 *"},[4,(e=this.datasource.adapter).relax()];case 1:return n.sent(),e.remove({predicate:function(e){var t=e.$index;return t>4&&t<8}}),[4,e.relax()];case 2:return n.sent(),e.insert({items:[t],after:function(e){return 4===e.$index}}),[2]}})},new((t=void 0)||(t=Promise))(function(r,i){function o(e){try{s(n.next(e))}catch(t){i(t)}}function a(e){try{s(n.throw(e))}catch(t){i(t)}}function s(e){var n;e.done?r(e.value):(n=e.value,n instanceof t?n:new t(function(e){e(n)})).then(o,a)}s((n=n.apply(e,[])).next())});var e,t,n},e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=at({type:e,selectors:[["app-adapter-relax"]],decls:49,vars:9,consts:[[3,"datasource","context","sources"],["actions",""],[3,"click"],["description",""],[3,"routerLink","fragment"]],template:function(e,t){1&e&&(Sa(0,"app-demo",0),Sa(1,"div",1),Sa(2,"button",2),Ma("click",function(){return t.doReplace()}),ss(3,"replace (5, 6, 7) with (5 *)"),Ia(),Ia(),Sa(4,"div",3),Sa(5,"p"),ss(6,' If we need to run any logic that should not interfere with the Scroller internal processes, it should be protected by the "relax" promise: '),Ia(),Sa(7,"pre"),ss(8),Ia(),Sa(9,"p"),ss(10," In this demo we simulate items replacement by performing a sequence of 2 "),Sa(11,"em"),ss(12,"Adapter"),Ia(),ss(13,' methods: remove and insert. A few existed items (5, 6, 7) are being replaced with a new one (5*). Removing is an asynchronous operation, and we can\'t perform "insert" before "remove" is done (it will produce an error). Thus, both operations must be run in sequence. Also, we should be wary of any async processes before running the Adapter methods chain. So the algorithm for this demo can be written be as follows: '),Ia(),Sa(14,"ul"),Sa(15,"li"),ss(16,"wait for scroller stops"),Ia(),Sa(17,"li"),ss(18,"run remove"),Ia(),Sa(19,"li"),ss(20,"wait for remove is done"),Ia(),Sa(21,"li"),ss(22,"run insert"),Ia(),Ia(),Sa(23,"p"),ss(24," The purpose of the "),Sa(25,"em"),ss(26,"Adapter.relax"),Ia(),ss(27," method is to make sure that the "),Sa(28,"em"),ss(29,"uiScroll"),Ia(),ss(30,' relaxes and there are no pending internal tasks running on the Scroller\'s end. The first tab "Relax" demonstrates how the desired sequence can be implemented with the '),Sa(31,"em"),ss(32,"Adapter.relax"),Ia(),ss(33,' method. This method returns a promise which becomes resolved when the Scroller stops. Basically, this may be treated as a shortcut for the following approach, which is presented on the "Is\xa0loading" tab: '),Ia(),Sa(34,"pre"),ss(35),Ia(),Sa(36,"p"),ss(37,' All the tabs are equivalent. The third tab "Callback" uses a callback signature of the '),Sa(38,"em"),ss(39,"Adapter.relax"),Ia(),ss(40,' method. The method accepts callback as an optional argument, and this allows to run necessary logic right before resolving the "relax" promise. This might be helpful if we don\'t want to wait until the end of current call stack. '),Ia(),Sa(41,"p"),ss(42," At last, we may use "),Sa(43,"a",4),ss(44,"Return value API"),Ia(),ss(45," (which is a part of each "),Sa(46,"em"),ss(47,"Adapter"),Ia(),ss(48,' method) and get rid of the second "relax". This approach is demonstrated on the last tab "Return". '),Ia(),Ia(),Ia()),2&e&&(_a("datasource",t.datasource)("context",t.demoContext)("sources",t.sources),Hi(8),us(t.relaxSample),Hi(27),us(t.isLoadingSample),Hi(8),Fa("fragment",t.adapterReturnValueDemoConfig.id),_a("routerLink",Mu(7,_x,t.adapterReturnValueDemoConfig.scope)))},directives:[ex,Kb],encapsulation:2}),e}(),Sx=function(e){return["/",e]},Ix=function(){function e(){this.demoContext={config:Tw.adapter.map.reload,viewportId:"reload-viewport",count:0,log:""},this.startIndexDemoConfig=Tw.settings.map.startIndex,this.datasource=new Cm({get:cx(this.demoContext)}),this.sources=[{name:Vw.Component,text:"datasource = new Datasource ({\n  get: (index, count, success) => {\n    const data = [];\n    for (let i = index; i <= index + count - 1; i++) {\n      data.push({ id: i, text: 'item #' + i });\n    }\n    success(data);\n  }\n});\n\nreloadIndex: number = 99;\n\ndoReload() {\n  this.datasource.adapter.reload(this.reloadIndex);\n}"},{active:!0,name:Vw.Template,text:'<button (click)="doReload()">Reload</button>\nby index <input [(ngModel)]="reloadIndex">\n\n<div class="viewport">\n  <div *uiScroll="let item of datasource">\n    <div class="item">{{item.text}}</div>\n  </div>\n</div>'},{name:Vw.Styles,text:".viewport {\n  width: 150px;\n  height: 250px;\n  overflow-y: auto;\n}\n.item {\n  font-weight: bold;\n  height: 25px;\n}"}],this.reloadIndex=99}return e.prototype.onInputChanged=function(e){var t=parseInt(e.value,10);isNaN(t)&&(t=1),e.value=t.toString(),this.reloadIndex=t},e.prototype.doReload=function(){this.demoContext.count=0,this.demoContext.log="",this.datasource.adapter.reload(this.reloadIndex)},e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=at({type:e,selectors:[["app-demo-reload"]],decls:61,vars:8,consts:[[3,"datasource","context","sources"],["actions","",2,"display","flex"],[3,"click"],["size","2",3,"ngModel","change"],["description",""],[3,"routerLink","fragment"]],template:function(e,t){1&e&&(Sa(0,"app-demo",0),Sa(1,"div",1),Sa(2,"button",2),Ma("click",function(){return t.doReload()}),ss(3,"Reload"),Ia(),ss(4," \xa0 by index \xa0 "),Sa(5,"input",3),Ma("change",function(e){return t.onInputChanged(e.target)}),Ia(),Ia(),Sa(6,"div",4),Sa(7,"p"),ss(8," The first "),Sa(9,"em"),ss(10,"Adapter"),Ia(),ss(11," API method is the "),Sa(12,"em"),ss(13,"reload"),Ia(),ss(14," method. It allows to reload the "),Sa(15,"em"),ss(16,"uiScroll"),Ia(),ss(17," which includes resetting the items "),Sa(18,"em"),ss(19,"Buffer"),Ia(),ss(20," and the "),Sa(21,"em"),ss(22,"Viewport"),Ia(),ss(23," params. The "),Sa(24,"em"),ss(25,"reload"),Ia(),ss(26," method has 1 optional argument: "),Sa(27,"em"),ss(28,"index"),Ia(),ss(29,". It specifies the index of the item to be first in the visible part of the viewport after reload. "),Ia(),Sa(30,"p"),ss(31," If "),Sa(32,"em"),ss(33,"index"),Ia(),ss(34," argument is not set, "),Sa(35,"em"),ss(36,"settings.startIndex"),Ia(),ss(37," will be used as the first index. If neither "),Sa(38,"em"),ss(39,"index"),Ia(),ss(40," argument not "),Sa(41,"em"),ss(42,"startIndex"),Ia(),ss(43," setting is present, the default value 1 will be used. See also "),Sa(44,"a",5),ss(45,"startIndex setting description"),Ia(),ss(46,". "),Ia(),Sa(47,"p"),ss(48," The "),Sa(49,"em"),ss(50,"Adapter.reload"),Ia(),ss(51," method is safe and needs not to be protected with the "),Sa(52,"em"),ss(53,"Adapter.relax"),Ia(),ss(54," (though it could be protected if the UX demands). This method interrupts the "),Sa(55,"em"),ss(56,"uiScroll"),Ia(),ss(57," flow and synchronously terminates any pending processes on the Scroller's end. The same is true also for the "),Sa(58,"em"),ss(59,"Adapter.reset"),Ia(),ss(60," method. "),Ia(),Ia(),Ia()),2&e&&(_a("datasource",t.datasource)("context",t.demoContext)("sources",t.sources),Hi(5),_a("ngModel",t.reloadIndex),Hi(39),Fa("fragment",t.startIndexDemoConfig.id),_a("routerLink",Mu(6,Sx,t.startIndexDemoConfig.scope)))},directives:[ex,Sd,qd,kh,Kb],encapsulation:2}),e}(),Tx=function(){function e(){this.demoContext={config:Tw.adapter.map.reset,viewportId:"reset-viewport",count:0,log:""},this.datasource=new Cm({get:cx(this.demoContext)}),this.startIndex=100,this.bufferSize=20,this.sources=[{name:Vw.Component,text:"datasource = new Datasource ({\n  get: (index, count, success) => {\n    const data = [];\n    for (let i = index; i <= index + count - 1; i++) {\n      data.push({ id: i, text: 'item #' + i });\n    }\n    success(data);\n  }\n});\n\nstartIndex = 100;\nbufferSize = 20;\n\ndoReset() {\n  const settings = {\n    startIndex: Number(this.startIndex),\n    bufferSize: Number(this.bufferSize)\n  };\n  this.datasource.adapter.reset({ settings });\n}"},{active:!0,name:Vw.Template,text:'<button (click)="doReset()">Reset</button>\n<input [(ngModel)]="startIndex" size="3"> - new start index\n<input [(ngModel)]="bufferSize" size="3"> - new buffer size\n\n<div class="viewport">\n  <div *uiScroll="let item of datasource">\n    <div class="item">{{item.text}}</div>\n  </div>\n</div>'}],this.resetWithNewInstanceSample="  this.datasource.adapter.reset(new Datasource(...));"}return e.prototype.doReset=function(){this.demoContext.count=0,this.demoContext.log="";var e={startIndex:Number(this.startIndex),bufferSize:Number(this.bufferSize)};this.datasource.adapter.reset({settings:e})},e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=at({type:e,selectors:[["app-demo-reset"]],decls:76,vars:6,consts:[[3,"datasource","context","sources"],["actions",""],[3,"click"],["size","3",3,"ngModel","ngModelChange"],["description",""]],template:function(e,t){1&e&&(Sa(0,"app-demo",0),Sa(1,"div",1),Sa(2,"button",2),Ma("click",function(){return t.doReset()}),ss(3,"Reset"),Ia(),Ta(4,"br"),Sa(5,"input",3),Ma("ngModelChange",function(e){return t.startIndex=e}),Ia(),ss(6," - new start index"),Ta(7,"br"),Sa(8,"input",3),Ma("ngModelChange",function(e){return t.bufferSize=e}),Ia(),ss(9," - new buffer size "),Ia(),Sa(10,"div",4),Sa(11,"p"),Sa(12,"em"),ss(13,"Adapter.reset"),Ia(),ss(14," method is designed to reset the internal state of the "),Sa(15,"em"),ss(16,"uiScroll"),Ia(),ss(17,". It differs from "),Sa(18,"em"),ss(19,"Adapter.reload"),Ia(),ss(20," because it re-instantiates all internal entities, which is equivalent to destroying the scroller and re-creating it again via "),Sa(21,"em"),ss(22,"ngIf"),Ia(),ss(23,". "),Ia(),Sa(24,"p"),ss(25," The method has 1 optional argument: "),Sa(26,"em"),ss(27,"datasource"),Ia(),ss(28," object. By passing it, we tell the "),Sa(29,"em"),ss(30,"uiScroll"),Ia(),ss(31," that we want to use a new datasource. If the argument is not passed, the old "),Sa(32,"em"),ss(33,"datasource"),Ia(),ss(34," will be used. "),Ia(),Sa(35,"p"),ss(36," All fields of the "),Sa(37,"em"),ss(38,"datasource"),Ia(),ss(39," argument are optional. Missing parts of a new Datasource will be taken from the original one. For instance, in this demo only "),Sa(40,"em"),ss(41,"settings"),Ia(),ss(42," field is passed: "),Sa(43,"em"),ss(44,"Adapter.reset({ settings })"),Ia(),ss(45,". This sets new "),Sa(46,"em"),ss(47,"startIndex"),Ia(),ss(48," and "),Sa(49,"em"),ss(50,"bufferSize"),Ia(),ss(51," settings while "),Sa(52,"em"),ss(53,"Datasource.get"),Ia(),ss(54," remains pristine. It affects the value of the DOM elements counter. "),Ia(),Sa(55,"p"),Sa(56,"b"),ss(57,"Important note!"),Ia(),ss(58," Do not re-assign the "),Sa(59,"em"),ss(60,"datasource"),Ia(),ss(61," at the App component level, "),Sa(62,"em"),ss(63,"this.datasource"),Ia(),ss(64," must keep the same reference before and after reset. So "),Sa(65,"em"),ss(66,"this.datasource\xa0=\xa0..."),Ia(),ss(67," expressions are prohibited after reset, for it will make the Adapter subscriptions broken. The "),Sa(68,"em"),ss(69,"uiScroll"),Ia(),ss(70," maintains Datasource params and provides the Adapter consistency across the reset. Even in case of passing new instance of "),Sa(71,"em"),ss(72,"Datasource"),Ia(),ss(73,": "),Ia(),Sa(74,"pre"),ss(75),Ia(),Ia(),Ia()),2&e&&(_a("datasource",t.datasource)("context",t.demoContext)("sources",t.sources),Hi(5),_a("ngModel",t.startIndex),Hi(3),_a("ngModel",t.bufferSize),Hi(67),us(t.resetWithNewInstanceSample))},directives:[ex,Sd,qd,kh],encapsulation:2}),e}(),Ax=function(){function e(e){var t=this;this.changeDetector=e,this.demoContext={config:Tw.adapter.map.init,viewportId:"init-viewport",noInfo:!0,count:0,log:""},this.version="...",this.datasource=new Cm({get:cx(this.demoContext)}),this.sources=[{active:!0,name:Vw.Component,text:"changeDetection: ChangeDetectionStrategy.OnPush\n\n// ...\n\nversion = '...';\n\ndatasource = new Datasource ({\n  get: (index, count, success) => {\n    const data = [];\n    for (let i = index; i <= index + count - 1; i++) {\n      data.push({ id: i, text: 'item #' + i });\n    }\n    success(data);\n  }\n});\n\nconstructor(public changeDetector: ChangeDetectorRef) {\n  const { adapter } = this.datasource;\n  adapter.init$.pipe(take(1)).subscribe(() => {\n    this.version = adapter.packageInfo.consumer.version;\n    this.changeDetector.detectChanges();\n  });\n}"},{name:Vw.Template,text:'ngx-ui-scroll version is {{version}}\n\n<div class="viewport">\n  <div *uiScroll="let item of datasource">\n    <div class="item">{{item.text}}</div>\n  </div>\n</div>'},{name:Vw.Styles,text:".viewport {\n  width: 150px;\n  height: 250px;\n  overflow-y: auto;\n}\n.item {\n  font-weight: bold;\n  height: 25px;\n}"}];var n=this.datasource.adapter;n.init$.pipe(Fm(1)).subscribe(function(){t.version=n.packageInfo.consumer.version,t.changeDetector.detectChanges()})}return e.\u0275fac=function(t){return new(t||e)(ka(iu))},e.\u0275cmp=at({type:e,selectors:[["app-demo-init"]],decls:46,vars:4,consts:[[3,"datasource","context","sources"],["actions",""],["description",""]],template:function(e,t){1&e&&(Sa(0,"app-demo",0),Sa(1,"div",1),ss(2),Ia(),Sa(3,"div",2),Sa(4,"p"),Sa(5,"em"),ss(6,"Adapter.init$"),Ia(),ss(7," is a Subject-boolean property that fires once after the "),Sa(8,"em"),ss(9,"Adapter"),Ia(),ss(10," is initialized and the "),Sa(11,"em"),ss(12,"uiScroll Workflow"),Ia(),ss(13," is ready to run. There is also "),Sa(14,"em"),ss(15,"Adapter.init"),Ia(),ss(16," read-only boolean property. An important point is that there is a time gap between the Datasource/Adapter instantiation and the Scroller initialization. The initialization of the Scroller happens during the "),Sa(17,"em"),ss(18,"uiScroll Workflow"),Ia(),ss(19," running, which waits for the component to render the uiScroll-related part of its template. "),Ia(),Sa(20,"p"),ss(21," This demo implements "),Sa(22,"em"),ss(23,"OnPush"),Ia(),ss(24," strategy and displays "),Sa(25,"em"),ss(26,"ngx-ui-scroll"),Ia(),ss(27," version taken from the "),Sa(28,"em"),ss(29,"Adapter"),Ia(),ss(30,". The "),Sa(31,"em"),ss(32,"Adapter.init$"),Ia(),ss(33," subscription is used to set "),Sa(34,"em"),ss(35,"version"),Ia(),ss(36," property exactly when the "),Sa(37,"em"),ss(38,"Adapter"),Ia(),ss(39," initializes and receives all data. The "),Sa(40,"em"),ss(41,"changeDetector"),Ia(),ss(42," call is required to update the view because initializing is an asynchronous process. If we remove "),Sa(43,"em"),ss(44,"changeDetector"),Ia(),ss(45," call, we see 3 dots, the initial value. "),Ia(),Ia(),Ia()),2&e&&(_a("datasource",t.datasource)("context",t.demoContext)("sources",t.sources),Hi(2),cs(" ngx-ui-scroll version is ",t.version," "))},directives:[ex],encapsulation:2,changeDetection:0}),e}(),Ex=function(){function e(){var e=this;this.demoContext={config:Tw.adapter.map.isLoading,viewportId:"is-loading-viewport",count:0,log:""},this.datasource=new Cm({get:cx(this.demoContext,225)}),this.sources=[{name:Vw.Component,text:"datasource = new Datasource ({\n  get: (index, count, success) => {\n    const data = [];\n    for (let i = index; i <= index + count - 1; i++) {\n      data.push({ id: i, text: 'item #' + i });\n    }\n    setTimeout(() => success(data), 225);\n  }\n});\n\nisLoadingCounter = 0;\n\nconstructor() {\n  this.datasource.adapter.isLoading$\n    .subscribe(isLoading =>\n      this.isLoadingCounter += !isLoading ? 1 : 0\n    );\n}\n"},{active:!0,name:Vw.Template,text:'The uiScroll is\n{{datasource.adapter.isLoading ? \'loading\': \'relaxing\'}}.\n\n<br>\n\nThe value of isLoading counter has been changed\nfor {{isLoadingCounter}} times.\n\n<div class="viewport">\n  <div *uiScroll="let item of datasource">\n    <div class="item">{{item.text}}</div>\n  </div>\n</div>'},{name:Vw.Styles,text:".viewport {\n  width: 150px;\n  height: 250px;\n  overflow-y: auto;\n}\n.item {\n  font-weight: bold;\n  height: 25px;\n}"}],this.isLoadingCounter=0,this.datasource.adapter.isLoading$.subscribe(function(t){return e.isLoadingCounter+=t?0:1})}return e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=at({type:e,selectors:[["app-demo-is-loading"]],decls:49,vars:5,consts:[[3,"datasource","context","sources"],["actions",""],["description",""]],template:function(e,t){1&e&&(Sa(0,"app-demo",0),Sa(1,"div",1),ss(2),Ta(3,"br"),ss(4),Ia(),Sa(5,"div",2),Sa(6,"p"),ss(7," The first "),Sa(8,"em"),ss(9,"Adapter"),Ia(),ss(10," read-only property in the list is "),Sa(11,"em"),ss(12,"isLoading"),Ia(),ss(13,". It is a boolean value indicating whether there are any pending processes running by the "),Sa(14,"em"),ss(15,"uiScroll"),Ia(),ss(16,". So when "),Sa(17,"em"),ss(18,"datasource.adapter.isLoading"),Ia(),ss(19," is "),Sa(20,"em"),ss(21,"true"),Ia(),ss(22,", it means that the "),Sa(23,"em"),ss(24,"uiScroll"),Ia(),ss(25," is working right now and the viewport might be updated soon. 225ms delay was added to the "),Sa(26,"em"),ss(27,"Datasource.get"),Ia(),ss(28," implementation in this sample. "),Ia(),Sa(29,"p"),ss(30," In addition to read-only scalar "),Sa(31,"em"),ss(32,"isLoading"),Ia(),ss(33," property there is also "),Sa(34,"em"),ss(35,"isLoading$"),Ia(),ss(36," property which is Observable. A Subject, to be exact. In this demo we have a subscription and "),Sa(37,"em"),ss(38,"isLoadingCounter"),Ia(),ss(39," incrementing each time the "),Sa(40,"em"),ss(41,"isLoading"),Ia(),ss(42," becomes "),Sa(43,"em"),ss(44,"false"),Ia(),ss(45,". We see that the initial value of this counter on the UI (before any scrolling) is 1. So the "),Sa(46,"em"),ss(47,"uiScroll"),Ia(),ss(48," does initialization and first 3 fetches in a single session. "),Ia(),Ia(),Ia()),2&e&&(_a("datasource",t.datasource)("context",t.demoContext)("sources",t.sources),Hi(2),cs(" The uiScroll is ",t.datasource.adapter.isLoading?"loading":"relaxing",". "),Hi(2),cs(" The value of isLoading counter has been changed for ",t.isLoadingCounter," times. "))},directives:[ex],encapsulation:2}),e}(),Ox=function(){function e(){var e=this;this.demoContext={config:Tw.adapter.map.isLoadingAdvanced,viewportId:"is-loading-advanced-viewport",count:0,log:""},this.datasource=new Cm({get:cx(this.demoContext,125)}),this.sources=[{name:Vw.Component,text:"datasource = new Datasource ({\n  get: (index, count, success) => {\n    const data = [];\n    for (let i = index; i <= index + count - 1; i++) {\n      data.push({ id: i, text: 'item #' + i });\n    }\n    setTimeout(() => success(data), 125);\n  }\n});\n\nloadingCounter = 0;\ninnerLoopCounter = 0;\n\nconstructor() {\n  this.datasource.adapter.isLoading$\n    .subscribe(result =>\n      this.loadingCounter += !result ? 1 : 0\n    );\n  this.datasource.adapter.loopPending$\n    .subscribe(result =>\n      this.innerLoopCounter += !result ? 1 : 0\n    );\n}"},{active:!0,name:Vw.Template,text:"The uiScroll is\n{{datasource.adapter.isLoading ? 'loading': 'relaxing'}},\ncounter {{loadingCounter}}\n\n<br>\n\nInner loop is\n{{datasource.adapter.loopPending ? 'pending': 'stopped'}},\ncounter: {{innerLoopCounter}}\n\n<div class=\"viewport\">\n  <div *uiScroll=\"let item of datasource\">\n    <div class=\"item\">{{item.text}}</div>\n  </div>\n</div>"},{name:Vw.Styles,text:".viewport {\n  width: 150px;\n  height: 175px;\n  overflow-y: auto;\n}\n.item {\n  font-weight: bold;\n  height: 25px;\n}"}],this.loadingCounter=0,this.innerLoopCounter=0,this.datasource.adapter.isLoading$.subscribe(function(t){return e.loadingCounter+=t?0:1}),this.datasource.adapter.loopPending$.subscribe(function(t){return e.innerLoopCounter+=t?0:1})}return e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=at({type:e,selectors:[["app-demo-is-loading-advanced"]],decls:82,vars:7,consts:[[3,"datasource","context","sources"],["actions",""],["description",""]],template:function(e,t){1&e&&(Sa(0,"app-demo",0),Sa(1,"div",1),ss(2),Ta(3,"br"),ss(4),Ia(),Sa(5,"div",2),Sa(6,"p"),ss(7," The "),Sa(8,"em"),ss(9,"uiScroll"),Ia(),ss(10,' has internal process layer that might be called "inner loop", which is responsible for single fetch-clip-render chain. Inner loop can be empty and non-empty. Empty inner loop does nothing but check if the '),Sa(11,"em"),ss(12,"uiScroll"),Ia(),ss(13," could relax. Non-empty inner loop corresponds to 1 "),Sa(14,"em"),ss(15,"Datasource.get"),Ia(),ss(16,' call (which is "fetch" subprocess) and following viewport updates: clipping old items, inserting new ones and render. The '),Sa(17,"em"),ss(18,"Adapter.loopPending"),Ia(),ss(19," read-only property and "),Sa(20,"em"),ss(21,"Adapter.loopPending$"),Ia(),ss(22,' subscription allow us to know whether "inner loop" is working or not. '),Ia(),Sa(23,"p"),ss(24," The "),Sa(25,"em"),ss(26,"isLoading"),Ia(),ss(27," property we discussed before majorizes "),Sa(28,"em"),ss(29,"loopPending"),Ia(),ss(30," property, and this demo shows how they correlate. Here we are counting loadings and inner loops within the "),Sa(31,"em"),ss(32,"Adapter.isLoading$"),Ia(),ss(33," and "),Sa(34,"em"),ss(35,"Adapter.loopPending$"),Ia(),ss(36," subscription handlers respectively. After the "),Sa(37,"em"),ss(38,"uiScroll"),Ia(),ss(39," is initialized and started relaxing, we see that there are 4 inner loops done, while "),Sa(40,"em"),ss(41,"isLoading"),Ia(),ss(42," counter is 1. Practically it means that we have 3 "),Sa(43,"em"),ss(44,"Datasource.get"),Ia(),ss(45," calls and 1 more empty loop to ensure that the "),Sa(46,"em"),ss(47,"uiScroll"),Ia(),ss(48,' could relax. And these 4 inner loops are being packed into 1 "isLoading" session. '),Ia(),Sa(49,"p"),ss(50," So, there might be distinguished 3 levels of pending: "),Ia(),Sa(51,"ul"),Sa(52,"li"),Sa(53,"em"),ss(54,"Datasource.get"),Ia(),ss(55," pending, which is fully manual, because the implementation of the "),Sa(56,"em"),ss(57,"Datasource"),Ia(),ss(58," is in our hands; "),Ia(),Sa(59,"li"),Sa(60,"em"),ss(61,"inner loop"),Ia(),ss(62," pending, which is "),Sa(63,"em"),ss(64,"loopPending"),Ia(),ss(65," and which includes some internal "),Sa(66,"em"),ss(67,"uiScroll"),Ia(),ss(68," subprocesses (fetch, clip, render) that can take some time in addition to "),Sa(69,"em"),ss(70,"Datasource.get"),Ia(),ss(71,' work (which is a part of "fetch" subprocess); '),Ia(),Sa(72,"li"),Sa(73,"em"),ss(74,"continuous work session"),Ia(),ss(75," pending, which is "),Sa(76,"em"),ss(77,"isLoading"),Ia(),ss(78," and which consists of 1 and more inner loops that contain a single session of the internal "),Sa(79,"em"),ss(80,"uiScroll"),Ia(),ss(81," Workflow run. "),Ia(),Ia(),Ia(),Ia()),2&e&&(_a("datasource",t.datasource)("context",t.demoContext)("sources",t.sources),Hi(2),ls(" The uiScroll is ",t.datasource.adapter.isLoading?"loading":"relaxing",", counter ",t.loadingCounter," "),Hi(2),ls(" Inner loop is ",t.datasource.adapter.loopPending?"pending":"stopped",", counter: ",t.innerLoopCounter," "))},directives:[ex],encapsulation:2}),e}(),Mx=function(){function e(){this.demoContext={config:Tw.adapter.map.packageInfo,viewportId:"package-info-viewport",count:0,log:""},this.datasource=new Cm({get:cx(this.demoContext)}),this.sources=[{name:Vw.Component,text:"datasource = new Datasource ({\n  get: (index, count, success) => {\n    const data = [];\n    for (let i = index; i <= index + count - 1; i++) {\n      data.push({ id: i, text: 'item #' + i });\n    }\n    success(data);\n  }\n});"},{active:!0,name:Vw.Template,text:'Consumer: {{datasource.adapter.packageInfo.consumer.name}}\nv{{datasource.adapter.packageInfo.consumer.version}}\n<br>\nCore: {{datasource.adapter.packageInfo.core.name}}\nv{{datasource.adapter.packageInfo.core.version}}\n\n<div class="viewport">\n  <div *uiScroll="let item of datasource">\n    <div class="item">{{item.text}}</div>\n  </div>\n</div>'},{name:Vw.Styles,text:".viewport {\n  width: 150px;\n  height: 250px;\n  overflow-y: auto;\n}\n.item {\n  font-weight: bold;\n  height: 25px;\n}"}]}return e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=at({type:e,selectors:[["app-demo-package-info"]],decls:10,vars:7,consts:[[3,"datasource","context","sources"],["actions",""],["description",""]],template:function(e,t){1&e&&(Sa(0,"app-demo",0),Sa(1,"div",1),ss(2),Ta(3,"br"),ss(4),Ia(),Sa(5,"div",2),Sa(6,"p"),Sa(7,"em"),ss(8,"Adapter.packageInfo"),Ia(),ss(9,' represents a read-only object which contains information about versions of ngx-ui-scroll and its external core. Prior to ngx-ui-scroll v2, this core was a physical part of the ngx-ui-scroll codebase. Now it is a separate npm package "vscroll" that "ngx-ui-scroll" depends on. '),Ia(),Ia(),Ia()),2&e&&(_a("datasource",t.datasource)("context",t.demoContext)("sources",t.sources),Hi(2),ls(" Consumer: ",t.datasource.adapter.packageInfo.consumer.name," v",t.datasource.adapter.packageInfo.consumer.version," "),Hi(2),ls(" Core: ",t.datasource.adapter.packageInfo.core.name," v",t.datasource.adapter.packageInfo.core.version," "))},directives:[ex],encapsulation:2}),e}(),Dx=function(){function e(){this.demoContext={config:Tw.adapter.map.itemsCount,viewportId:"items-count-viewport",count:0,log:""},this.datasource=new Cm({get:cx(this.demoContext)}),this.sources=[{name:Vw.Component,text:"datasource = new Datasource ({\n  get: (index, count, success) => {\n    const data = [];\n    for (let i = index; i <= index + count - 1; i++) {\n      data.push({ id: i, text: 'item #' + i });\n    }\n    success(data);\n  }\n});"},{active:!0,name:Vw.Template,text:'The uiScroll buffer has\n{{datasource.adapter.itemsCount}} items.\n\n<div class="viewport">\n  <div *uiScroll="let item of datasource">\n    <div class="item">{{item.text}}</div>\n  </div>\n</div>'},{name:Vw.Styles,text:".viewport {\n  width: 150px;\n  height: 250px;\n  overflow-y: auto;\n}\n.item {\n  font-weight: bold;\n  height: 25px;\n}"}]}return e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=at({type:e,selectors:[["app-demo-items-count"]],decls:15,vars:4,consts:[[3,"datasource","context","sources"],["actions",""],["description",""]],template:function(e,t){1&e&&(Sa(0,"app-demo",0),Sa(1,"div",1),ss(2),Ia(),Sa(3,"div",2),Sa(4,"p"),ss(5," We may use "),Sa(6,"em"),ss(7,"Adapter.itemsCount"),Ia(),ss(8," read-only property to see how many items exist in the "),Sa(9,"em"),ss(10,"uiScroll"),Ia(),ss(11," buffer at the moment. The "),Sa(12,"em"),ss(13,"itemsCount"),Ia(),ss(14," value is the same as the value of DOM elements counter. "),Ia(),Ia(),Ia()),2&e&&(_a("datasource",t.datasource)("context",t.demoContext)("sources",t.sources),Hi(2),cs(" The uiScroll buffer has ",t.datasource.adapter.itemsCount," items. "))},directives:[ex],encapsulation:2}),e}(),Rx=function(){function e(){this.demoContext={config:Tw.adapter.map.bufferInfo,viewportId:"buffer-info-viewport",count:0,log:""},this.datasource=new Cm({get:cx(this.demoContext)}),this.sources=[{name:Vw.Component,text:"datasource = new Datasource ({\n  get: (index, count, success) => {\n    const data = [];\n    for (let i = index; i <= index + count - 1; i++) {\n      data.push({ id: i, text: 'item #' + i });\n    }\n    success(data);\n  }\n});"},{active:!0,name:Vw.Template,text:'firstIndex: {{datasource.adapter.bufferInfo.firstIndex}} /\nlastIndex: {{datasource.adapter.bufferInfo.lastIndex}} <br>\nminIndex: {{datasource.adapter.bufferInfo.minIndex}} /\nmaxIndex: {{datasource.adapter.bufferInfo.maxIndex}} <br>\n\n<div class="viewport">\n  <div *uiScroll="let item of datasource">\n    <div class="item">{{item.text}}</div>\n  </div>\n</div>'},{name:Vw.Styles,text:".viewport {\n  width: 150px;\n  height: 250px;\n  overflow-y: auto;\n}\n.item {\n  font-weight: bold;\n  height: 25px;\n}"}],this.bufferInfoType="interface IBufferInfo {\n  firstIndex: number;\n  lastIndex: number;\n  minIndex: number;\n  maxIndex: number;\n  absMinIndex: number;\n  absMaxIndex: number;\n}"}return e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=at({type:e,selectors:[["app-demo-buffer-info"]],decls:32,vars:8,consts:[[3,"datasource","context","sources"],["actions",""],["description",""]],template:function(e,t){1&e&&(Sa(0,"app-demo",0),Sa(1,"div",1),ss(2),Ta(3,"br"),ss(4),Ta(5,"br"),Ia(),Sa(6,"div",2),Sa(7,"p"),Sa(8,"em"),ss(9,"Adapter.bufferInfo"),Ia(),ss(10," is a read-only property which exposes an object of the following type: "),Ia(),Sa(11,"pre"),ss(12),Ia(),Sa(13,"p"),Sa(14,"em"),ss(15,"firstIndex"),Ia(),ss(16," & "),Sa(17,"em"),ss(18,"lastIndex"),Ia(),ss(19," are the first and the last indexes in the current Buffer, "),Sa(20,"em"),ss(21,"minIndex"),Ia(),ss(22," & "),Sa(23,"em"),ss(24,"maxIndex"),Ia(),ss(25," are min and max indexes that were present in the Buffer, "),Sa(26,"em"),ss(27,"absMinIndex"),Ia(),ss(28," & "),Sa(29,"em"),ss(30,"absMaxIndex"),Ia(),ss(31," are min and max indexes that can be present in the Buffer. "),Ia(),Ia(),Ia()),2&e&&(_a("datasource",t.datasource)("context",t.demoContext)("sources",t.sources),Hi(2),ls(" firstIndex: ",t.datasource.adapter.bufferInfo.firstIndex," / lastIndex: ",t.datasource.adapter.bufferInfo.lastIndex,""),Hi(2),ls(" minIndex: ",t.datasource.adapter.bufferInfo.minIndex," / maxIndex: ",t.datasource.adapter.bufferInfo.maxIndex,""),Hi(8),us(t.bufferInfoType))},directives:[ex],encapsulation:2}),e}(),Px=function(){function e(){var e=this;this.demoContext={config:Tw.adapter.map.bofEof,viewportId:"bof-eof-viewport",count:0,log:""},this.datasource=new Cm({get:function(t,n,r){var i=[],o=Math.max(1,t),a=Math.min(t+n-1,100);if(o<=a)for(var s=o;s<=a;s++)i.push({id:s,text:"item #"+s});ux(e.demoContext,t,n,i.length),r(i)}}),this.edgeCounter=0,this.sources=[{name:Vw.Component,text:"datasource = new Datasource ({\n  get: (index, count, success) => {\n    const MIN = 1, MAX = 100;\n    const data = [];\n    const start = Math.max(MIN, index);\n    const end = Math.min(index + count - 1, MAX);\n    if (start <= end) {\n      for (let i = start; i <= end; i++) {\n        data.push({ id: i, text: 'item #' + i, height: 20 + i });\n      }\n    }\n    success(data);\n  }\n});\n\nedgeCounter = 0;\n\nconstructor() {\n  const { eof$, bof$ } = this.datasource.adapter;\n  merge(bof$, eof$).subscribe(() => this.edgeCounter++);\n}\n"},{active:!0,name:Vw.Template,text:"Begin of file is {{datasource.adapter.bof ? '' : 'not'}} reached\n<br>\nEnd of file is {{datasource.adapter.eof ? '' : 'not'}} reached\n<br>\nBOF / EOF changes counter: {{edgeCounter}}\n\n<div class=\"viewport\">\n  <div *uiScroll=\"let item of datasource\">\n    <div class=\"item\">{{item.text}}</div>\n  </div>\n</div>"},{name:Vw.Styles,text:".viewport {\n  width: 150px;\n  height: 250px;\n  overflow-y: auto;\n}\n.item {\n  font-weight: bold;\n  height: 25px;\n}"}];var t=this.datasource.adapter;he(t.bof$,t.eof$).subscribe(function(){return e.edgeCounter++})}return e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=at({type:e,selectors:[["app-demo-bof-eof"]],decls:45,vars:6,consts:[[3,"datasource","context","sources"],["actions",""],["description",""]],template:function(e,t){1&e&&(Sa(0,"app-demo",0),Sa(1,"div",1),ss(2),Ta(3,"br"),ss(4),Ta(5,"br"),ss(6),Ia(),Sa(7,"div",2),Sa(8,"p"),Sa(9,"em"),ss(10,"Adapter.bof"),Ia(),ss(11," and "),Sa(12,"em"),ss(13,"Adapter.eof"),Ia(),ss(14," are read-only boolean properties that indicate whether the dataset beginning (bof, begin of file) or the dataset ending (eof, end of file) is reached or not. "),Ia(),Sa(15,"p"),ss(16," Along with scalar properties there are also two Observable ones: "),Sa(17,"em"),ss(18,"Adapter.bof$"),Ia(),ss(19," and "),Sa(20,"em"),ss(21,"Adapter.eof$"),Ia(),ss(22," which are Subjects and produce new values when scalar properties change. "),Ia(),Sa(23,"p"),ss(24,' In this demo we have limited datasource consisting of 100 items starting from index 1. So initially we are at the left position of the available dataset, and that\'s why we see "Begin of file is reached" message. After some scrolling down '),Sa(25,"em"),ss(26,"bof"),Ia(),ss(27," is turned to "),Sa(28,"em"),ss(29,"false"),Ia(),ss(30,". The first item is destroyed and can be retrieved again. "),Ia(),Sa(31,"p"),ss(32," The "),Sa(33,"em"),ss(34,"edgeCounter"),Ia(),ss(35," is bof/eof changes counter. It is defined via "),Sa(36,"em"),ss(37,"merge(bof$, eof$)"),Ia(),ss(38," subscription which is triggered each time "),Sa(39,"em"),ss(40,"bof$"),Ia(),ss(41,"/"),Sa(42,"em"),ss(43,"eof$"),Ia(),ss(44," emits a new value. "),Ia(),Ia(),Ia()),2&e&&(_a("datasource",t.datasource)("context",t.demoContext)("sources",t.sources),Hi(2),cs(" Begin of file is ",t.datasource.adapter.bof?"":"not"," reached "),Hi(2),cs(" End of file is ",t.datasource.adapter.eof?"":"not"," reached "),Hi(2),cs(" BOF / EOF changes counter: ",t.edgeCounter," "))},directives:[ex],encapsulation:2}),e}();function Vx(e,t){if(1&e&&(Sa(0,"div",3),ss(1),Ta(2,"br"),ss(3),Pu(4,"async"),Ta(5,"br"),ss(6),Ia()),2&e){var n,r=Na();Hi(1),cs(" First visible item's index: ",r.datasource.adapter.firstVisible.$index," "),Hi(2),cs(" Last visible item's index: ",null==(n=Vu(4,3,r.datasource.adapter.lastVisible$))?null:n.$index," "),Hi(3),cs(" Visible items counter: ",r.visibleCount," ")}}var Nx=function(){function e(){var e=this;this.demoContext={config:Tw.adapter.map.firstLastVisible,viewportId:"first-last-visible-items-viewport",count:0,log:""},this.datasource=new Cm({get:cx(this.demoContext)}),this.init=!1,this.visibleCount=0,this.sources=[{name:Vw.Component,text:"datasource = new Datasource ({\n  get: (index, count, success) => {\n    const data = [];\n    for (let i = index; i <= index + count - 1; i++) {\n      data.push({ id: i, text: 'item #' + i });\n    }\n    success(data);\n  }\n});\n\nconstructor() {\n  const { firstVisible$, lastVisible$ } = this.datasource.adapter;\n  combineLatest(firstVisible$, lastVisible$)\n    .subscribe(result => {\n      const first = Number(result[0].$index);\n      const last = Number(result[1].$index);\n      this.visibleCount =\n        isNaN(first) || isNaN(last) ? 0 : last - first + 1;\n    });\n}"},{active:!0,name:Vw.Template,text:'First visible item\'s index:\n{{datasource.adapter.firstVisible.$index}}\n<br>\nLast visible item\'s index:\n{{(datasource.adapter.lastVisible$ | async)?.$index}}\n<br>\nVisible items counter: {{visibleCount}}\n\n<div class="viewport">\n  <div *uiScroll="let item of datasource">\n    <div class="item">{{item.text}}</div>\n  </div>\n</div>'},{name:Vw.Styles,text:".viewport {\n  width: 150px;\n  height: 250px;\n  overflow-y: auto;\n}\n.item {\n  font-weight: bold;\n  height: 25px;\n}"}],this.itemAdapterDescription="  ItemAdapter {\n    $index: number;\n    data: any;\n    element?: HTMLElement;\n  }",setTimeout(function(){return e.init=!0});var t=this.datasource.adapter;Em([t.firstVisible$,t.lastVisible$]).subscribe(function(t){var n=Number(t[0].$index),r=Number(t[1].$index);e.visibleCount=isNaN(n)||isNaN(r)?0:r-n+1})}return e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=at({type:e,selectors:[["app-demo-first-last-visible-items"]],decls:60,vars:5,consts:[[3,"datasource","context","sources"],["actions","",4,"ngIf"],["description",""],["actions",""]],template:function(e,t){1&e&&(Sa(0,"app-demo",0),wa(1,Vx,7,5,"div",1),Sa(2,"div",2),Sa(3,"p"),ss(4," The "),Sa(5,"em"),ss(6,"Adapter"),Ia(),ss(7," has two read-only properties which allow to determine the first and the last visible items: "),Sa(8,"em"),ss(9,"firstVisible"),Ia(),ss(10," and "),Sa(11,"em"),ss(12,"lastVisible"),Ia(),ss(13,". These are the objects of special "),Sa(14,"em"),ss(15,"ItemAdapter"),Ia(),ss(16," type "),Ia(),Sa(17,"pre"),ss(18),Ia(),Sa(19,"p"),Sa(20,"em"),ss(21,"$index"),Ia(),ss(22," corresponds to "),Sa(23,"em"),ss(24,"Datasource"),Ia(),ss(25," item index value; "),Sa(26,"em"),ss(27,"data"),Ia(),ss(28," is what we were pushing to the "),Sa(29,"em"),ss(30,"uiScroll"),Ia(),ss(31," on "),Sa(32,"em"),ss(33,"Datasource.get"),Ia(),ss(34," (item's content); "),Sa(35,"em"),ss(36,"element"),Ia(),ss(37," is the DOM element that is relevant to our item. "),Ia(),Sa(38,"p"),ss(39," In addition to scalar "),Sa(40,"em"),ss(41,"firstVisible"),Ia(),ss(42," and "),Sa(43,"em"),ss(44,"lastVisible"),Ia(),ss(45," properties there are also Observable versions: "),Sa(46,"em"),ss(47,"firstVisible$"),Ia(),ss(48," and "),Sa(49,"em"),ss(50,"lastVisible$"),Ia(),ss(51,". Both versions could be used in the template as it is shown in this demo. Also, we may have appropriate subscriptions and here in this sample we are calculating a number of visible items with the help of "),Sa(52,"em"),ss(53,"combineLatest"),Ia(),ss(54," RxJs method. "),Ia(),Sa(55,"p"),ss(56," Recalculation of the first and the last items occurs per each non-empty "),Sa(57,"em"),ss(58,"Datasource.get"),Ia(),ss(59," call after new items are retrieved and rendered and unnecessary items are clipped out. "),Ia(),Ia(),Ia()),2&e&&(_a("datasource",t.datasource)("context",t.demoContext)("sources",t.sources),Hi(1),_a("ngIf",t.init),Hi(17),us(t.itemAdapterDescription))},directives:[ex,Ol],pipes:[jl],encapsulation:2}),e}(),jx=function(){function e(){var e=this;this.demoContext={config:Tw.adapter.map.check,viewportId:"check-size-viewport",count:0,log:""},this.MIN=1,this.MAX=200,this.startIndex=20,this.sizeValue=15,this.datasource=new Cm({get:function(t,n,r){for(var i=[],o=function(t){var n=e.data.find(function(e){return e.id===t});n&&i.push(n)},a=t;a<t+n;a++)o(a);ux(e.demoContext,t,n,i.length),r(i)},settings:{startIndex:this.startIndex}}),this.sources=[{name:Vw.Component,text:"MIN = 1;\nMAX = 200;\nstartIndex = 20;\nsizeValue = 15;\ndata: any[];\nneedAutoscroll: false;\n\nconstructor() {\n  this.data = [];\n  for (let i = this.MIN; i <= this.MAX; i++) {\n    this.data.push({ id: i, text: 'item #' + i, height: 50 });\n  }\n}\n\ndatasource = new Datasource ({\n  get: (index, count, success) => {\n    const data = [];\n    for (let i = index; i < index + count; i++) {\n      const found = this.data.find(item => item.id === i);\n      if (found) {\n        data.push(found);\n      }\n    }\n    success(data);\n  },\n  settings: {\n    startIndex: this.startIndex\n  }\n});\n\nfindElement(index: number): HTMLElement | null {\n  const viewportElement = document.getElementsByClassName('viewport')[0];\n  return viewportElement\n    ? viewportElement.querySelector(`[data-sid=\"${index}\"]`)\n    : null;\n}\n\ndoChangeSize() {\n  const DELTA = 5;\n  const index = Number(this.startIndex - DELTA);\n  if (!isNaN(index)) {\n    for (let i = index; i < index + DELTA * 2; i++) {\n      const element = this.findElement(i);\n      if (element) {\n        element.style.height = this.sizeValue + 'px';\n        const item = this.data.find(({ id }) => id === i);\n        if (item) {\n          item.height = this.sizeValue;\n        }\n      }\n    }\n  }\n}\n\nautoscroll(index: number) {\n  const element = this.findElement(index);\n  const viewportElement = document.getElementsByClassName('viewport')[0];\n  if (!element || !viewportElement) {\n    return;\n  }\n  const elementTop = element.getBoundingClientRect().top;\n  const viewportTop = viewportElement.getBoundingClientRect().top;\n  const toScroll = viewportTop - elementTop;\n  const diff = viewportElement.scrollTop - toScroll;\n  if (viewportElement.scrollTop === diff) {\n    return;\n  }\n  this.datasource.adapter.fix({ scrollPosition: diff });\n}\n\nasync doCheck() {\n  await this.datasource.adapter.relax();\n  let firstVisibleIndex: number | undefined;\n  if (this.needAutoscroll) {\n    firstVisibleIndex = this.datasource.adapter.firstVisible.$index;\n  }\n  this.doChangeSize();\n  await this.datasource.adapter.check();\n  if (firstVisibleIndex !== undefined) {\n    this.autoscroll(firstVisibleIndex);\n  }\n}"},{active:!0,name:Vw.Template,text:'<button (click)="doCheck(20)">Resize and Check</button>\n<br />\nAutoscroll: <input type="checkbox" [(ngModel)]="needAutoscroll"/>\n<br />\nFirst visible item\'s index: {{datasource.adapter.firstVisible.$index}}\n\n<div class="viewport">\n  <div *uiScroll="let item of datasource">\n    <div class="item">{{item.text}}</div>\n  </div>\n</div>'},{name:Vw.Styles,text:".viewport {\n  width: 150px;\n  height: 250px;\n  overflow-y: auto;\n}\n.item {\n  font-weight: bold;\n  height: 25px;\n  overflow: hidden;\n}"}],this.data=[];for(var t=this.MIN;t<=this.MAX;t++)this.data.push({id:t,text:"item #"+t,height:50})}return e.prototype.findElement=function(e){var t=document.getElementById(this.demoContext.viewportId||this.demoContext.config.id);return t?t.querySelector('[data-sid="'+e+'"]'):null},e.prototype.doChangeSize=function(){var e=Number(this.startIndex-5);if(!isNaN(e))for(var t=function(e){var t=n.findElement(e);if(t){t.style.height=n.sizeValue+"px";var r=n.data.find(function(t){return t.id===e});r&&(r.height=n.sizeValue)}},n=this,r=e;r<e+10;r++)t(r)},e.prototype.autoscroll=function(e){var t=this.findElement(e),n=document.getElementById(this.demoContext.viewportId||this.demoContext.config.id);if(t&&n){var r=t.getBoundingClientRect().top,i=n.getBoundingClientRect().top,o=n.scrollTop-(i-r);n.scrollTop!==o&&this.datasource.adapter.fix({scrollPosition:o})}},e.prototype.doCheck=function(){return e=this,void 0,n=function(){var e;return function(e,t){var n,r,i,o,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(o){return function(s){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return a.label++,{value:o[1],done:!1};case 5:a.label++,r=o[1],o=[0];continue;case 7:o=a.ops.pop(),a.trys.pop();continue;default:if(!((i=(i=a.trys).length>0&&i[i.length-1])||6!==o[0]&&2!==o[0])){a=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){a.label=o[1];break}if(6===o[0]&&a.label<i[1]){a.label=i[1],i=o;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(o);break}i[2]&&a.ops.pop(),a.trys.pop();continue}o=t.call(e,a)}catch(s){o=[6,s],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}}(this,function(t){switch(t.label){case 0:return[4,this.datasource.adapter.relax()];case 1:return t.sent(),this.needAutoscroll&&(e=this.datasource.adapter.firstVisible.$index),this.doChangeSize(),[4,this.datasource.adapter.check()];case 2:return t.sent(),void 0!==e&&this.autoscroll(e),[2]}})},new((t=void 0)||(t=Promise))(function(r,i){function o(e){try{s(n.next(e))}catch(t){i(t)}}function a(e){try{s(n.throw(e))}catch(t){i(t)}}function s(e){var n;e.done?r(e.value):(n=e.value,n instanceof t?n:new t(function(e){e(n)})).then(o,a)}s((n=n.apply(e,[])).next())});var e,t,n},e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=at({type:e,selectors:[["app-demo-check-size"]],decls:35,vars:5,consts:[[3,"datasource","context","sources"],["actions",""],[3,"click"],["type","checkbox",3,"ngModel","ngModelChange"],["description",""]],template:function(e,t){1&e&&(Sa(0,"app-demo",0),Sa(1,"div",1),Sa(2,"button",2),Ma("click",function(){return t.doCheck()}),ss(3,"Resize and Check"),Ia(),Ta(4,"br"),ss(5," Autoscroll: "),Sa(6,"input",3),Ma("ngModelChange",function(e){return t.needAutoscroll=e}),Ia(),Ta(7,"br"),ss(8),Ia(),Sa(9,"div",4),Sa(10,"p"),Sa(11,"em"),ss(12,"Adapter.check"),Ia(),ss(13," method could be useful when rows heights can change after rendering. By invoking "),Sa(14,"em"),ss(15,"Adapter.check()"),Ia(),ss(16," we ask the "),Sa(17,"em"),ss(18,"uiScroll"),Ia(),ss(19," to check if any of items that are in current viewport's buffer changed their size. "),Ia(),Sa(20,"p"),ss(21," In this demo method "),Sa(22,"em"),ss(23,"doCheck"),Ia(),ss(24," is implemented to "),Ia(),Sa(25,"ul"),Sa(26,"li"),ss(27,"change real size of 10 items (from 15 to 25) in DOM;"),Ia(),Sa(28,"li"),ss(29,"run "),Sa(30,"em"),ss(31,"Adapter.check()"),Ia(),ss(32,";"),Ia(),Sa(33,"li"),ss(34,"autoscroll to item that was first visible before change (optionally)."),Ia(),Ia(),Ia(),Ia()),2&e&&(_a("datasource",t.datasource)("context",t.demoContext)("sources",t.sources),Hi(6),_a("ngModel",t.needAutoscroll),Hi(2),cs(" First visible item's index: ",t.datasource.adapter.firstVisible.$index," "))},directives:[ex,kd,qd,kh],encapsulation:2}),e}(),zx=function(){function e(){this.demoContext={config:Tw.adapter.map.clip,viewportId:"clip-viewport",count:0,log:""},this.datasource=new Cm({get:cx(this.demoContext),settings:{infinite:!0}}),this.sources=[{name:Vw.Component,text:"datasource = new Datasource ({\n  get: (index, count, success) => {\n    const data = [];\n    for (let i = index; i <= index + count - 1; i++) {\n      data.push({ id: i, text: 'item #' + i });\n    }\n    success(data);\n  },\n  settings: {\n    infinite: true\n  }\n});\n\nasync doClip() {\n  await this.datasource.adapter.relax();\n  await this.datasource.adapter.clip();\n}"},{active:!0,name:Vw.Template,text:'<button (click)="doClip()">Clip</button>\n\n<div class="viewport">\n  <div *uiScroll="let item of datasource">\n    <div class="item">{{item.text}}</div>\n  </div>\n</div>'},{name:Vw.Styles,text:".viewport {\n  width: 150px;\n  height: 250px;\n  overflow-y: auto;\n}\n.item {\n  font-weight: bold;\n  height: 25px;\n}"}],this.clipOptionsDescription="  AdapterClipOptions {\n    forwardOnly?: boolean;\n    backwardOnly?: boolean;\n  }",this.clipOptionsSample="{ forwardOnly: true }"}return e.prototype.doClip=function(){return e=this,void 0,n=function(){return function(e,t){var n,r,i,o,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(o){return function(s){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return a.label++,{value:o[1],done:!1};case 5:a.label++,r=o[1],o=[0];continue;case 7:o=a.ops.pop(),a.trys.pop();continue;default:if(!((i=(i=a.trys).length>0&&i[i.length-1])||6!==o[0]&&2!==o[0])){a=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){a.label=o[1];break}if(6===o[0]&&a.label<i[1]){a.label=i[1],i=o;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(o);break}i[2]&&a.ops.pop(),a.trys.pop();continue}o=t.call(e,a)}catch(s){o=[6,s],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}}(this,function(e){switch(e.label){case 0:return[4,this.datasource.adapter.relax()];case 1:return e.sent(),[4,this.datasource.adapter.clip()];case 2:return e.sent(),[2]}})},new((t=void 0)||(t=Promise))(function(r,i){function o(e){try{s(n.next(e))}catch(t){i(t)}}function a(e){try{s(n.throw(e))}catch(t){i(t)}}function s(e){var n;e.done?r(e.value):(n=e.value,n instanceof t?n:new t(function(e){e(n)})).then(o,a)}s((n=n.apply(e,[])).next())});var e,t,n},e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=at({type:e,selectors:[["app-demo-clip"]],decls:57,vars:5,consts:[[3,"datasource","context","sources"],["actions","",2,"display","flex"],[3,"click"],["description",""]],template:function(e,t){1&e&&(Sa(0,"app-demo",0),Sa(1,"div",1),Sa(2,"button",2),Ma("click",function(){return t.doClip()}),ss(3,"Clip"),Ia(),Ia(),Sa(4,"div",3),Sa(5,"p"),Sa(6,"em"),ss(7,"Adapter.clip"),Ia(),ss(8," is another "),Sa(9,"em"),ss(10,"Adapter"),Ia(),ss(11," API method allowing to remove out-of-viewport items on demand. Not to be confused with "),Sa(12,"em"),ss(13,"Adapter.remove"),Ia(),ss(14,", as this method has no impact on the "),Sa(15,"em"),ss(16,"Datasource"),Ia(),ss(17,". It just cleans up the DOM. "),Ia(),Sa(18,"p"),ss(19," Commonly, the "),Sa(20,"em"),ss(21,"uiScroll"),Ia(),ss(22," runs the clipping procedure each time new items are fetched after scrolling. Also, the "),Sa(23,"em"),ss(24,"uiScroll"),Ia(),ss(25," clips old items from a side of the viewport that is opposite to a side where new items appear. This is one of the core parts of the virtualization concept. By invoking the "),Sa(26,"em"),ss(27,"Adapter.clip"),Ia(),ss(28," method we are telling the "),Sa(29,"em"),ss(30,"uiScroll"),Ia(),ss(31," to run this process immediately and remove items that are out of the visible part of the viewport in both directions or in specific direction. "),Ia(),Sa(32,"p"),ss(33," This could be useful when we enlarge the list of items manually, via "),Sa(34,"em"),ss(35,"Adapter.append"),Ia(),ss(36," or "),Sa(37,"em"),ss(38,".prepend"),Ia(),ss(39," methods. For example, we appended 100 new items and started scrolling down, in forward direction. We might want the items that exit the viewport in backward direction to be clipped. Such a clipping will occur automatically only when we reach the bottom line of the buffer and new items are fetched and rendered in forward direction. If we don't want to wait, we just call "),Sa(40,"em"),ss(41,"Adapter.clip"),Ia(),ss(42,". "),Ia(),Sa(43,"p"),ss(44," This demo implements some artificial but quite illustrative case. Here we disabled virtualization by turning on the "),Sa(45,"em"),ss(46,"infinite"),Ia(),ss(47,' setting. Clipping will never happen automatically. We see how the DOM elements counter value is getting bigger and bigger as we scroll on and on. By pressing the "Clip" button, we let only 20-21 items to survive. This way a kind of manual virtualization could be implemented. '),Ia(),Sa(48,"p"),ss(49," The method has an argument object that allows to run clipping process only in one direction: "),Ia(),Sa(50,"pre"),ss(51),Ia(),Sa(52,"p"),ss(53," So, if we call "),Sa(54,"em"),ss(55),Ia(),ss(56,", only those items that are out of the bottom edge of the visible part of the viewport will be clipped out. "),Ia(),Ia(),Ia()),2&e&&(_a("datasource",t.datasource)("context",t.demoContext)("sources",t.sources),Hi(51),us(t.clipOptionsDescription),Hi(4),cs("Adapter.clip(",t.clipOptionsSample,")"))},directives:[ex],encapsulation:2}),e}(),Lx=function(e,t,n,r){return new(n||(n=Promise))(function(i,o){function a(e){try{u(r.next(e))}catch(t){o(t)}}function s(e){try{u(r.throw(e))}catch(t){o(t)}}function u(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n(function(e){e(t)})).then(a,s)}u((r=r.apply(e,t||[])).next())})},Fx=function(e,t){var n,r,i,o,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(o){return function(s){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return a.label++,{value:o[1],done:!1};case 5:a.label++,r=o[1],o=[0];continue;case 7:o=a.ops.pop(),a.trys.pop();continue;default:if(!((i=(i=a.trys).length>0&&i[i.length-1])||6!==o[0]&&2!==o[0])){a=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){a.label=o[1];break}if(6===o[0]&&a.label<i[1]){a.label=i[1],i=o;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(o);break}i[2]&&a.ops.pop(),a.trys.pop();continue}o=t.call(e,a)}catch(s){o=[6,s],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}},Ux=function(){function e(){var e=this;this.demoContext={config:Tw.adapter.map.appendPrepend,viewportId:"append-prepend-viewport",count:0,log:""},this.inputValue=4,this.newIndex=0,this.datasource=new Cm({get:function(t,n,r){for(var i=[],o=t;o<t+n;o++)i.push({id:o,text:"item #"+o});ux(e.demoContext,t,n,i.length),r(i)},settings:{startIndex:100}}),this.sources=[{name:Vw.Component,text:"data: any[];\ninputValue = 4;\nnewIndex = 0;\n\ndatasource = new Datasource({\n  get: (index, count, success) => {\n    const data = [];\n    for (let i = index; i < index + count; i++) {\n      data.push({ id: i, text: 'item #' + i });\n    }\n    success(data);\n  },\n  settings: {\n    startIndex: 100\n  }\n});\n\ngenerateItems(isPrepend: boolean) {\n    const items: any[] = [];\n    for (let i = 0; i < this.inputValue; i++) {\n      this.newIndex++;\n      const item = {\n        id: this.newIndex,\n        text: 'new item #' + this.newIndex + '*'\n      };\n      isPrepend ? items.unshift(item) : items.push(item);\n    }\n    return items;\n}\n\nasync doPrepend() {\n  await this.datasource.adapter.relax();\n  await this.datasource.adapter.prepend({\n    items: this.generateItems(true)\n  });\n}\n\nasync doAppend() {\n  await this.datasource.adapter.relax();\n  await this.datasource.adapter.append({\n    items: this.generateItems(false)\n  });\n}"},{active:!0,name:Vw.Template,text:'<button (click)="doAppend()">Append</button> /\n<button (click)="doPrepend()">Prepend</button>\n<input [(ngModel)]="inputValue" size="2">\n\n<div class="viewport">\n  <div *uiScroll="let item of datasource">\n    <div class="item">{{item.text}}</div>\n  </div>\n</div>'},{name:Vw.Styles,text:".viewport {\n  width: 150px;\n  height: 250px;\n  overflow-y: auto;\n}\n.item {\n  font-weight: bold;\n  height: 25px;\n}"}],this.appendCallSample="Adapter.append({ items })",this.prependCallSample="Adapter.prepend({ items })"}return e.prototype.onInputChanged=function(e){var t=parseInt(e.value.trim(),10);e.value=t.toString(),this.inputValue=t},e.prototype.generateItems=function(e){for(var t=[],n=0;n<this.inputValue;n++){this.newIndex++;var r={id:this.newIndex,text:"new item #"+this.newIndex+"*"};e?t.unshift(r):t.push(r)}return t},e.prototype.doPrepend=function(){return Lx(this,void 0,void 0,function(){return Fx(this,function(e){switch(e.label){case 0:return[4,this.datasource.adapter.relax()];case 1:return e.sent(),[4,this.datasource.adapter.prepend({items:this.generateItems(!0)})];case 2:return e.sent(),[2]}})})},e.prototype.doAppend=function(){return Lx(this,void 0,void 0,function(){return Fx(this,function(e){switch(e.label){case 0:return[4,this.datasource.adapter.relax()];case 1:return e.sent(),[4,this.datasource.adapter.append({items:this.generateItems(!1)})];case 2:return e.sent(),[2]}})})},e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=at({type:e,selectors:[["app-demo-append-prepend"]],decls:51,vars:6,consts:[[3,"datasource","context","sources"],["actions","",2,"display","flex"],[3,"click"],["size","2",3,"ngModel","change"],["description",""]],template:function(e,t){1&e&&(Sa(0,"app-demo",0),Sa(1,"div",1),Sa(2,"button",2),Ma("click",function(){return t.doAppend()}),ss(3,"Append"),Ia(),ss(4," / "),Sa(5,"button",2),Ma("click",function(){return t.doPrepend()}),ss(6,"Prepend"),Ia(),Sa(7,"input",3),Ma("change",function(e){return t.onInputChanged(e.target)}),Ia(),Ia(),Sa(8,"div",4),Sa(9,"p"),ss(10," Adding items at the end and at the beginning of the "),Sa(11,"em"),ss(12,"uiScroll"),Ia(),ss(13," items buffer is possible with "),Sa(14,"em"),ss(15),Ia(),ss(16," and "),Sa(17,"em"),ss(18),Ia(),ss(19," methods respectively. The "),Sa(20,"em"),ss(21,"items"),Ia(),ss(22," parameter is an array of items we want to add. Both methods act in the same way, so let's discuss "),Sa(23,"em"),ss(24,"prepend"),Ia(),ss(25,". "),Ia(),Sa(26,"p"),ss(27,' In this demo we have 20 items on start and 5 of them (95-99) are invisible on the backward direction. By pushing "Prepend" button we are going to add 4 (which is the input value) new items to the top of the list. After they are prepended, they become visible when scrolling up. The '),Sa(28,"em"),ss(29,"uiScroll"),Ia(),ss(30," accurately injects prepended items into its internal buffer consisting of 95-114 rows initially, so 1-4 new items temporary take place of items with indexes 91-94. "),Ia(),Sa(31,"p"),ss(32,' But if we scroll away and make \'90s items invisible and deleted from the viewport, and then scroll back, we will realise that nothing changes: "new" items are gone and the old 91-94 items returned to initial position. The point is that the '),Sa(33,"em"),ss(34,"Datasource"),Ia(),ss(35," does not take into account our dataset changes. It is our responsibility to take care of data passing to the "),Sa(36,"em"),ss(37,"uiScroll"),Ia(),ss(38," via "),Sa(39,"em"),ss(40,"Datasource"),Ia(),ss(41,". Next sample provides one of the approach of consistent "),Sa(42,"em"),ss(43,"Datasource"),Ia(),ss(44," implementation with "),Sa(45,"em"),ss(46,"Adapter.append"),Ia(),ss(47," and "),Sa(48,"em"),ss(49,"Adapter.prepend"),Ia(),ss(50," methods usage. "),Ia(),Ia(),Ia()),2&e&&(_a("datasource",t.datasource)("context",t.demoContext)("sources",t.sources),Hi(7),_a("ngModel",t.inputValue),Hi(8),us(t.appendCallSample),Hi(3),us(t.prependCallSample))},directives:[ex,Sd,qd,kh],encapsulation:2}),e}(),Bx=function(e,t,n,r){return new(n||(n=Promise))(function(i,o){function a(e){try{u(r.next(e))}catch(t){o(t)}}function s(e){try{u(r.throw(e))}catch(t){o(t)}}function u(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n(function(e){e(t)})).then(a,s)}u((r=r.apply(e,t||[])).next())})},Hx=function(e,t){var n,r,i,o,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(o){return function(s){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return a.label++,{value:o[1],done:!1};case 5:a.label++,r=o[1],o=[0];continue;case 7:o=a.ops.pop(),a.trys.pop();continue;default:if(!((i=(i=a.trys).length>0&&i[i.length-1])||6!==o[0]&&2!==o[0])){a=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){a.label=o[1];break}if(6===o[0]&&a.label<i[1]){a.label=i[1],i=o;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(o);break}i[2]&&a.ops.pop(),a.trys.pop();continue}o=t.call(e,a)}catch(s){o=[6,s],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}},$x=function(e){return["/",e]},qx=function(){function e(){var e=this;this.demoContext={config:Tw.adapter.map.appendPrependSync,viewportId:"append-prepend-sync-viewport",count:0,log:""},this.adapterScope=Tw.adapter,this.MIN=100,this.MAX=200,this.datasource=new Cm({get:function(t,n,r){for(var i=[],o=function(t){var n=e.data.find(function(e){return e.id===t});n&&i.push(n)},a=t;a<t+n;a++)o(a);ux(e.demoContext,t,n,i.length),r(i)},settings:{startIndex:this.MIN}}),this.sources=[{name:Vw.Component,text:"MIN = 100;\nMAX = 200;\ninputValue = 1;\ndata: any[];\n\nconstructor() {\n  this.data = [];\n  for (let i = this.MIN; i <= this.MAX; i++) {\n    this.data.push({ id: i, text: 'item #' + i });\n  }\n}\n\ndatasource = new Datasource({\n  get: (index, count, success) => {\n    const data = [];\n    for (let i = index; i < index + count; i++) {\n      const found = this.data.find(item => item.id === i);\n      if (found) {\n        data.push(found);\n      }\n    }\n    success(data);\n  },\n  settings: {\n    startIndex: this.MIN\n  }\n});\n\nasync doAppend() {\n  await this.datasource.adapter.relax();\n  const items = [];\n  for (let i = 0; i < this.inputValue; i++) {\n    this.MAX++;\n    const newItem = {\n      id: this.MAX,\n      text: 'item #' + this.MAX + '*'\n    };\n    this.data.push(newItem);\n    items.push(newItem);\n  }\n  await this.datasource.adapter.append({ items, eof: true });\n}\n\nasync doPrepend() {\n  await this.datasource.adapter.relax();\n  const items = [];\n  for (let i = 0; i < this.inputValue; i++) {\n    this.MIN--;\n    const newItem = {\n      id: this.MIN,\n      text: 'item #' + this.MIN + '*'\n    };\n    this.data.unshift(newItem);\n    items.push(newItem);\n  }\n  await this.datasource.adapter.prepend({ items, bof: true});\n}"},{active:!0,name:Vw.Template,text:'<button (click)="doAppend()">Append</button> /\n<button (click)="doPrepend()">Prepend</button>\n<input [(ngModel)]="inputValue" size="2">\n\n<div class="viewport">\n  <div *uiScroll="let item of datasource">\n    <div class="item">{{item.text}}</div>\n  </div>\n</div>'},{name:Vw.Styles,text:".viewport {\n  width: 150px;\n  height: 250px;\n  overflow-y: auto;\n}\n.item {\n  font-weight: bold;\n  height: 25px;\n}"}],this.prependCallSample="Adapter.prepend({ items, bof })",this.appendCallSample="Adapter.append({ items, eof })",this.inputValue=1,this.data=[];for(var t=this.MIN;t<=this.MAX;t++)this.data.push({id:t,text:"item #"+t})}return e.prototype.onInputChanged=function(e){var t=parseInt(e.value.trim(),10);e.value=t.toString(),this.inputValue=t},e.prototype.doAppend=function(){return Bx(this,void 0,void 0,function(){var e,t,n;return Hx(this,function(r){switch(r.label){case 0:return[4,this.datasource.adapter.relax()];case 1:for(r.sent(),e=[],t=0;t<this.inputValue;t++)this.MAX++,this.data.push(n={id:this.MAX,text:"item #"+this.MAX+"*"}),e.push(n);return[4,this.datasource.adapter.append({items:e,eof:!0})];case 2:return r.sent(),[2]}})})},e.prototype.doPrepend=function(){return Bx(this,void 0,void 0,function(){var e,t,n;return Hx(this,function(r){switch(r.label){case 0:return[4,this.datasource.adapter.relax()];case 1:for(r.sent(),e=[],t=0;t<this.inputValue;t++)this.MIN--,this.data.unshift(n={id:this.MIN,text:"item #"+this.MIN+"*"}),e.push(n);return[4,this.datasource.adapter.prepend({items:e,bof:!0})];case 2:return r.sent(),[2]}})})},e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=at({type:e,selectors:[["app-demo-append-prepend-sync"]],decls:83,vars:18,consts:[[3,"datasource","context","sources"],["actions","",2,"display","flex"],[3,"click"],["size","3",3,"ngModel","change"],["description",""],[3,"routerLink","fragment"]],template:function(e,t){1&e&&(Sa(0,"app-demo",0),Sa(1,"div",1),Sa(2,"button",2),Ma("click",function(){return t.doAppend()}),ss(3,"Append"),Ia(),ss(4," / "),Sa(5,"button",2),Ma("click",function(){return t.doPrepend()}),ss(6,"Prepend"),Ia(),Sa(7,"input",3),Ma("change",function(e){return t.onInputChanged(e.target)}),Ia(),Ia(),Sa(8,"div",4),Sa(9,"p"),ss(10," Along with the "),Sa(11,"em"),ss(12,"items"),Ia(),ss(13," parameter both "),Sa(14,"em"),ss(15,"Adapter.append"),Ia(),ss(16," and "),Sa(17,"em"),ss(18,"Adapter.prepend"),Ia(),ss(19," methods have "),Sa(20,"em"),ss(21,"eof"),Ia(),ss(22,"/"),Sa(23,"em"),ss(24,"bof"),Ia(),ss(25," parameter which is optional and which allows to prevent rendering of new items in the Viewport when the end of the dataset (if we are speaking of "),Sa(26,"em"),ss(27,"append"),Ia(),ss(28,") or beginning of the dataset ("),Sa(29,"em"),ss(30,"prepend"),Ia(),ss(31," case) is not reached. See also "),Sa(32,"a",5),ss(33,"bof/eof demo"),Ia(),ss(34,". "),Ia(),Sa(35,"p"),ss(36," Let's discuss "),Sa(37,"em"),ss(38),Ia(),ss(39," case. If "),Sa(40,"em"),ss(41,"bof"),Ia(),ss(42," is set to "),Sa(43,"em"),ss(44,"true"),Ia(),ss(45," and the beginning of the dataset is reached (and no more items can be fetched in backward direction), then new items will be injected immediately. Otherwise new items will not appear, they will be virtualized: viewport backward padding element size will be increased in accordance with the number of new items multiplied by the average item size. The same is true for "),Sa(46,"em"),ss(47),Ia(),ss(48," adjusted for forward direction and forward padding element. "),Ia(),Sa(49,"p"),ss(50," In this demo we want the datasource to be consistent with the dataset changes made during append/prepend. For this purpose a limited dataset is initialized on the constructor and "),Sa(51,"em"),ss(52,"Datasource.get"),Ia(),ss(53," takes items by "),Sa(54,"em"),ss(55,"id"),Ia(),ss(56,", not by index. We can't rely on index because we are going to update our dataset per each "),Sa(57,"em"),ss(58,"doAppend"),Ia(),ss(59," / "),Sa(60,"em"),ss(61,"doPrepend"),Ia(),ss(62," calls destructively by "),Sa(63,"em"),ss(64,"unshift"),Ia(),ss(65," and "),Sa(66,"em"),ss(67,"push"),Ia(),ss(68,". This will guarantee stable data flow from the App component to the "),Sa(69,"em"),ss(70,"uiScroll"),Ia(),ss(71,". "),Ia(),Sa(72,"p"),ss(73," Practical use of this feature could be versatile, but the main idea is to synchronize, say, remote dataset changes with the "),Sa(74,"em"),ss(75,"uiScroll"),Ia(),ss(76," state visible to the end user. Another examples of such synchronization could be found in "),Sa(77,"a",5),ss(78,"remove"),Ia(),ss(79," and "),Sa(80,"a",5),ss(81,"insert"),Ia(),ss(82,". "),Ia(),Ia(),Ia()),2&e&&(_a("datasource",t.datasource)("context",t.demoContext)("sources",t.sources),Hi(7),_a("ngModel",t.inputValue),Hi(25),Fa("fragment",t.adapterScope.map.bofEof.id),_a("routerLink",Mu(12,$x,t.adapterScope.id)),Hi(6),us(t.prependCallSample),Hi(9),us(t.appendCallSample),Hi(30),Fa("fragment",t.adapterScope.map.remove.id),_a("routerLink",Mu(14,$x,t.adapterScope.id)),Hi(3),Fa("fragment",t.adapterScope.map.insert.id),_a("routerLink",Mu(16,$x,t.adapterScope.id)))},directives:[ex,Sd,qd,kh,Kb],encapsulation:2}),e}(),Wx=function(e,t,n,r){return new(n||(n=Promise))(function(i,o){function a(e){try{u(r.next(e))}catch(t){o(t)}}function s(e){try{u(r.throw(e))}catch(t){o(t)}}function u(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n(function(e){e(t)})).then(a,s)}u((r=r.apply(e,t||[])).next())})},Gx=function(e,t){var n,r,i,o,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(o){return function(s){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return a.label++,{value:o[1],done:!1};case 5:a.label++,r=o[1],o=[0];continue;case 7:o=a.ops.pop(),a.trys.pop();continue;default:if(!((i=(i=a.trys).length>0&&i[i.length-1])||6!==o[0]&&2!==o[0])){a=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){a.label=o[1];break}if(6===o[0]&&a.label<i[1]){a.label=i[1],i=o;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(o);break}i[2]&&a.ops.pop(),a.trys.pop();continue}o=t.call(e,a)}catch(s){o=[6,s],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}};function Xx(e,t){if(1&e){var n=Aa();ss(0),Sa(1,"span",6),Ma("click",function(){tn(n);var e=t.item;return Na().removeById(e.id)}),ss(2,"[remove]"),Ia()}2&e&&cs(" ",t.item.text," ")}var Zx=function(){function e(){var e=this;this.demoContext={config:Tw.adapter.map.remove,viewportId:"remove-viewport",addClass:"remove",count:0,log:""},this.MIN=-50,this.MAX=50,this.inputValue=5,this.datasource=new Cm({get:function(t,n,r){var i=[],o=-Math.min(e.MIN,0),a=Math.max(t+o,0),s=Math.min(t+n-1,e.MAX)+o;a<=s&&(i=e.data.slice(a,s+1)),ux(e.demoContext,t,n,i.length),r(i)}}),this.sources=[{name:Vw.Component,text:"MIN = -50;\nMAX = 50;\ndata: MyItem[];\ninputValue = 5;\n\nconstructor() {\n  this.data = [];\n  for (let i = this.MIN; i <= this.MAX; i++) {\n    this.data.push({ id: i, text: 'item #' + i });\n  }\n}\n\ndatasource = new Datasource<IAdapter<MyItem>>({\n  get: (index: number, count: number, success: Function) => {\n    const shift = -Math.min(this.MIN, 0);\n    const start = Math.max(index + shift, 0);\n    const end = Math.min(index + count - 1, this.MAX) + shift;\n    success(start <= end\n      ? this.data.slice(start, end + 1)\n      : []\n    );\n  }\n});\n\nremoveFromDatasource(toRemove: number, byIndex = false) {\n  const indexToRemove = byIndex\n    ? toRemove - Math.min(this.MIN, 0) // shift!\n    : this.data.findIndex(({ id }) => id === toRemove);\n  if (indexToRemove >= 0) {\n    this.data.splice(indexToRemove, 1);\n  }\n  this.MAX--;\n}\n\nasync removeById(id: number) {\n  await this.datasource.adapter.relax();\n  this.removeFromDatasource(id);\n  await this.datasource.adapter.remove({\n    predicate: ({ data }) => data.id === id\n  });\n}\n\nasync removeByIndex(index: number) {\n  await this.datasource.adapter.relax();\n  this.removeFromDatasource(index, true);\n  await this.datasource.adapter.remove({\n    predicate: ({ $index }) => $index === index\n  });\n}"},{active:!0,name:Vw.Template,text:'<input [(ngModel)]="inputValue" size="3">\n<button (click)="removeByIndex(inputValue)">\n  Remove by index\n</button>\n\n<div class="viewport">\n  <div *uiScroll="let item of datasource">\n    <div class="item">\n      {{item.text}}\n      <span class="remove" (click)="removeById(item.id)">\n        [remove]\n      </span>\n    </div>\n  </div>\n</div>'},{name:Vw.Styles,text:".viewport {\n  width: 150px;\n  height: 250px;\n  overflow-y: auto;\n}\n.item {\n  font-weight: bold;\n  height: 25px;\n}\n.remove {\n  font-weight: normal;\n  font-size: smaller;\n  cursor: pointer;\n}\n.remove:hover {\n  color: rgb(158, 0, 0);\n}"}],this.argumentsDescription="  AdapterRemoveOptions {\n    predicate?: ItemsPredicate;\n    indexes?: number[];\n    increase?: boolean;\n  }",this.predicateDescription="  adapter.remove({ predicate: ({ data }) => data.id === id });\n  adapter.remove({ predicate: ({ $index }) => $index === index });",this.data=[];for(var t=this.MIN;t<=this.MAX;t++)this.data.push({id:t,text:"item #"+t})}return e.prototype.onInputChanged=function(e){var t=parseInt(e.value.trim(),10);e.value=t.toString(),this.inputValue=t},e.prototype.removeFromDatasource=function(e,t){void 0===t&&(t=!1);var n=t?e-Math.min(this.MIN,0):this.data.findIndex(function(t){return t.id===e});n>=0&&this.data.splice(n,1),this.MAX--},e.prototype.removeById=function(e){return Wx(this,void 0,void 0,function(){return Gx(this,function(t){switch(t.label){case 0:return[4,this.datasource.adapter.relax()];case 1:return t.sent(),this.removeFromDatasource(e),[4,this.datasource.adapter.remove({predicate:function(t){return t.data.id===e}})];case 2:return t.sent(),[2]}})})},e.prototype.removeByIndex=function(e){return Wx(this,void 0,void 0,function(){return Gx(this,function(t){switch(t.label){case 0:return[4,this.datasource.adapter.relax()];case 1:return t.sent(),this.removeFromDatasource(e,!0),[4,this.datasource.adapter.remove({predicate:function(t){return t.$index===e}})];case 2:return t.sent(),[2]}})})},e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=at({type:e,selectors:[["app-demo-remove"]],decls:77,vars:7,consts:[["itemTemplate",""],[3,"datasource","context","sources","itemTemplate"],["actions",""],["size","3",3,"ngModel","ngModelChange","change"],[3,"click"],["description",""],[1,"remove",3,"click"]],template:function(e,t){if(1&e&&(wa(0,Xx,3,1,"ng-template",null,0,ec),Sa(2,"app-demo",1),Sa(3,"div",2),Sa(4,"input",3),Ma("ngModelChange",function(e){return t.inputValue=e})("change",function(e){return t.onInputChanged(e.target)}),Ia(),Sa(5,"button",4),Ma("click",function(){return t.removeByIndex(t.inputValue)}),ss(6,"Remove by index"),Ia(),Ia(),Sa(7,"div",5),Sa(8,"p"),Sa(9,"em"),ss(10,"Adapter.remove"),Ia(),ss(11," method allows to remove items from current buffer or/and virtually. The argument of this method is an object of the following type: "),Ia(),Sa(12,"pre"),ss(13),Ia(),Sa(14,"p"),ss(15," The "),Sa(16,"em"),ss(17,"predicate"),Ia(),ss(18," option is a function applying to each item in the buffer. If the return value is true, the item will be removed. The argument of the predicate has "),Sa(19,"em"),ss(20,"ItemAdapter"),Ia(),ss(21," type, and in this demo we have two versions of "),Sa(22,"em"),ss(23,"predicate"),Ia(),ss(24," using for removing by id and by index: "),Ia(),Sa(25,"pre"),ss(26),Ia(),Sa(27,"p"),ss(28," Indexes are adjusted each time we perform a removing via Adapter. It is impossible to remove item with id = 5 twice, because there is only one item with id = 5. But we may remove item with index = 5 as many times as many items we have after this index. "),Ia(),Sa(29,"p"),ss(30," Only a continuous series of items can be removed at a time using "),Sa(31,"em"),ss(32,"predicate"),Ia(),ss(33,". So, if you need to remove items 1, 2, 3 and 5, you need to call this method twice: once for 1, 2, 3 and then for 5. "),Ia(),Sa(34,"p"),ss(35," Instead of "),Sa(36,"em"),ss(37,"predicate"),Ia(),ss(38," running over buffered items, it is possible to remove items by "),Sa(39,"em"),ss(40,"indexes"),Ia(),ss(41,". It has no sequence limitation. This method works with both buffered and virtual items. For example, if we have [1..10] buffered items (they are rendered) and [11..100] virtual items (emulated via forward padding element which size corresponds to 90 virtual items) and then we perform "),Sa(42,"em"),ss(43,"Adapter.remove({ indexes: [100] })"),Ia(),ss(44,", we'll have the following: "),Ia(),Sa(45,"ul"),Sa(46,"li"),ss(47,"buffer is not affected"),Ia(),Sa(48,"li"),ss(49,"the visible part of the viewport remains the same"),Ia(),Sa(50,"li"),ss(51," size of the forward padding is reduced by the size of the 100th item, so the scrollable area becomes slightly smaller "),Ia(),Ia(),Sa(52,"p"),ss(53," Indexes decrease by default, and the next option ("),Sa(54,"em"),ss(55,"increase"),Ia(),ss(56,") allows to change the default indexes adjustment strategy. By setting "),Sa(57,"em"),ss(58,"increase"),Ia(),ss(59," to "),Sa(60,"em"),ss(61,"true"),Ia(),ss(62,", we tell the "),Sa(63,"em"),ss(64,"uiScroll"),Ia(),ss(65," that we want to increase indexes of the items before the removed one(s). "),Ia(),Sa(66,"p"),ss(67," The very important thing is to synchronize the datasource with the changes we are making over the "),Sa(68,"em"),ss(69,"uiScroll"),Ia(),ss(70," buffer via "),Sa(71,"em"),ss(72,"Adapter.remove"),Ia(),ss(73,". Generally this is the App component responsibility, and in this demo it is done by the "),Sa(74,"em"),ss(75,"removeFromDatasource"),Ia(),ss(76," method. It removes 1 item from the initial dataset, and decrements the value of the right border. "),Ia(),Ia(),Ia()),2&e){var n=xa(1);Hi(2),_a("datasource",t.datasource)("context",t.demoContext)("sources",t.sources)("itemTemplate",n),Hi(2),_a("ngModel",t.inputValue),Hi(9),us(t.argumentsDescription),Hi(13),us(t.predicateDescription)}},directives:[ex,Sd,qd,kh],encapsulation:2}),e}(),Qx=function(e,t,n,r){return new(n||(n=Promise))(function(i,o){function a(e){try{u(r.next(e))}catch(t){o(t)}}function s(e){try{u(r.throw(e))}catch(t){o(t)}}function u(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n(function(e){e(t)})).then(a,s)}u((r=r.apply(e,t||[])).next())})},Kx=function(e,t){var n,r,i,o,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(o){return function(s){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return a.label++,{value:o[1],done:!1};case 5:a.label++,r=o[1],o=[0];continue;case 7:o=a.ops.pop(),a.trys.pop();continue;default:if(!((i=(i=a.trys).length>0&&i[i.length-1])||6!==o[0]&&2!==o[0])){a=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){a.label=o[1];break}if(6===o[0]&&a.label<i[1]){a.label=i[1],i=o;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(o);break}i[2]&&a.ops.pop(),a.trys.pop();continue}o=t.call(e,a)}catch(s){o=[6,s],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}},Yx=function(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,i,o=n.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(r=o.next()).done;)a.push(r.value)}catch(s){i={error:s}}finally{try{r&&!r.done&&(n=o.return)&&n.call(o)}finally{if(i)throw i.error}}return a},Jx=function(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(Yx(arguments[t]));return e};function ek(e,t){if(1&e&&(Sa(0,"div"),Sa(1,"div",13),Sa(2,"small"),ss(3),Ia(),ss(4),Ia(),Ia()),2&e){var n=t.$implicit,r=t.index;Hi(3),cs("",r,")"),Hi(1),cs(" ",n," ")}}function tk(e,t){if(1&e&&(Sa(0,"div"),Sa(1,"div",13),Sa(2,"small"),ss(3),Ia(),ss(4),Ia(),Ia()),2&e){var n=t.$implicit,r=t.index;Hi(3),cs("",r,")"),Hi(1),cs(" ",n," ")}}var nk=function(){function e(){var e=this;this.demoConfig=Tw.adapter.map.insert,this.MIN=1,this.MAX=100,this.MIN2=1,this.MAX2=100,this.datasource=new Cm({get:function(t,n,r){t-=e.MIN;var i=Math.max(0,t),o=Math.min(e.MAX-e.MIN+1,t+n);r(i>o?[]:e.data.slice(i,o))},settings:{startIndex:this.MIN}}),this.datasource2=new Cm({get:function(t,n,r){t-=e.MIN2;var i=Math.max(0,t),o=Math.min(e.MAX2-e.MIN2+1,t+n);r(i>o?[]:e.data2.slice(i,o))},settings:{startIndex:this.MIN2}}),this.inputCount="2",this.inputIndex="3",this.inputCount2="2",this.inputIndex2="3",this.sources=[{active:!0,name:Vw.Component,text:"MIN = 1;\nMAX = 100;\ndata = [];\n\ninputCount = '2';\ninputIndex = '3';\n\nconstructor() {\n  for (let i = this.MIN; i <= this.MAX; i++) {\n    this.data.push('item #' + i);\n  }\n}\n\ndatasource = new Datasource<IAdapter<string>>({\n  get: (index, count, success) => {\n    index -= this.MIN; // convert to natural indexes starting with 0\n    const start = Math.max(0, index);\n    const end = Math.min(this.MAX - this.MIN + 1, index + count);\n    if (start > end) {\n      success([]);\n      return;\n    }\n    success(this.data.slice(start, end));\n  },\n  settings: {\n    startIndex: this.MIN\n  }\n});\n  "},{name:"Increase",text:"\nasync doInsert() {\n  await this.datasource.adapter.relax();\n  const count = Number(this.inputCount); // first input\n  const itemData = 'item #' + this.inputIndex; // second input\n  const index = this.data.indexOf(itemData);\n  if (index < 0 || isNaN(count)) {\n    return;\n  }\n  const items = [];\n  for (let i = 1; i <= count; i++) {\n    this.MAX++;\n    const newItem = itemData + ' ' + Array(i).fill('*').join('');\n    items.push(newItem);\n  }\n  this.data = [\n    ...this.data.slice(0, index),\n    ...items,\n    ...this.data.slice(index)\n  ];\n  await this.datasource.adapter.insert({\n    after: ({ data }) => data === itemData,\n    items\n  });\n}\n"},{name:"Decrease",text:"\nasync doInsert() {\n  await this.datasource.adapter.relax();\n  const count = Number(this.inputCount); // first input\n  const itemData = 'item #' + this.inputIndex; // second input\n  const index = this.data.indexOf(itemData);\n  if (index < 0 || isNaN(count)) {\n    return;\n  }\n  const items = [];\n  for (let i = 1; i <= count; i++) {\n    this.MIN--;\n    const newItem = itemData + ' ' + Array(i).fill('*').join('');\n    items.unshift(newItem);\n  }\n  this.data = [\n    ...this.data.slice(0, index),\n    ...items,\n    ...this.data.slice(index)\n  ];\n  await this.datasource.adapter.insert({\n    before: ({ data }) => data === itemData,\n    items,\n    decrease: true\n  });\n}\n"}],this.argumentsDescription="  AdapterInsertOptions {\n    items: any[];\n    before?: ItemsPredicate;\n    after?: ItemsPredicate;\n    decrease?: boolean;\n  }",this.data=[];for(var t=this.MIN;t<=this.MAX;t++)this.data.push("item #"+t);for(this.data2=[],t=this.MIN2;t<=this.MAX2;t++)this.data2.push("item #"+t)}return e.prototype.doInsert=function(){return Qx(this,void 0,void 0,function(){var e,t,n,r,i,o;return Kx(this,function(a){switch(a.label){case 0:return[4,this.datasource.adapter.relax()];case 1:if(a.sent(),t=this.data.indexOf(e="item #"+this.inputIndex),n=Number(this.inputCount),t<0||isNaN(n))return[2];for(r=[],i=1;i<=n;i++)this.MAX++,o=e+" "+Array(i).fill("*").join(""),r.push(o);return this.data=Jx(this.data.slice(0,t),r,this.data.slice(t)),[4,this.datasource.adapter.insert({after:function(t){return t.data===e},items:r})];case 2:return a.sent(),[2]}})})},e.prototype.doInsert2=function(){return Qx(this,void 0,void 0,function(){var e,t,n,r,i,o;return Kx(this,function(a){switch(a.label){case 0:return[4,this.datasource2.adapter.relax()];case 1:if(a.sent(),t=this.data.indexOf(e="item #"+this.inputIndex2),n=Number(this.inputCount2),t<0||isNaN(n))return[2];for(r=[],i=1;i<=n;i++)this.MIN2--,o=e+" "+Array(i).fill("*").join(""),r.unshift(o);return this.data2=Jx(this.data2.slice(0,t),r,this.data2.slice(t)),[4,this.datasource2.adapter.insert({before:function(t){return t.data===e},items:r,decrease:!0})];case 2:return a.sent(),[2]}})})},e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=at({type:e,selectors:[["app-demo-insert"]],decls:109,vars:9,consts:[[1,"demo"],[3,"config"],[1,"work"],[1,"viewport-wrapper"],[1,"actions"],[3,"click"],["size","2",3,"ngModel","ngModelChange"],["size","4",3,"ngModel","ngModelChange"],[1,"viewport"],[4,"uiScroll","uiScrollOf"],[1,"clearfix","mb-3"],[3,"sources"],[1,"description"],[1,"item"]],template:function(e,t){1&e&&(Sa(0,"div",0),Ta(1,"app-demo-title",1),Sa(2,"div",2),Sa(3,"div",3),Sa(4,"div",4),Sa(5,"button",5),Ma("click",function(){return t.doInsert()}),ss(6,"Insert"),Ia(),Sa(7,"input",6),Ma("ngModelChange",function(e){return t.inputCount=e}),Ia(),ss(8," items "),Ta(9,"br"),ss(10," after item #"),Sa(11,"input",7),Ma("ngModelChange",function(e){return t.inputIndex=e}),Ia(),Ta(12,"br"),ss(13," incrementally "),Ia(),Sa(14,"div",8),wa(15,ek,5,2,"div",9),Ia(),Ia(),Sa(16,"div",3),Sa(17,"div",4),Sa(18,"button",5),Ma("click",function(){return t.doInsert2()}),ss(19,"Insert"),Ia(),Sa(20,"input",6),Ma("ngModelChange",function(e){return t.inputCount2=e}),Ia(),ss(21," items "),Ta(22,"br"),ss(23," before item #"),Sa(24,"input",7),Ma("ngModelChange",function(e){return t.inputIndex2=e}),Ia(),Ta(25,"br"),ss(26," decrementally "),Ia(),Sa(27,"div",8),wa(28,tk,5,2,"div",9),Ia(),Ia(),Ta(29,"div",10),Ia(),Ta(30,"app-demo-sources",11),Sa(31,"div",12),Sa(32,"p"),Sa(33,"em"),ss(34,"Adapter.insert"),Ia(),ss(35," method is dedicated for adding items in the runtime without scrolling. It allows to insert new items before or after specified one. The argument of this method is an object of the following type: "),Ia(),Sa(36,"pre"),ss(37),Ia(),Sa(38,"p"),ss(39," The "),Sa(40,"em"),ss(41,"items"),Ia(),ss(42," option is an array we want to be added to the viewport. This is mandatory field. Both "),Sa(43,"em"),ss(44,"before"),Ia(),ss(45," and "),Sa(46,"em"),ss(47,"after"),Ia(),ss(48," options are predicate functions applying to each item in the current buffer. The first "),Sa(49,"em"),ss(50,"true"),Ia(),ss(51," result of running the predicate determines the item before/after which the new ones should appear. Only one of the "),Sa(52,"em"),ss(53,"before"),Ia(),ss(54," and "),Sa(55,"em"),ss(56,"after"),Ia(),ss(57," fields is allowed. "),Ia(),Sa(58,"p"),ss(59," The last option is "),Sa(60,"em"),ss(61,"decrease"),Ia(),ss(62,". The indexes of the items following after the inserted ones increase by default. This behavior can be changed, and setting "),Sa(63,"em"),ss(64,"decrease"),Ia(),ss(65," to "),Sa(66,"em"),ss(67,"true"),Ia(),ss(68,", we are telling the "),Sa(69,"em"),ss(70,"uiScroll"),Ia(),ss(71," that we want to decrease the indexes of the items that are before the inserted ones. "),Ia(),Sa(72,"p"),ss(73," The demo shows how the "),Sa(74,"em"),ss(75,"Adapter.insert"),Ia(),ss(76,' method can be used in the real life. "Component" tab contains common datasource logic. "Increase" and "Decrease" tabs present inserting logic for both cases we have in this demo. Note that each item there is just a string, and the '),Sa(77,"em"),ss(78,"uiScroll"),Ia(),ss(79," deals with natural indexes, which forces us to subtract "),Sa(80,"em"),ss(81,"MIN"),Ia(),ss(82," value from the "),Sa(83,"em"),ss(84,"index"),Ia(),ss(85," coming into the "),Sa(86,"em"),ss(87,"Datasource.get"),Ia(),ss(88," body. "),Ia(),Sa(89,"p"),ss(90," Also, this is very important to maintain consistency between the external "),Sa(91,"em"),ss(92,"Datasource"),Ia(),ss(93," and the internal "),Sa(94,"em"),ss(95,"uiScroll"),Ia(),ss(96," buffer. Both "),Sa(97,"em"),ss(98,"doInsert"),Ia(),ss(99," methods do it.They a) generate new items in a for-loop, b) insert them into the datasource by updating "),Sa(100,"em"),ss(101,"this.data"),Ia(),ss(102,", c) insert them into the internal "),Sa(103,"em"),ss(104,"Buffer"),Ia(),ss(105," via "),Sa(106,"em"),ss(107,"Adapter.insert"),Ia(),ss(108,". "),Ia(),Ia(),Ia()),2&e&&(Hi(1),_a("config",t.demoConfig),Hi(6),_a("ngModel",t.inputCount),Hi(4),_a("ngModel",t.inputIndex),Hi(4),_a("uiScrollOf",t.datasource),Hi(5),_a("ngModel",t.inputCount2),Hi(4),_a("ngModel",t.inputIndex2),Hi(4),_a("uiScrollOf",t.datasource2),Hi(2),_a("sources",t.sources),Hi(7),us(t.argumentsDescription))},directives:[jw,Sd,qd,kh,wm,Bw],encapsulation:2}),e}(),rk=function(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,i,o=n.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(r=o.next()).done;)a.push(r.value)}catch(s){i={error:s}}finally{try{r&&!r.done&&(n=o.return)&&n.call(o)}finally{if(i)throw i.error}}return a};function ik(e,t){if(1&e&&(Sa(0,"span",6),ss(1),Ia(),ss(2)),2&e){var n=t.item,r=t.index;Hi(1),cs("",r,")"),Hi(1),cs(" ",n.text,"\n")}}var ok=function(e){return["/",e]},ak=function(){function e(){var e=this;this.demoContext={config:Tw.adapter.map.replace,viewportId:"replace-viewport",addClass:"replace",count:0,log:""},this.adapterScope=Tw.adapter,this.MAX=100,this.datasource=new Cm({get:function(t,n,r){var i=[],o=Math.min(t+n-1,e.data.length-1);t<=o&&(i=e.data.slice(t,o+1)),ux(e.demoContext,t,n,i.length),r(i)},settings:{startIndex:0}}),this.sources=[{name:Vw.Component,text:"MAX = 100;\ndata: Item[];\n\nconstructor() {\n  this.data = [];\n  for (let i = 0; i < this.MAX; i++) {\n    this.data.push({ text: 'item #' + (i + 1) });\n  }\n}\n\ndatasource = new Datasource({\n  get: (start: number, count: number, success: Function) => {\n    let data: Item[] = [];\n    const end = Math.min(start + count - 1, this.data.length - 1);\n    if (start <= end) {\n      data = this.data.slice(start, end + 1);\n    }\n    success(data);\n  },\n  settings: {\n    startIndex: 0\n  }\n});\n\nasync doReplace() {\n  await this.datasource.adapter.relax();\n  const toRemove = [3, 4, 5];\n  const newItems: Item[] = [{ text: 'X' }, { text: 'Y' }];\n  this.data = [\n    ...this.data.slice(0, toRemove[0]),\n    ...newItems,\n    ...this.data.slice(toRemove[toRemove.length - 1])\n  ];\n  await this.datasource.adapter.replace({\n    predicate: ({ $index }) => toRemove.includes($index),\n    items: newItems\n  });\n}"},{active:!0,name:Vw.Template,text:'<button (click)="doReplace()">3, 4, 5 to X, Y</button>\n\n<div class="viewport">\n  <div *uiScroll="let item of datasource; let index = index">\n    <div class="item">\n      <span class="index">{{index}}</span>\n      {{item.text}}\n    </div>\n  </div>\n</div>'},{name:Vw.Styles,text:".viewport {\n  width: 150px;\n  height: 250px;\n  overflow-y: auto;\n}\n.item {\n  font-weight: bold;\n  height: 25px;\n}\n.index {\n  font-weight: normal;\n  font-size: smaller;\n}"}],this.argumentsDescription="  AdapterReplaceOptions {\n    predicate: ItemsPredicate;\n    items: any[];\n    fixRight?: boolean;\n  }",this.data=[];for(var t=0;t<this.MAX;t++)this.data.push({text:"item #"+(t+1)})}return e.prototype.doReplace=function(){return e=this,void 0,n=function(){var e,t;return function(e,t){var n,r,i,o,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(o){return function(s){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return a.label++,{value:o[1],done:!1};case 5:a.label++,r=o[1],o=[0];continue;case 7:o=a.ops.pop(),a.trys.pop();continue;default:if(!((i=(i=a.trys).length>0&&i[i.length-1])||6!==o[0]&&2!==o[0])){a=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){a.label=o[1];break}if(6===o[0]&&a.label<i[1]){a.label=i[1],i=o;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(o);break}i[2]&&a.ops.pop(),a.trys.pop();continue}o=t.call(e,a)}catch(s){o=[6,s],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}}(this,function(n){switch(n.label){case 0:return[4,this.datasource.adapter.relax()];case 1:return n.sent(),t=[{text:"X"},{text:"Y"}],this.data=function(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(rk(arguments[t]));return e}(this.data.slice(0,(e=[3,4,5])[0]),t,this.data.slice(e[e.length-1])),[4,this.datasource.adapter.replace({predicate:function(t){return e.includes(t.$index)},items:t})];case 2:return n.sent(),[2]}})},new((t=void 0)||(t=Promise))(function(r,i){function o(e){try{s(n.next(e))}catch(t){i(t)}}function a(e){try{s(n.throw(e))}catch(t){i(t)}}function s(e){var n;e.done?r(e.value):(n=e.value,n instanceof t?n:new t(function(e){e(n)})).then(o,a)}s((n=n.apply(e,[])).next())});var e,t,n},e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=at({type:e,selectors:[["app-demo-replace"]],decls:61,vars:13,consts:[["itemTemplate",""],[3,"datasource","context","sources","itemTemplate"],["actions",""],[3,"click"],["description",""],[3,"routerLink","fragment"],[1,"index"]],template:function(e,t){if(1&e&&(wa(0,ik,3,2,"ng-template",null,0,ec),Sa(2,"app-demo",1),Sa(3,"div",2),Sa(4,"button",3),Ma("click",function(){return t.doReplace()}),ss(5,"3, 4, 5 to X, Y"),Ia(),Ia(),Sa(6,"div",4),Sa(7,"p"),Sa(8,"em"),ss(9,"Adapter.replace"),Ia(),ss(10," method allows to perform many-to-many in-Buffer replacement. It acts as a combination of insert and remove operations working in a single run, which means minimal latency in comparison to applying "),Sa(11,"em"),ss(12,"Adapter.insert"),Ia(),ss(13," and "),Sa(14,"em"),ss(15,"Adapter.remove"),Ia(),ss(16," methods one by one. The argument of this method is an object of the following type: "),Ia(),Sa(17,"pre"),ss(18),Ia(),Sa(19,"p"),ss(20," The "),Sa(21,"em"),ss(22,"predicate"),Ia(),ss(23," option is exactly the same as in "),Sa(24,"a",5),ss(25,"Adapter-remove"),Ia(),ss(26," and case. The "),Sa(27,"em"),ss(28,"indexes"),Ia(),ss(29," options is exactly the same as in the "),Sa(30,"a",5),ss(31,"Adapter-insert"),Ia(),ss(32," case. The "),Sa(33,"em"),ss(34,"fixRight"),Ia(),ss(35," option allows to change the default indexing strategy. The default "),Sa(36,"em"),ss(37,"fixRight"),Ia(),ss(38," value is "),Sa(39,"em"),ss(40,"false"),Ia(),ss(41,", which means the indexes of the items following the replaced ones will be changed during the replacement. Otherwise, if "),Sa(42,"em"),ss(43,"fixRight"),Ia(),ss(44," is set "),Sa(45,"em"),ss(46,"true"),Ia(),ss(47,", the indexes of the items preceding the replaced ones will be changed. "),Ia(),Sa(48,"p"),ss(49," Current limitations of the "),Sa(50,"em"),ss(51,"Adapter.replace"),Ia(),ss(52," method: no virtual replacements are possible and only continues series are allowed. So only a portion of items that are currently in the "),Sa(53,"em"),ss(54,"uiScroll"),Ia(),ss(55," Buffer can be replaced with this method. And this portion must consist of a continuous list of items. "),Ia(),Sa(56,"p"),ss(57,' In this demo we are replacing 3 items with indexes [3, 4, 5] with 2 new items. Switching to "fixRight" strategy is not implemented here, in order to keep natural indexes flow as simple as possible. Note, before running the "replace" operation over the '),Sa(58,"em"),ss(59,"uiScroll"),Ia(),ss(60," Buffer, the Datasource gets the update as well. "),Ia(),Ia(),Ia()),2&e){var n=xa(1);Hi(2),_a("datasource",t.datasource)("context",t.demoContext)("sources",t.sources)("itemTemplate",n),Hi(16),us(t.argumentsDescription),Hi(6),Fa("fragment",t.adapterScope.map.remove.id),_a("routerLink",Mu(9,ok,t.adapterScope.id)),Hi(6),Fa("fragment",t.adapterScope.map.insert.id),_a("routerLink",Mu(11,ok,t.adapterScope.id))}},directives:[ex,Kb],encapsulation:2}),e}(),sk=function(){function e(){this.importSample="  import { Datasource } from 'ngx-ui-scroll';",this.datasourceSample="  datasource = new Datasource({\n    get: ... ,\n    settings: { ... }\n  });"}return e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=at({type:e,selectors:[["app-samples-adapter"]],decls:73,vars:2,template:function(e,t){1&e&&(Sa(0,"h1"),ss(1,"Angular UI Scroll Adapter Demos"),Ia(),Sa(2,"p"),Sa(3,"em"),ss(4,"Adapter"),Ia(),ss(5," is\xa0a\xa0special object to\xa0assess and manipulate the "),Sa(6,"em"),ss(7,"uiScroll"),Ia(),ss(8,". The API it\xa0provides is\xa0 discussed on\xa0this page. In order to get an access to the "),Sa(9,"em"),ss(10,"Adapter"),Ia(),ss(11," API, the "),Sa(12,"em"),ss(13,"Datasource"),Ia(),ss(14," has to be instantiated via operator "),Sa(15,"em"),ss(16,"new"),Ia(),ss(17,":\n"),Ia(),Sa(18,"pre"),ss(19),Ia(),Sa(20,"p"),ss(21," The constructor argument is\xa0an\xa0object of\xa0"),Sa(22,"em"),ss(23,"IDatasource"),Ia(),ss(24," type which must include "),Sa(25,"em"),ss(26,"get"),Ia(),ss(27," method property and may include "),Sa(28,"em"),ss(29,"settings"),Ia(),ss(30," object property. The "),Sa(31,"em"),ss(32,"uiScroll"),Ia(),ss(33," augments the result "),Sa(34,"em"),ss(35,"Datasource"),Ia(),ss(36," object with the "),Sa(37,"em"),ss(38,"Adapter"),Ia(),ss(39," object property during instantiating. So, after the "),Sa(40,"em"),ss(41,"Datasource"),Ia(),ss(42," object had been instantiated, we\xa0may access "),Sa(43,"em"),ss(44,"this.datasource.adapter"),Ia(),ss(45," property object with its API methods and properties. "),Sa(46,"em"),ss(47,"Datasource"),Ia(),ss(48," definition could be\xa0imported from the "),Sa(49,"em"),ss(50,"UiScrollModule"),Ia(),ss(51,":\n"),Ia(),Sa(52,"pre"),ss(53),Ia(),Ta(54,"app-demo-adapter-return-value"),Ta(55,"app-adapter-relax"),Ta(56,"app-demo-reload"),Ta(57,"app-demo-reset"),Ta(58,"app-demo-init"),Ta(59,"app-demo-is-loading"),Ta(60,"app-demo-is-loading-advanced"),Ta(61,"app-demo-package-info"),Ta(62,"app-demo-items-count"),Ta(63,"app-demo-buffer-info"),Ta(64,"app-demo-bof-eof"),Ta(65,"app-demo-first-last-visible-items"),Ta(66,"app-demo-check-size"),Ta(67,"app-demo-clip"),Ta(68,"app-demo-append-prepend"),Ta(69,"app-demo-append-prepend-sync"),Ta(70,"app-demo-remove"),Ta(71,"app-demo-insert"),Ta(72,"app-demo-replace")),2&e&&(Hi(19),us(t.datasourceSample),Hi(34),us(t.importSample))},directives:[kx,Cx,Ix,Tx,Ax,Ex,Ox,Mx,Dx,Rx,Px,Nx,jx,zx,Ux,qx,Zx,nk,ak],encapsulation:2}),e}(),uk=function(){function e(){this.demoContext={config:Tw.datasource.map.datasourceGetSignatures,noWorkView:!0},this.sources=[{name:Vw.Datasource,text:"datasourceCallback: IDatasource = {\n  get: (index, count, success) =>\n    success(this.getData(index, count))\n};\n\ndatasourcePromise: IDatasource = {\n  get: (index, count) => new Promise(resolve =>\n    resolve(this.getData(index, count))\n  )\n};\n\ndatasourceObservable: IDatasource = {\n  get: (index, count) => Observable.create(observer =>\n    observer.next(this.getData(index, count))\n};\n\ndatasourcePromise2: IDatasource = {\n  get: (index, count) =>\n    this.getDataPromise(index, count)\n};\n\ndatasourceObservable2: IDatasource = {\n  get: (index, count) =>\n    this.getDataObservable(index, count)\n};"}]}return e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=at({type:e,selectors:[["app-datasource-signatures"]],decls:57,vars:2,consts:[[3,"context","sources"],["description",""]],template:function(e,t){1&e&&(Sa(0,"app-demo",0),Sa(1,"div",1),Sa(2,"p"),ss(3," All the datasources listed above are valid. The first version ("),Sa(4,"em"),ss(5,"datasourceCallback"),Ia(),ss(6,") introduces simplest callback-based signature when we need to pass third function argument and call it explicitly with the items array argument. We assume that "),Sa(7,"em"),ss(8,"this.getData(index, count)"),Ia(),ss(9," returns appropriate part of the dataset we want to virtualize, which is an array of "),Sa(10,"em"),ss(11,"count"),Ia(),ss(12," items started from "),Sa(13,"em"),ss(14,"index"),Ia(),ss(15," position. "),Ia(),Sa(16,"p"),Sa(17,"em"),ss(18,"datasourcePromise"),Ia(),ss(19," and "),Sa(20,"em"),ss(21,"datasourcePromise2"),Ia(),ss(22," introduce promise-based signature when an object of "),Sa(23,"em"),ss(24,"Promise"),Ia(),ss(25," type needs to be returned. Resolving this promise is our responsibility, and we assume that "),Sa(26,"em"),ss(27,"this.getDataPromise"),Ia(),ss(28," method resolves necessary part of the dataset based on "),Sa(29,"em"),ss(30,"index"),Ia(),ss(31," and "),Sa(32,"em"),ss(33,"count"),Ia(),ss(34," parameters. "),Ia(),Sa(35,"p"),Sa(36,"em"),ss(37,"datasourceObservable"),Ia(),ss(38," and "),Sa(39,"em"),ss(40,"datasourceObservable2"),Ia(),ss(41," introduce observable-based signature when an object of "),Sa(42,"em"),ss(43,"Observable"),Ia(),ss(44," type needs to be returned. Similar to promise case we need to be sure that the "),Sa(45,"em"),ss(46,"next"),Ia(),ss(47," method is called in appropriate time, and we assume that "),Sa(48,"em"),ss(49,"this.getDataObservable"),Ia(),ss(50," method that delivers necessary part of the dataset based on "),Sa(51,"em"),ss(52,"index"),Ia(),ss(53," and "),Sa(54,"em"),ss(55,"count"),Ia(),ss(56," parameters. "),Ia(),Ia(),Ia()),2&e&&_a("context",t.demoContext)("sources",t.sources)},directives:[ex],encapsulation:2}),e}(),ck=function(){function e(){var e=this;this.demoContext={config:Tw.datasource.map.unlimitedBidirectional,logViewOnly:!0,log:"",count:0},this.datasource={get:function(t,n,r){for(var i=[],o=t;o<=t+n-1;o++)i.push({id:o,text:"item #"+o});ux(e.demoContext,t,n,i.length),r(i)}},this.sources=[{name:Vw.Datasource,text:"datasource: IDatasource = {\n  get: (index, count, success) => {\n    const data = [];\n    for (let i = index; i <= index + count - 1; i++) {\n      data.push({ id: i, text: 'item #' + i });\n    }\n    success(data);\n  }\n};"}]}return e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=at({type:e,selectors:[["app-bidirectional-unlimited-datasource"]],decls:30,vars:3,consts:[[3,"datasource","context","sources"],["description",""]],template:function(e,t){1&e&&(Sa(0,"app-demo",0),Sa(1,"div",1),Sa(2,"p"),ss(3," The datasource implemented here has no boundaries. The result "),Sa(4,"em"),ss(5,"data"),Ia(),ss(6," array will consist of "),Sa(7,"em"),ss(8,"count"),Ia(),ss(9," items started from "),Sa(10,"em"),ss(11,"index"),Ia(),ss(12," position regardless of "),Sa(13,"em"),ss(14,"count"),Ia(),ss(15," and "),Sa(16,"em"),ss(17,"index"),Ia(),ss(18," values. They could be any finite integers. "),Ia(),Sa(19,"p"),ss(20," This sample as well as following ones does include "),Sa(21,"em"),ss(22,"Datasource.get"),Ia(),ss(23," method log telling us how many items are fetched by the "),Sa(24,"em"),ss(25,"uiScroll"),Ia(),ss(26," via "),Sa(27,"em"),ss(28,"Datasource"),Ia(),ss(29,". "),Ia(),Ia(),Ia()),2&e&&_a("datasource",t.datasource)("context",t.demoContext)("sources",t.sources)},directives:[ex],encapsulation:2}),e}(),lk=function(e){return["/",e]},dk=function(){function e(){var e=this;this.demoContext={config:Tw.datasource.map.limited,logViewOnly:!0,log:"",count:0},this.minMaxDemoConfig=Tw.settings.map.minMaxIndexes,this.MIN=-99,this.MAX=900,this.datasource={get:function(t,n,r){var i=[],o=Math.max(e.MIN,t),a=Math.min(t+n-1,e.MAX);if(o<=a)for(var s=o;s<=a;s++)i.push({id:s,text:"item #"+s});ux(e.demoContext,t,n,i.length),r(i)}},this.sources=[{name:Vw.Datasource,text:"MIN = -99;\nMAX = 900;\n\ndatasource: IDatasource = {\n  get: (index, count, success) => {\n    const data = [];\n    const start = Math.max(this.MIN, index);\n    const end = Math.min(index + count - 1, this.MAX);\n    if (start <= end) {\n      for (let i = start; i <= end; i++) {\n        data.push({ id: i, text: 'item #' + i });\n      }\n    }\n    success(data);\n  }\n};"}]}return e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=at({type:e,selectors:[["app-limited-datasource"]],decls:24,vars:7,consts:[[3,"datasource","context","sources"],["description",""],[3,"routerLink","fragment"]],template:function(e,t){1&e&&(Sa(0,"app-demo",0),Sa(1,"div",1),Sa(2,"p"),ss(3," The datasource could be limited. In this sample we have only 1000 items in the dataset: from -99 to 900 including 0. If at some point the "),Sa(4,"em"),ss(5,"uiScroll"),Ia(),ss(6," will request this datasource for, say, 10 items started from -105 index, then the result will consist of only 4 items: -99, -98, -97, -96. It is also important to return empty array if we are out of range. "),Ia(),Sa(7,"p"),ss(8," Another option of how to limit the datasource is to use "),Sa(9,"a",2),ss(10,"minIndex and maxIndex settings"),Ia(),ss(11,"; this way the implementation of the "),Sa(12,"em"),ss(13,"Datasource.get"),Ia(),ss(14," method could remain unlimited as the "),Sa(15,"em"),ss(16,"uiScroll"),Ia(),ss(17," will not request for items that are out of ["),Sa(18,"em"),ss(19,"minIndex"),Ia(),ss(20,"; "),Sa(21,"em"),ss(22,"maxIndex"),Ia(),ss(23,"] range. "),Ia(),Ia(),Ia()),2&e&&(_a("datasource",t.datasource)("context",t.demoContext)("sources",t.sources),Hi(9),Fa("fragment",t.minMaxDemoConfig.id),_a("routerLink",Mu(5,lk,t.minMaxDemoConfig.scope)))},directives:[ex,Kb],encapsulation:2}),e}(),hk=function(e){return["/",e]},fk=function(){function e(){var e=this;this.demoContext={config:Tw.datasource.map.positiveLimitedIndexes,logViewOnly:!0,log:"",count:0},this.settingsScope=Tw.settings.map,this.datasource={get:function(t,n,r){var i=[],o=Math.max(1,t),a=t+n-1;if(o<=a)for(var s=o;s<=a;s++)i.push({id:s,text:"item #"+s});ux(e.demoContext,t,n,i.length),r(i)}},this.sources=[{name:Vw.Datasource,text:"datasource: IDatasource = {\n  get: (index, count, success) => {\n    const data = [];\n    const start = Math.max(1, index); // or 0\n    const end = index + count - 1;\n    if (start <= end) {\n      for (let i = start; i <= end; i++) {\n        data.push({ id: i, text: 'item #' + i });\n      }\n    }\n    success(data);\n  }\n};"}]}return e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=at({type:e,selectors:[["app-positive-limited-datasource"]],decls:18,vars:11,consts:[[3,"datasource","context","sources"],["description",""],[3,"routerLink","fragment"]],template:function(e,t){1&e&&(Sa(0,"app-demo",0),Sa(1,"div",1),Sa(2,"p"),ss(3," If we are not going to deal with negative indexes, we can fix the datasource left boundary at 1 (or 0 depends on your needs). This is a particular case of limited datasource discussed above with only "),Sa(4,"em"),ss(5,"MIN"),Ia(),ss(6," value set up. Also, positive limitation could be alternatively achieved by assigning 1 (or 0) value to "),Sa(7,"a",2),ss(8,"minIndex and maxIndex settings"),Ia(),ss(9,". "),Ia(),Sa(10,"p"),ss(11," Note that if 0 index is the left boundary of the dataset, then it seems reasonable to assign 0 value to "),Sa(12,"a",2),ss(13,"startIndex setting"),Ia(),ss(14," too, because the default "),Sa(15,"em"),ss(16,"startIndex"),Ia(),ss(17," value is 1. "),Ia(),Ia(),Ia()),2&e&&(_a("datasource",t.datasource)("context",t.demoContext)("sources",t.sources),Hi(7),Fa("fragment",t.settingsScope.minMaxIndexes.id),_a("routerLink",Mu(7,hk,t.settingsScope.minMaxIndexes.scope)),Hi(5),Fa("fragment",t.settingsScope.startIndex.id),_a("routerLink",Mu(9,hk,t.settingsScope.startIndex.scope)))},directives:[ex,Kb],encapsulation:2}),e}();function pk(e,t){if(1&e&&(Sa(0,"div"),Sa(1,"div",9),ss(2),Ia(),Ia()),2&e){var n=t.$implicit;Hi(2),us(n.text)}}function vk(e,t){if(1&e&&(Sa(0,"div"),Sa(1,"div",9),ss(2),Ia(),Ia()),2&e){var n=t.$implicit;Hi(2),us(n.text)}}var mk=function(){function e(){var e=this;this.demoConfig=Tw.datasource.map.invertedIndexes,this.MIN=1,this.datasourceCommon={get:function(t,n,r){return r(e.getData(t,n))}},this.datasourceInverted={get:function(t,n,r){r(e.getData(-t-n+e.MIN,n).reverse())},settings:{startIndex:-10}},this.sources=[{name:Vw.Component,text:"MIN = 1;\n\ndatasourceCommon: IDatasource = {\n  get: (index, count, success) =>\n    success(this.getData(index, count))\n};\n\ndatasourceInverted: IDatasource = {\n  get: (index, count, success) => {\n    const _index = -index - count + this.MIN;\n    const data = this.getData(_index, count).reverse();\n    success(data);\n  },\n  settings: {\n    startIndex: -10\n  }\n};\n\ngetData(index: number, count: number) {\n  const data = [];\n  const start = Math.max(this.MIN, index);\n  const end = index + count - 1;\n  if (start <= end) {\n    for (let i = start; i <= end; i++) {\n      data.push({ id: i, text: 'item #' + i });\n    }\n  }\n  return data;\n}"}]}return e.prototype.getData=function(e,t){var n=[],r=Math.max(this.MIN,e),i=e+t-1;if(r<=i)for(var o=r;o<=i;o++)n.push({id:o,text:"item #"+o});return n},e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=at({type:e,selectors:[["app-inverted-datasource"]],decls:53,vars:4,consts:[[1,"demo"],[3,"config"],[1,"work"],[1,"viewport-wrapper"],[1,"viewport-label"],[1,"viewport"],[4,"uiScroll","uiScrollOf"],[1,"clearfix","mb-3"],[1,"prettyprint"],[1,"item"]],template:function(e,t){1&e&&(Sa(0,"div",0),Ta(1,"app-demo-title",1),Sa(2,"div",2),Sa(3,"div",3),Sa(4,"div",4),ss(5,"common \u2193"),Ia(),Sa(6,"div",5),wa(7,pk,3,1,"div",6),Ia(),Ia(),Sa(8,"div",3),Sa(9,"div",4),ss(10,"inverted \u2191"),Ia(),Sa(11,"div",5),wa(12,vk,3,1,"div",6),Ia(),Ia(),Ta(13,"div",7),Ia(),Sa(14,"pre",8),ss(15),Ia(),Sa(16,"p"),Sa(17,"em"),ss(18,"Datasource.get"),Ia(),ss(19,' method implementation could be quite complex and flexible. This piece demonstrates how the dataset we want to virtualize could be processed to provide "inverted" viewport logic when new positive items are retrieved by scrolling up. '),Ia(),Sa(20,"p"),Sa(21,"em"),ss(22,"getData"),Ia(),ss(23," method implements positive limited datasource as it was done in the previous sample with only change: left dataset boundary is parametrized by "),Sa(24,"em"),ss(25,"MIN"),Ia(),ss(26," property. So "),Sa(27,"em"),ss(28,"datasourceCommon.get"),Ia(),ss(29," just passes "),Sa(30,"em"),ss(31,"getData"),Ia(),ss(32," result to its "),Sa(33,"em"),ss(34,"success"),Ia(),ss(35," callback. "),Ia(),Sa(36,"p"),ss(37," But "),Sa(38,"em"),ss(39,"datasourceInverted.get"),Ia(),ss(40," does the simple math: it inverts and shifts the "),Sa(41,"em"),ss(42,"index"),Ia(),ss(43," and reverses the result array. So the "),Sa(44,"em"),ss(45,"uiScroll"),Ia(),ss(46," gets some specifically processed portion of our dataset that reflects our needs. By settings "),Sa(47,"em"),ss(48,"startIndex"),Ia(),ss(49," value to -10 in this case we are telling that we want 10 items to be fetched and rendered in forward direction initially. And it does not depend on "),Sa(50,"em"),ss(51,"MIN"),Ia(),ss(52,", it does depend on the viewport and single item size: 10 items are visible. "),Ia(),Ia()),2&e&&(Hi(1),_a("config",t.demoConfig),Hi(6),_a("uiScrollOf",t.datasourceCommon),Hi(5),_a("uiScrollOf",t.datasourceInverted),Hi(3),us(t.sources[0].text))},directives:[jw,wm],encapsulation:2}),e}(),gk=function(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,i,o=n.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(r=o.next()).done;)a.push(r.value)}catch(s){i={error:s}}finally{try{r&&!r.done&&(n=o.return)&&n.call(o)}finally{if(i)throw i.error}}return a},yk=function(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(gk(arguments[t]));return e},bk=function(){function e(){var e=this;this.demoContext={config:Tw.datasource.map.pages,logViewOnly:!0,log:""},this.getCount=0,this.pagesCount=30,this.pageSize=7,this.datasource={get:function(t,n,r){e.getCount++,e.demoContext.log="\n"+e.demoContext.log,e.demoContext.log=e.getCount+".1 index = "+t+", count = "+n+"\n"+e.demoContext.log;var i=Math.max(t,0),o=t+n-1;if(i>o)return e.demoContext.log=e.getCount+".2 empty result\n"+e.demoContext.log,void r([]);e.demoContext.log=e.getCount+".2 requesting items ["+i+".."+o+"]\n"+e.demoContext.log;for(var a=Math.floor(i/e.pageSize),s=Math.floor(o/e.pageSize),u=[],c=[],l=a;l<=s;l++)c.push(l),u=yk(u,e.getDataPage(l));e.demoContext.log=e.getCount+".3 requesting pages: "+c.join(", ")+"\n"+e.demoContext.log,e.demoContext.log=e.getCount+".4 "+(u.length?"pages result ["+u[0].index+".."+u[u.length-1].index+"]":"empty result")+"\n"+e.demoContext.log;var d=i-a*e.pageSize,h=u.slice(d,d+o-i+1);e.demoContext.log=(h.length?e.getCount+".5 sliced result ["+h[0].index+".."+h[h.length-1].index+"]\n":"")+e.demoContext.log,r(h)},settings:{startIndex:0}},this.sources=[{name:Vw.Component,text:"datasource: IDatasource = {\n  get: (index, count, success) => {\n    // items to request (x.2)\n    const startIndex = Math.max(index, 0);\n    const endIndex = index + count - 1;\n    if (startIndex > endIndex) {\n      success([]); // empty result\n      return;\n    }\n\n    // pages to request (x.3)\n    const startPage = Math.floor(startIndex / this.pageSize);\n    const endPage = Math.floor(endIndex / this.pageSize);\n\n    // pages result (x.4)\n    let pagesResult: any[] = [];\n    for (let i = startPage; i <= endPage; i++) {\n      pagesResult = [...pagesResult, ...this.getDataPage(i)];\n    }\n\n    // sliced result (x.5)\n    const start = startIndex - startPage * this.pageSize;\n    const end = start + endIndex - startIndex + 1;\n    const data = pagesResult.slice(start, end);\n\n    success(data);\n  },\n  settings: {\n    startIndex: 0\n  }\n};\n\npagesCount = 30;\npageSize = 7;\ndata: any[];\n\nconstructor() {\n  this.data = [];\n  for (let i = 0; i < this.pagesCount; i++) {\n    this.data[i] = [];\n    for (let j = 0; j < this.pageSize; j++) {\n      const index = i * this.pageSize + j;\n      this.data[i].push({\n        index,\n        text: 'test ' + index\n      });\n    }\n  }\n}\n\ngetDataPage(page: number) {\n  if (page < 0 || page >= this.pagesCount) {\n    return [];\n  }\n  return this.data[page];\n}"},{name:Vw.Component+" (async)",text:"datasource: IDatasource = {\n  get: (index, count, success) => {\n    const startIndex = Math.max(index, 0);\n    const endIndex = index + count - 1;\n    if (startIndex > endIndex) {\n      success([]); // empty result\n      return;\n    }\n\n    const startPage = Math.floor(startIndex / this.pageSize);\n    const endPage = Math.floor(endIndex / this.pageSize);\n\n    const pagesRequest: any[] = [];\n    for (let i = startPage; i <= endPage; i++) {\n      pagesRequest.push(\n        this.remoteDataService.getDataPageAsync(i)\n      );\n    }\n    return Promise.all(pagesRequest).then(pagesResult => {\n      pagesResult = pagesResult.reduce((acc, result) =>\n        [...acc, ...result]\n      , []);\n      const start = startIndex - startPage * this.pageSize;\n      const end = start + endIndex - startIndex + 1;\n      return pagesResult.slice(start, end);\n    });\n  },\n  settings: {\n    startIndex: 0\n  }\n};\n\nconstructor(\n  private remoteDataService: RemoteDataService\n) {\n}"}],this.data=[];for(var t=0;t<this.pagesCount;t++){this.data[t]=[];for(var n=0;n<this.pageSize;n++){var r=t*this.pageSize+n;this.data[t].push({index:r,text:"test "+r})}}}return e.prototype.getDataPage=function(e){return e<0||e>=this.pagesCount?[]:this.data[e]},e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=at({type:e,selectors:[["app-pages-datasource"]],decls:46,vars:3,consts:[[3,"datasource","context","sources"],["description",""]],template:function(e,t){1&e&&(Sa(0,"app-demo",0),Sa(1,"div",1),Sa(2,"p"),ss(3," This sample demonstrates how the "),Sa(4,"em"),ss(5,"uiScroll"),Ia(),ss(6,' can be integrated with the datasource which has "pages" API only. The '),Sa(7,"em"),ss(8,"uiScroll"),Ia(),ss(9,' deals with "offset-limit" (that is "index-count") API by default, but necessary transition layer could be implemented via '),Sa(10,"em"),ss(11,"datasource.get"),Ia(),ss(12,". "),Ia(),Sa(13,"p"),ss(14," The "),Sa(15,"em"),ss(16,"constructor"),Ia(),ss(17," initializes "),Sa(18,"em"),ss(19,"data"),Ia(),ss(20," two-dimensional array, "),Sa(21,"em"),ss(22,"getDataPage"),Ia(),ss(23,' method simulates "pages" API. We are assuming that '),Sa(24,"em"),ss(25,"getDataPage"),Ia(),ss(26," is the only entry point to our data. Then each time the "),Sa(27,"em"),ss(28,"datasource.get"),Ia(),ss(29,' method is called, we are converting "index-count" API params to appropriate pages numbers, retrieving these pages, joining pages results and slicing it to resolve the exactly part of the dataset the '),Sa(30,"em"),ss(31,"uiScroll"),Ia(),ss(32," needs for. "),Ia(),Sa(33,"p"),Sa(34,"em"),ss(35,"getDataPage"),Ia(),ss(36," could be async, let's imagine that there is "),Sa(37,"em"),ss(38,"remoteDataService"),Ia(),ss(39," which has "),Sa(40,"em"),ss(41,"getDataPageAsync"),Ia(),ss(42," method which returns "),Sa(43,"em"),ss(44,"Promise"),Ia(),ss(45,'. Using promise-based signature in this case, x.3, x.4 and x.5 code sections might be rewritten as it is shown in "Component (async)" tab. '),Ia(),Ia(),Ia()),2&e&&_a("datasource",t.datasource)("context",t.demoContext)("sources",t.sources)},directives:[ex],encapsulation:2}),e}(),wk=function(e){return["/",e]},xk=function(){function e(){this.demos=Tw,this.importSample="import { Datasource, IDatasource } from 'ngx-ui-scroll';",this.datasourceSampleLiteral="datasource: IDatasource = { ... };",this.datasourceSampleClass="datasource = new Datasource({ ... });"}return e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=at({type:e,selectors:[["app-datasource"]],decls:105,vars:9,consts:[[3,"routerLink"]],template:function(e,t){1&e&&(Sa(0,"h1"),ss(1,"Angular UI Scroll Datasource Demos"),Ia(),Sa(2,"p"),ss(3," The idea of\xa0the "),Sa(4,"em"),ss(5,"*uiScroll"),Ia(),ss(6," directive usage is\xa0very similar to\xa0the\xa0use of\xa0"),Sa(7,"em"),ss(8,"*ngFor"),Ia(),ss(9," directive in\xa0the simplest case, but as\xa0it\xa0follows from the documentation, a\xa0special "),Sa(10,"em"),ss(11,"Datasource"),Ia(),ss(12," object needs to\xa0be\xa0passed instead of Angular "),Sa(13,"em"),ss(14,"Iterable"),Ia(),ss(15,". "),Sa(16,"em"),ss(17,"Datasource"),Ia(),ss(18," is\xa0an\xa0entry point to\xa0the "),Sa(19,"em"),ss(20,"uiScroll"),Ia(),ss(21,", that provides data flow from the host App to the "),Sa(22,"em"),ss(23,"uiScroll"),Ia(),ss(24,". There are two common ways of\xa0how the "),Sa(25,"em"),ss(26,"Datasource"),Ia(),ss(27," could be\xa0defined:\n"),Ia(),Sa(28,"ul"),Sa(29,"li"),ss(30," as an object literal of "),Sa(31,"em"),ss(32,"IDatasource"),Ia(),ss(33," type "),Sa(34,"pre"),ss(35),Ia(),Ia(),Sa(36,"li"),ss(37," as an instance of "),Sa(38,"em"),ss(39,"Datasource"),Ia(),ss(40," class "),Sa(41,"pre"),ss(42),Ia(),Ia(),Ia(),Sa(43,"p"),ss(44," The constructor argument in\xa0the second case should be\xa0an object of "),Sa(45,"em"),ss(46,"IDatasource"),Ia(),ss(47," type. Instantiating via operator "),Sa(48,"em"),ss(49,"new"),Ia(),ss(50," is\xa0needed for the "),Sa(51,"em"),ss(52,"Adapter"),Ia(),ss(53," to\xa0be\xa0available on\xa0the result "),Sa(54,"em"),ss(55,"datasource"),Ia(),ss(56," object (for details see "),Sa(57,"a",0),ss(58,"Adapter demo page"),Ia(),ss(59,"). Both of\xa0"),Sa(60,"em"),ss(61,"IDatasource"),Ia(),ss(62," and "),Sa(63,"em"),ss(64,"Datasource"),Ia(),ss(65," definitions could be\xa0imported from "),Sa(66,"em"),ss(67,"UiScrollModule"),Ia(),ss(68,":\n"),Ia(),Sa(69,"pre"),ss(70),Ia(),Sa(71,"p"),ss(72," The "),Sa(73,"em"),ss(74,"IDatasource"),Ia(),ss(75," object we need to define in both cases\n"),Ia(),Sa(76,"ul"),Sa(77,"li"),ss(78,"must contain "),Sa(79,"em"),ss(80,"get"),Ia(),ss(81," method property and"),Ia(),Sa(82,"li"),ss(83,"may contain "),Sa(84,"em"),ss(85,"settings"),Ia(),ss(86," object property."),Ia(),Ia(),Sa(87,"p"),ss(88," With the help of\xa0"),Sa(89,"em"),ss(90,"settings"),Ia(),ss(91," object the scroller could be\xa0configured, as\xa0it\xa0is\xa0 described on\xa0"),Sa(92,"a",0),ss(93,"Settings demo page"),Ia(),ss(94,". Here we\xa0are going to\xa0discuss the "),Sa(95,"em"),ss(96,"Datasource.get"),Ia(),ss(97," method implementation.\n"),Ia(),Ta(98,"app-datasource-signatures"),Ta(99,"app-bidirectional-unlimited-datasource"),Ta(100,"app-limited-datasource"),Ta(101,"app-positive-limited-datasource"),Ta(102,"app-remote-datasource"),Ta(103,"app-inverted-datasource"),Ta(104,"app-pages-datasource")),2&e&&(Hi(35),us(t.datasourceSampleLiteral),Hi(7),us(t.datasourceSampleClass),Hi(15),_a("routerLink",Mu(5,wk,t.demos.adapter.id)),Hi(13),us(t.importSample),Hi(22),_a("routerLink",Mu(7,wk,t.demos.settings.id)))},directives:[Kb,uk,ck,dk,fk,nx,mk,bk],encapsulation:2}),e}(),kk=function(){function e(){this.demoContext={config:Tw.experimental.map.viewportElementSetting,noWorkView:!0},this.sources=[{name:Vw.Datasource,text:"@ViewChild('viewport', { static: true }) viewportRef: ElementRef<HTMLElement>;\n\ndatasource: IDatasource = {\n  get: (index, count, success) => {\n    const data = [];\n    for (let i = index; i <= index + count - 1; i++) {\n      data.push({ id: i, text: 'item #' + i });\n    }\n    success(data);\n  },\n  settings: {\n    viewportElement: () => this.viewportRef.nativeElement\n  }\n}"},{name:Vw.Template,active:!0,text:'<div class="viewport" #viewport>\n  <div>\n    <div>\n      <div *uiScroll="let item of datasource">\n        <div class="item">{{item.text}}</div>\n      </div>\n    </div>\n  </div>\n</div>'},{name:Vw.Styles,text:".viewport {\n  width: 150px;\n  height: 250px;\n  overflow-y: auto;\n}\n.item {\n  font-weight: bold;\n  height: 25px;\n}"}],this.nativeSample="settings: {\n  viewportElement: () =>\n    document.getElementsByClassName('viewport')[0]\n}"}return e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=at({type:e,selectors:[["app-viewport-element-setting"]],decls:44,vars:3,consts:[[3,"context","sources"],["actions","",1,"comment"],["description",""]],template:function(e,t){1&e&&(Sa(0,"app-demo",0),Sa(1,"div",1),ss(2,"Available since v1.8.1, undocumented"),Ia(),Sa(3,"div",2),Sa(4,"p"),ss(5," As it follows from the doc, the viewport is a scrollable area with a finite height. By default, the nearest ancestor of the "),Sa(6,"em"),ss(7,"*uiScroll"),Ia(),ss(8," container is treated as the Viewport. With the "),Sa(9,"em"),ss(10,"viewportElement"),Ia(),ss(11," setting we may change the default behavior and make another html element to be our Viewport. "),Ia(),Sa(12,"p"),ss(13," The value of "),Sa(14,"em"),ss(15,"viewportElement"),Ia(),ss(16," setting can be an html element or a function synchronously returning an html element. The second option is useful if the Viewport is a part of the template of the same component that contains the "),Sa(17,"em"),ss(18,"uiScroll"),Ia(),ss(19,", and the "),Sa(20,"em"),ss(21,"Datasource"),Ia(),ss(22," is initialized before the view is ready (before "),Sa(23,"em"),ss(24,"ngOnInit"),Ia(),ss(25,"). "),Ia(),Sa(26,"p"),ss(27," This sample shows a declarative way and uses "),Sa(28,"em"),ss(29,"ViewChild"),Ia(),ss(30," decorator and "),Sa(31,"em"),ss(32,"#viewport"),Ia(),ss(33," syntax to access the 3d ancestor of the "),Sa(34,"em"),ss(35,"uiScroll"),Ia(),ss(36," base container. This also could be achieved via native javascript methods, for example "),Ia(),Sa(37,"pre"),ss(38),Ia(),Sa(39,"p"),ss(40," Note, using this feature is potentially dangerous, because any html element can be set as the Viewport this way. For example, the engine does not check whether this element is an ancestor of the "),Sa(41,"em"),ss(42,"uiScroll"),Ia(),ss(43," element or not. "),Ia(),Ia(),Ia()),2&e&&(_a("context",t.demoContext)("sources",t.sources),Hi(38),us(t.nativeSample))},directives:[ex],encapsulation:2}),e}(),_k=function(){function e(){var e=this;this.demoContext={config:Tw.experimental.map.inverseSetting,addClass:"inverse",noInfo:!0},this.MIN=1,this.MAX=5,this.datasource={get:function(t,n,r){var i=[],o=Math.max(e.MIN,t),a=Math.min(t+n-1,e.MAX);if(o<=a)for(var s=o;s<=a;s++)i.push({id:s,text:"item #"+s});r(i)},settings:{inverse:!0}},this.sources=[{name:Vw.Datasource,text:"MIN = 1;\nMAX = 5;\n\ndatasource: IDatasource = {\n  get: (index, count, success) => {\n    const data = [];\n    const start = Math.max(this.MIN, index);\n    const end = Math.min(index + count - 1, this.MAX);\n    if (start <= end) {\n      for (let i = start; i <= end; i++) {\n        data.push({ id: i, text: 'item #' + i });\n      }\n    }\n    success(data);\n  },\n  settings: {\n    inverse: true\n  }\n};"},{name:Vw.Styles,text:".viewport div[data-padding-backward] {\n  background-color: #e1f0ff;\n}\n.item {\n  background-color: #bcdeff;\n}"}]}return e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=at({type:e,selectors:[["app-inverse-setting"]],decls:20,vars:3,consts:[[3,"datasource","context","sources"],["actions","",1,"comment"],["description",""]],template:function(e,t){1&e&&(Sa(0,"app-demo",0),Sa(1,"div",1),ss(2,"Available since v1.3.4, undocumented"),Ia(),Sa(3,"div",2),Sa(4,"p"),ss(5," When there is a lack of items in the viewport, the "),Sa(6,"em"),ss(7,"uiScroll"),Ia(),ss(8," sets the height of the forward padding element to some value enough to fill the viewport. This is the default behavior, and this can be changed with the help of the "),Sa(9,"em"),ss(10,"inverse"),Ia(),ss(11," setting. "),Ia(),Sa(12,"p"),ss(13," When "),Sa(14,"em"),ss(15,"inverse"),Ia(),ss(16," setting is set to "),Sa(17,"em"),ss(18,"true"),Ia(),ss(19,", the backward padding element will have a priority over the forward one, and it will be stretched if there are not enough items in the viewport. "),Ia(),Ia(),Ia()),2&e&&_a("datasource",t.datasource)("context",t.demoContext)("sources",t.sources)},directives:[ex],encapsulation:2}),e}(),Ck=function(){function e(){this.demoContext={config:Tw.experimental.map.adapterFixPosition,noInfo:!0},this.datasource=new Cm({get:function(e,t,n){for(var r=[],i=e;i<e+t;i++)r.push({id:i,text:"item #"+i});n(r)}}),this.sources=[{name:Vw.Template,text:'<button (click)="scrollTop()">scroll top</button>\n<button (click)="scrollBottom()">scroll bottom</button>\n\n<div class="viewport">\n  <div *uiScroll="let item of datasource">\n    <div class="item">{{item.text}}</div>\n  </div>\n</div>'},{name:Vw.Component,text:"datasource = new Datasource({\n  get: (index, count, success) => {\n    const data = [];\n    for (let i = index; i < index + count; i++) {\n      data.push({ id: i, text: 'item #' + i });\n    }\n    success(data);\n  }\n});\n\n  scrollTop() {\n    this.datasource.adapter.fix({ scrollPosition: 0 });\n  }\n\n  scrollBottom() {\n    this.datasource.adapter.fix({ scrollPosition: +Infinity });\n  }\n"}],this.adapterFixPosition="Adapter.fix({ scrollPosition: 0 })"}return e.prototype.scrollTop=function(){this.datasource.adapter.fix({scrollPosition:0})},e.prototype.scrollBottom=function(){this.datasource.adapter.fix({scrollPosition:1/0})},e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=at({type:e,selectors:[["app-adapter-fix-position"]],decls:54,vars:3,consts:[[3,"datasource","context","sources"],["actions",""],[1,"comment"],[3,"click"],["description",""]],template:function(e,t){1&e&&(Sa(0,"app-demo",0),Sa(1,"div",1),Sa(2,"div",2),ss(3,"Available since v1.2.4, undocumented"),Ia(),Sa(4,"button",3),Ma("click",function(){return t.scrollTop()}),ss(5,"scroll top"),Ia(),Sa(6,"button",3),Ma("click",function(){return t.scrollBottom()}),ss(7,"scroll bottom"),Ia(),Ia(),Sa(8,"div",4),Sa(9,"p"),ss(10," The first option of the "),Sa(11,"em"),ss(12,"Adapter.fix"),Ia(),ss(13," method is "),Sa(14,"em"),ss(15,"scrollPosition"),Ia(),ss(16,". It allows to change the position of the viewport's scrollbar programmatically. It is used in the lib tests. "),Ia(),Sa(17,"p"),ss(18," The value of "),Sa(19,"em"),ss(20,"scrollPosition"),Ia(),ss(21," should be an integer or Infinity. Negative value would be treated as zero. Despite the browsers have no agreement on how to deal with setting "),Sa(22,"em"),ss(23,"scrollTop"),Ia(),ss(24,"/"),Sa(25,"em"),ss(26,"scrollLeft"),Ia(),ss(27," properties into "),Sa(28,"em"),ss(29,"+/-Infinity"),Ia(),ss(30,", the "),Sa(31,"em"),ss(32,"uiScroll"),Ia(),ss(33," treats them as follows: "),Ia(),Sa(34,"ul"),Sa(35,"li"),ss(36," scroll to the beginning of the viewport if "),Sa(37,"em"),ss(38,"-Infinity"),Ia(),ss(39,", (the value will be set to "),Sa(40,"em"),ss(41,"0"),Ia(),ss(42,") "),Ia(),Sa(43,"li"),ss(44," scroll to the end of the viewport if "),Sa(45,"em"),ss(46,"Infinity"),Ia(),ss(47," (scroll position will be set into the viewport's "),Sa(48,"em"),ss(49,"scrollHeight"),Ia(),ss(50," or "),Sa(51,"em"),ss(52,"scrollWidth"),Ia(),ss(53," value) "),Ia(),Ia(),Ia(),Ia()),2&e&&_a("datasource",t.datasource)("context",t.demoContext)("sources",t.sources)},directives:[ex],encapsulation:2}),e}(),Sk=function(e){return["/",e]},Ik=function(){function e(){this.demoContext={config:Tw.experimental.map.adapterFixUpdater,noInfo:!0},this.adapterScope=Tw.adapter,this.datasource=new Cm({get:function(e,t,n){for(var r=[],i=e;i<e+t;i++)r.push({id:i,text:"item #"+i});n(r)}}),this.sources=[{name:Vw.Template,text:'<button (click)="doUpdate()">Update</button> item #\n<input [(ngModel)]="inputValue" size="2">\n<div>Items in buffer: {{this.countItems()}}</div>\n\n<div class="viewport">\n  <div *uiScroll="let item of datasource">\n    <div class="item">{{item.text}}</div>\n  </div>\n</div>'},{name:Vw.Component,text:"inputValue = '5'\n\ndatasource = new Datasource<IAdapter<MyItem>>({\n  get: (index, count, success) => {\n    const data: MyItem[] = [];\n    for (let i = index; i < index + count; i++) {\n      data.push({ id: i, text: 'item #' + i });\n    }\n    success(data);\n  }\n});\n\ndoUpdate() {\n  const index = Number(this.inputValue);\n  if (!isNaN(index)) {\n    this.datasource.adapter.fix({\n      updater: ({ $index, data }) => {\n        if (index === $index) {\n          data.text += '*';\n        }\n      }\n    });\n  }\n}\n\ncountItems() {\n  let count = 0;\n  this.datasource.adapter.fix({\n    updater: ({}) => count++\n  });\n  return count;\n}\n"}],this.itemAdapterDescription="  ItemAdapter {\n    $index: number;\n    data: any;\n    element?: HTMLElement;\n  }",this.adapterFixUpdater="Adapter.fix({ updater })",this.inputValue="5"}return e.prototype.doUpdate=function(){var e=Number(this.inputValue);isNaN(e)||this.datasource.adapter.fix({updater:function(t){e===t.$index&&(t.data.text+="*")}})},e.prototype.countItems=function(){var e=0;return this.datasource.adapter.fix({updater:function(t){return e++}}),e},e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=at({type:e,selectors:[["app-adapter-fix-updater"]],decls:90,vars:22,consts:[[3,"datasource","context","sources"],["actions",""],[1,"comment"],[3,"click"],["size","2",3,"ngModel","ngModelChange"],["description",""],[3,"routerLink","fragment"]],template:function(e,t){1&e&&(Sa(0,"app-demo",0),Sa(1,"div",1),Sa(2,"div",2),ss(3,"Available since v1.3.1, undocumented"),Ia(),Sa(4,"button",3),Ma("click",function(){return t.doUpdate()}),ss(5,"Update"),Ia(),ss(6," item # "),Sa(7,"input",4),Ma("ngModelChange",function(e){return t.inputValue=e}),Ia(),Sa(8,"div"),ss(9),Ia(),Ia(),Sa(10,"div",5),Sa(11,"p"),ss(12," The "),Sa(13,"em"),ss(14,"Adapter.fix"),Ia(),ss(15," method could be invoked with "),Sa(16,"em"),ss(17,"updater"),Ia(),ss(18," option which is a function that is applied to each element in current "),Sa(19,"em"),ss(20,"uiScroll"),Ia(),ss(21," buffer list and allows to update buffered items on the fly. The argument of the "),Sa(22,"em"),ss(23,"updater"),Ia(),ss(24," function is an object of special "),Sa(25,"em"),ss(26,"ItemAdapter"),Ia(),ss(27," type "),Ia(),Sa(28,"pre"),ss(29),Ia(),Sa(30,"p"),ss(31," The "),Sa(32,"em"),ss(33,"data"),Ia(),ss(34," is exactly what the "),Sa(35,"em"),ss(36,"Datasource"),Ia(),ss(37," sends to the "),Sa(38,"em"),ss(39,"uiScroll"),Ia(),ss(40," as the items contents. So we have an access to the items inside the "),Sa(41,"em"),ss(42,"uiScroll"),Ia(),ss(43," buffer, and in this demo we update the "),Sa(44,"em"),ss(45,"text"),Ia(),ss(46," of selected item by its index. If we destroy the updated item by scrolling out and then scroll back, we will see that our update is gone. Speaking generally, we need to care about datasource consistency and every update we want to be applied to the "),Sa(47,"em"),ss(48,"uiScroll"),Ia(),ss(49," buffer should also happen at the datasource level. The examples of Datasource-Adapter synching can be found "),Sa(50,"a",6),ss(51,"here"),Ia(),ss(52,", "),Sa(53,"a",6),ss(54,"here"),Ia(),ss(55," and "),Sa(56,"a",6),ss(57,"here"),Ia(),ss(58,". "),Ia(),Sa(59,"p"),ss(60," The "),Sa(61,"em"),ss(62,"Adapter.fix({ updater })"),Ia(),ss(63," usage can be very diverse. For example, we may not change anything in the buffer, but gather some statistic. In this demo "),Sa(64,"em"),ss(65,"countItems"),Ia(),ss(66," method uses "),Sa(67,"em"),ss(68,"updater"),Ia(),ss(69," to get a number of items in the buffer at a particular moment. The result is equal to the value of "),Sa(70,"em"),ss(71,"Adapter.itemsCount"),Ia(),ss(72," read-only property ("),Sa(73,"a",6),ss(74,"link"),Ia(),ss(75,"). Also, I would not recommend to bind "),Sa(76,"em"),ss(77,"countItems"),Ia(),ss(78,"-like methods with the template as it is in this demo, for it might affect the performance. "),Ia(),Sa(79,"p"),ss(80," The "),Sa(81,"em"),ss(82,"Adapter.fix"),Ia(),ss(83," method has the second argument "),Sa(84,"em"),ss(85,"update"),Ia(),ss(86," (available since v2.0.0-rc.6) which is a function that can be invoked in case the "),Sa(87,"em"),ss(88,"Buffer.items"),Ia(),ss(89," array reference needs to be updated. "),Ia(),Ia(),Ia()),2&e&&(_a("datasource",t.datasource)("context",t.demoContext)("sources",t.sources),Hi(7),_a("ngModel",t.inputValue),Hi(2),cs("Items in buffer: ",t.countItems(),""),Hi(20),us(t.itemAdapterDescription),Hi(21),Fa("fragment",t.adapterScope.map.appendPrependSync.id),_a("routerLink",Mu(14,Sk,t.adapterScope.id)),Hi(3),Fa("fragment",t.adapterScope.map.remove.id),_a("routerLink",Mu(16,Sk,t.adapterScope.id)),Hi(3),Fa("fragment",t.adapterScope.map.insert.id),_a("routerLink",Mu(18,Sk,t.adapterScope.id)),Hi(17),Fa("fragment",t.adapterScope.map.itemsCount.id),_a("routerLink",Mu(20,Sk,t.adapterScope.id)))},directives:[ex,Sd,qd,kh,Kb],encapsulation:2}),e}(),Tk=function(){function e(){this.demoContext={config:Tw.experimental.map.adapterFixScrollToItem,noInfo:!0},this.datasource=new Cm({get:function(e,t,n){for(var r=[],i=e;i<e+t;i++)r.push({id:i,text:"item #"+i});n(r)}}),this.sources=[{name:Vw.Template,text:'<button (click)="doScrollTo()">Scroll to</button> item #\n<input [(ngModel)]="index" size="2">\n<input type="checkbox" [(ngModel)]="scrollToBottom"> - scroll to bottom\n\n<div class="viewport">\n  <div *uiScroll="let item of datasource">\n    <div class="item">{{item.text}}</div>\n  </div>\n</div>'},{name:Vw.Component,text:"index = '5'\nscrollToBottom = false;\n\ndatasource = new Datasource<IAdapter<MyItem>>({\n  get: (index, count, success) => {\n    const data: MyItem[] = [];\n    for (let i = index; i < index + count; i++) {\n      data.push({ id: i, text: 'item #' + i });\n    }\n    success(data);\n  }\n});\n\ndoScrollTo() {\n  const index = Number(this.index);\n  const alignToTop = !Boolean(this.scrollToBottom);\n  if (!isNaN(index)) {\n    this.datasource.adapter.fix({\n      scrollToItem: ({ data }) => data.id === index,\n      scrollToItemOpt: alignToTop\n    });\n  }\n}\n"}],this.adapterFixUpdater="Adapter.fix({ scrollToItem })",this.index="5",this.scrollToBottom=!1}return e.prototype.doScrollTo=function(){var e=Number(this.index),t=!Boolean(this.scrollToBottom);isNaN(e)||this.datasource.adapter.fix({scrollToItem:function(t){return t.data.id===e},scrollToItemOpt:t})},e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=at({type:e,selectors:[["app-adapter-fix-scroll-to-item"]],decls:34,vars:5,consts:[[3,"datasource","context","sources"],["actions",""],[1,"comment"],[3,"click"],["size","2",3,"ngModel","ngModelChange"],["type","checkbox",3,"ngModel","ngModelChange"],["description",""],["href","https://developer.mozilla.org/en-US/docs/Web/API/Element/scrollIntoView"]],template:function(e,t){1&e&&(Sa(0,"app-demo",0),Sa(1,"div",1),Sa(2,"div",2),ss(3,"Available since v1.6.2, undocumented"),Ia(),Sa(4,"button",3),Ma("click",function(){return t.doScrollTo()}),ss(5,"Scroll to"),Ia(),ss(6," item # "),Sa(7,"input",4),Ma("ngModelChange",function(e){return t.index=e}),Ia(),Ta(8,"br"),Sa(9,"input",5),Ma("ngModelChange",function(e){return t.scrollToBottom=e}),Ia(),ss(10," - scroll to bottom "),Ia(),Sa(11,"div",6),Sa(12,"p"),ss(13," What if we want to scroll to a specific item in the viewport? This can be done via "),Sa(14,"em"),ss(15,"scrollToItem"),Ia(),ss(16," option of the "),Sa(17,"em"),ss(18,"Adapter.fix"),Ia(),ss(19," method. This option specifies an item predicate function, and the first item in the Buffer, that satisfies this predicate, will be the item to which the viewport will scroll. "),Ia(),Sa(20,"p"),ss(21," Scrolling is performed via "),Sa(22,"em"),ss(23,"element.scrollIntoView()"),Ia(),ss(24," native DOM Element interface's method. According to its specification, it accepts 1 optional argument which can be a Boolean parameter or special Object parameter (details can be found on "),Sa(25,"a",7),ss(26,"MDN"),Ia(),ss(27,"). To provide this option, the "),Sa(28,"em"),ss(29,"Adapter.fix"),Ia(),ss(30," method handles another property of its argument object: "),Sa(31,"em"),ss(32,"scrollToItemOpt"),Ia(),ss(33,". The demo shows how to use it. "),Ia(),Ia(),Ia()),2&e&&(_a("datasource",t.datasource)("context",t.demoContext)("sources",t.sources),Hi(7),_a("ngModel",t.index),Hi(2),_a("ngModel",t.scrollToBottom))},directives:[ex,Sd,qd,kh,kd],encapsulation:2}),e}(),Ak=function(){function e(){var e=this;this.demoContext={config:Tw.experimental.map.onBeforeClipSetting,viewportId:"onBeforeClip-setting-viewport",log:"",count:0},this.datasource=new Cm({get:function(e,t,n){for(var r=[],i=e;i<=e+t-1;i++)r.push({id:i,text:"item #"+i});n(r)},settings:{bufferSize:25,onBeforeClip:function(t){var n=++e.demoContext.count+") clipping "+t.length+" items ["+t[0].$index+".."+t[t.length-1].$index+"]\n";e.demoContext.log=n+e.demoContext.log}}}),this.sources=[{name:Vw.Datasource,active:!0,text:"datasource = new Datasource({\n  get: (index, count, success) => {\n    const data = [];\n    for (let i = index; i <= index + count - 1; i++) {\n      data.push({ id: i, text: 'item #' + i });\n    }\n    success(data);\n  },\n  settings: {\n    bufferSize: 25,\n    onBeforeClip: (items) => {\n      const range = `[${items[0].$index}..${items[items.length - 1].$index}]`;\n      const text = `clipping ${items.length} items ${range}`;\n      console.log(text);\n    }\n  }\n})"},{name:Vw.Template,text:'<button (click)="datasource.adapter.clip()">Clip now</button>\n\n<div class="viewport">\n  <div *uiScroll="let item of datasource">\n    <div class="item">{{item.text}}</div>\n  </div>\n</div>'}],this.argumentDescription="  onBeforeClip: (items: {\n    $index: number,\n    data: any,\n    element?: HTMLElement\n  }[]) => void"}return e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=at({type:e,selectors:[["app-on-before-clip-setting"]],decls:24,vars:4,consts:[[3,"datasource","context","sources"],["actions",""],[1,"comment"],[3,"click"],["description",""]],template:function(e,t){1&e&&(Sa(0,"app-demo",0),Sa(1,"div",1),Sa(2,"div",2),ss(3,"Available since v1.9.0, undocumented"),Ia(),Sa(4,"button",3),Ma("click",function(){return t.datasource.adapter.clip()}),ss(5,"Clip"),Ia(),Ia(),Sa(6,"div",4),Sa(7,"p"),Sa(8,"em"),ss(9,"onBeforeClip"),Ia(),ss(10," setting allows to run some code at the moment when 1 or more items are to clip out of the viewport. The code will run synchronously. Clipping cannot be cancelled. It is like to "),Sa(11,"em"),ss(12,"OnDestroy"),Ia(),ss(13," Angular lifecycle hook, but it is triggered before the elements are removed from DOM. "),Ia(),Sa(14,"p"),ss(15," The log in this demo shows exactly what the "),Sa(16,"em"),ss(17,"onBeforeClip"),Ia(),ss(18," method sends to the console. The argument of the callback is the array of items of "),Sa(19,"em"),ss(20,"ItemAdapter"),Ia(),ss(21," type: "),Ia(),Sa(22,"pre"),ss(23),Ia(),Ia(),Ia()),2&e&&(_a("datasource",t.datasource)("context",t.demoContext)("sources",t.sources),Hi(23),us(t.argumentDescription))},directives:[ex],encapsulation:2}),e}(),Ek=function(){function e(){this.scope=Tw.experimental.map,this.base="../"+Tw.experimental.id,this.adapterFixArgumentDescription="  interface AdapterFixOptions {\n    scrollPosition?: number;\n    minIndex?: number;\n    maxIndex?: number;\n    updater?: (item: ItemAdapter, update: () => void) => void;\n    scrollToItem?: (item: ItemAdapter) => boolean;\n    scrollToItemOpt?: boolean | ScrollIntoViewOptions;\n  }"}return e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=at({type:e,selectors:[["app-experimental"]],decls:37,vars:16,consts:[[3,"routerLink","fragment"]],template:function(e,t){1&e&&(Sa(0,"h1"),ss(1,"Angular UI Scroll Experimental Demos"),Ia(),Sa(2,"p"),ss(3," There are some undocumented settings and Adapter methods that provide additional flexibility. We can consider them as experimental features. Most of these features are not tested well and may have some side effects or behave imperfectly.\n"),Ia(),Sa(4,"ul"),Sa(5,"li"),Sa(6,"a",0),ss(7),Ia(),Ia(),Sa(8,"li"),Sa(9,"a",0),ss(10),Ia(),Ia(),Sa(11,"li"),ss(12,"fix adapter method: "),Sa(13,"a",0),ss(14,"position"),Ia(),ss(15,", "),Sa(16,"a",0),ss(17,"updater"),Ia(),ss(18,", "),Sa(19,"a",0),ss(20,"scroll to item"),Ia(),Ia(),Sa(21,"li"),Sa(22,"a",0),ss(23),Ia(),Ia(),Ia(),Sa(24,"p"),ss(25," For example, "),Sa(26,"em"),ss(27,"Adapter.fix"),Ia(),ss(28," method. It has different options for different cases which are discussed below. These options are passed as an object of the following type:\n"),Ia(),Sa(29,"pre"),ss(30),Ia(),Ta(31,"app-viewport-element-setting"),Ta(32,"app-inverse-setting"),Ta(33,"app-adapter-fix-position"),Ta(34,"app-adapter-fix-updater"),Ta(35,"app-adapter-fix-scroll-to-item"),Ta(36,"app-on-before-clip-setting")),2&e&&(Hi(6),Fa("routerLink",t.base),Fa("fragment",t.scope.viewportElementSetting.id),Hi(1),cs(" ",t.scope.viewportElementSetting.name," "),Hi(2),Fa("routerLink",t.base),Fa("fragment",t.scope.inverseSetting.id),Hi(1),cs(" ",t.scope.inverseSetting.name," "),Hi(3),Fa("routerLink",t.base),Fa("fragment",t.scope.adapterFixPosition.id),Hi(3),Fa("routerLink",t.base),Fa("fragment",t.scope.adapterFixUpdater.id),Hi(3),Fa("routerLink",t.base),Fa("fragment",t.scope.adapterFixScrollToItem.id),Hi(3),Fa("routerLink",t.base),Fa("fragment",t.scope.onBeforeClipSetting.id),Hi(1),cs(" ",t.scope.onBeforeClipSetting.name," "),Hi(7),us(t.adapterFixArgumentDescription))},directives:[Kb,kk,_k,Ck,Ik,Tk,Ak],encapsulation:2}),e}();function Ok(e,t){if(1&e&&(Sa(0,"div",5),Sa(1,"b"),ss(2),Ia(),Sa(3,"span"),ss(4),Ia(),Ia()),2&e){var n=t.$implicit;Hi(2),us(n.text),Hi(1),Za("color",n.color),Hi(1),cs(" ",n.data," ")}}function Mk(e,t){if(1&e&&(Sa(0,"div"),wa(1,Ok,5,4,"div",4),Ia()),2&e){var n=Na();Hi(1),_a("uiScrollOf",n.datasource)}}var Dk=function(){function e(){var e=this;this.datasource=new Cm({get:function(e,t,n){var r=Math.max(e,1),i=Math.min(e+t-1,500),o=[];if(r<=i)for(var a=r;a<=i;a++){var s={data:"",text:"item #"+a,color:"black",height:20};a%15==0&&(s.data=Array.from({length:7*Math.random()+3},function(e,t){return"*"}).join(""),s.color=a%30==0?"red":"black"),o.push(s)}n(o)},settings:{startIndex:1,padding:.25,bufferSize:1,itemSize:20,minIndex:1,windowViewport:!0}}),setTimeout(function(){return e.init=!0})}return e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=at({type:e,selectors:[["app-samples-window"]],decls:9,vars:4,consts:[[1,"header"],["routerLink","/",1,"navbar-link"],[1,"top-visible"],[4,"ngIf"],["style","height: 20px;",4,"uiScroll","uiScrollOf"],[2,"height","20px"]],template:function(e,t){var n;1&e&&(Sa(0,"div",0),Sa(1,"h1"),ss(2,"Entire window scrolling demo"),Ia(),Sa(3,"a",1),ss(4,"Home"),Ia(),Ia(),Sa(5,"div",2),ss(6),Pu(7,"async"),Ia(),wa(8,Mk,2,1,"div",3)),2&e&&(Hi(6),cs(" Top visible: ",null==(n=Vu(7,2,t.datasource.adapter.firstVisible$))?null:n.$index,"\n"),Hi(2),_a("ngIf",t.init))},directives:[Kb,Ol,wm],pipes:[jl],encapsulation:2}),e}(),Rk=["*"],Pk=["viewport"];function Vk(e,t){if(1&e){var n=Aa();Sa(0,"div",1),Ma("click",function(){tn(n);var e=t.$implicit;return Na().doToggleItem(e)}),Sa(1,"app-samples-test-inner"),ss(2),Sa(3,"span"),ss(4),Ia(),Ia(),Ia()}if(2&e){var r=t.$implicit;Za("height",r.height+"px"),Hi(2),cs(" ",r.text," "),Hi(1),Za("color",r.color),Hi(1),cs(" ",r.isSelected?"********":""," ")}}var Nk=-199,jk=function(){function e(){}return e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=at({type:e,selectors:[["app-samples-test-inner"]],ngContentSelectors:Rk,decls:2,vars:0,template:function(e,t){1&e&&(za(),Sa(0,"b"),La(1),Ia())},encapsulation:2}),e}(),zk=[{path:"",component:ax},{path:"settings",component:xx},{path:"adapter",component:sk},{path:"datasource",component:xk},{path:"experimental",component:Ek},{path:"window",component:Dk},{path:"test",component:function(){function e(){var e=this;this.reloadIndex=1,this.sizeIndex=1,this.sizeValue=10,this.datasourceDelay=0,this.datasource=new Cm({get:function(t,n){return e.fetchData(t,n)},settings:{padding:.1,bufferSize:10,itemSize:100,startIndex:1,viewportElement:function(){return e.viewportRef.nativeElement}},devSettings:{debug:!0,immediateLog:!0,logTime:!1,logProcessRun:!0,throttle:40,changeOverflow:!1}}),this.generateData()}return e.prototype.generateData=function(){this.data=[];for(var e=0;e<=50-Nk;e++){var t={id:e+Nk,text:"item #"+(e+Nk),isSelected:e%15==0,height:Math.max(5,20+e+Nk)};t.isSelected&&(t.data=Array.from({length:7*Math.random()+3},function(e,t){return"*"}).join(""),t.color=e%30==0?"red":"black"),this.data.push(t)}},e.prototype.fetchData=function(e,t){var n=this,r=[],i=Math.max(Nk,e),o=Math.min(50,e+t-1);if(i<=o)for(var a=i;a<=o;a++)r.push(this.data[a-Nk]);return new L(function(e){n.datasourceDelay?setTimeout(function(){return e.next(r)},n.datasourceDelay):e.next(r)})},e.prototype.getVisibleItemsCount=function(){var e=this.datasource.adapter,t=e.lastVisible.$index;t=Number.isInteger(t)?t:NaN;var n=e.firstVisible.$index;return n=Number.isInteger(n)?n:NaN,Number.isNaN(t)||Number.isNaN(n)?0:t-n+1},e.prototype.getViewportElement=function(){return document.getElementsByClassName("viewport")[0]},e.prototype.doScroll=function(e,t,n){var r=this,i=this.getViewportElement();setTimeout(function(){i.scrollTop-=n,--e>0&&r.doScroll(e,t,n)},t)},e.prototype.doReload=function(){this.datasource.adapter.reload(this.reloadIndex)},e.prototype.doPrepend=function(){var e={id:--Nk,text:"item #"+Nk,isSelected:!1,height:25};this.data.unshift(e),this.datasource.adapter.prepend(e,!0)},e.prototype.doScrollHome=function(){this.getViewportElement().scrollTop=0},e.prototype.doScrollEnd=function(){this.getViewportElement().scrollTop=999999},e.prototype.doScrollSome=function(){var e=this.getViewportElement().scrollTop;this.getViewportElement().scrollTop=e+300},e.prototype.doChangeSize=function(){var e=document.getElementById("my-viewport"),t=Number(this.sizeIndex);if(!isNaN(t)&&e){for(var n=function(t){var n=e.querySelector('[data-sid="'+t+'"]');if(n){n.style.height=r.sizeValue+"px";var i=r.data.find(function(e){return e.id===t});i&&(i.height=r.sizeValue)}},r=this,i=t;i<t+5;i++)n(i);this.datasource.adapter.check()}},e.prototype.doLog=function(){this.datasource.adapter.showLog()},e.prototype.doToggleItem=function(e){this.datasource.adapter.fix({updater:function(t){var n=t.data;e.id===n.id&&(n.isSelected=!n.isSelected)}})},e.prototype.autoscroll=function(){var e=this.datasource.adapter,t=e.isLoading$.subscribe(function(n){var r=document.getElementById("my-viewport"),i=e.lastVisible.element;if(!n&&r&&i&&i.getBoundingClientRect){var o=i.getBoundingClientRect().bottom,a=r.getBoundingClientRect().bottom,s=r.scrollTop-(a-o);r.scrollTop===s?t.unsubscribe():(e.fix({scrollPosition:s}),r.scrollTop===s&&t.unsubscribe())}})},e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=at({type:e,selectors:[["app-samples-test"]],viewQuery:function(e,t){var n,r,i,o;1&e&&(r=Pk,i=!0,function(e,t,n,r,i,o){e.firstCreatePass&&(Yu(e,new Uu(n,r,!0,i),-1),e.staticViewQueries=!0),Ku(e,t)}(en(),Jt(),r,i,o)),2&e&&Xu(n=Qu())&&(t.viewportRef=n.first)},decls:52,vars:19,consts:[[2,"width","50px",3,"ngModel","ngModelChange"],[3,"click"],["id","my-viewport",1,"viewport",2,"height","600px"],["viewport",""],[3,"height","click",4,"uiScroll","uiScrollOf"]],template:function(e,t){var n,r;1&e&&(Sa(0,"div"),Sa(1,"input",0),Ma("ngModelChange",function(e){return t.datasourceDelay=e}),Ia(),ss(2," - "),Sa(3,"small"),ss(4,"datasource delay"),Ia(),Ta(5,"br"),Sa(6,"input",0),Ma("ngModelChange",function(e){return t.reloadIndex=e}),Ia(),ss(7," - "),Sa(8,"small"),ss(9,"reload index"),Ia(),Ta(10,"br"),Sa(11,"button",1),Ma("click",function(){return t.doReload()}),ss(12,"Reload"),Ia(),Sa(13,"button",1),Ma("click",function(){return t.doPrepend()}),ss(14,"Prepend"),Ia(),Sa(15,"button",1),Ma("click",function(){return t.doLog()}),ss(16,"Show log"),Ia(),Ta(17,"br"),Sa(18,"button",1),Ma("click",function(){return t.doScrollHome()}),ss(19,"Up"),Ia(),Sa(20,"button",1),Ma("click",function(){return t.doScrollEnd()}),ss(21,"Down"),Ia(),Sa(22,"button",1),Ma("click",function(){return t.doScrollSome()}),ss(23,"Some"),Ia(),Ta(24,"br"),Sa(25,"input",0),Ma("ngModelChange",function(e){return t.sizeIndex=e}),Ia(),Sa(26,"button",1),Ma("click",function(){return t.doChangeSize()}),ss(27,"Size"),Ia(),Ta(28,"br"),Sa(29,"small"),ss(30),Ia(),Ta(31,"br"),Sa(32,"small"),ss(33),Pu(34,"async"),Ia(),Ta(35,"br"),Sa(36,"small"),ss(37),Pu(38,"async"),Ia(),Ta(39,"br"),Sa(40,"small"),ss(41),Pu(42,"async"),Ia(),Ta(43,"br"),Sa(44,"small"),ss(45),Ia(),Ta(46,"br"),Ta(47,"br"),Ia(),Sa(48,"div",2,3),Sa(50,"div"),wa(51,Vk,5,6,"div",4),Ia(),Ia()),2&e&&(Hi(1),_a("ngModel",t.datasourceDelay),Hi(5),_a("ngModel",t.reloadIndex),Hi(19),_a("ngModel",t.sizeIndex),Hi(5),cs("ngx-ui-scroll version: ",t.datasource.adapter.version,""),Hi(3),ls("isLoading: ",t.datasource.adapter.isLoading," (",Vu(34,13,t.datasource.adapter.isLoading$),") "),Hi(4),ls("first visible: ",t.datasource.adapter.firstVisible.$index," (",null==(n=Vu(38,15,t.datasource.adapter.firstVisible$))?null:n.$index,") "),Hi(4),ls("last visible: ",t.datasource.adapter.lastVisible.$index," (",null==(r=Vu(42,17,t.datasource.adapter.lastVisible$))?null:r.$index,") "),Hi(4),ls("total: ",t.datasource.adapter.itemsCount,", visible: ",t.getVisibleItemsCount()," "),Hi(6),_a("uiScrollOf",t.datasource))},directives:[Sd,qd,kh,wm,jk],pipes:[jl],encapsulation:2}),e}()},{path:"**",redirectTo:"",pathMatch:"full"}],Lk=function(){function e(){}return e.\u0275mod=lt({type:e}),e.\u0275inj=Ee({factory:function(t){return new(t||e)},imports:[[dw.forRoot(zk,{useHash:!0})],dw]}),e}(),Fk=function(){function e(){}return e.\u0275mod=lt({type:e,bootstrap:[Pw]}),e.\u0275inj=Ee({factory:function(t){return new(t||e)},providers:[tx],imports:[[yd,Ch,cf,yf.forRoot(),bf,Lk]]}),e}();(function(){if(Pc)throw new Error("Cannot enable prod mode after platform setup.");Rc=!1})(),md().bootstrapModule(Fk).catch(function(e){return console.log(e)})},0:function(e,t,n){e.exports=n("/o+h")},RnVd:function(e,t){function n(e){return Promise.resolve().then(function(){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t})}n.keys=function(){return[]},n.resolve=n,e.exports=n,n.id="RnVd"}},[[0,0]]]);
//# sourceMappingURL=main.7592f13d349c7e28a7b1.js.map